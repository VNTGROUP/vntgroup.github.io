!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://at-app.cdntvn.pl/package/web/main/1.14.2",n(n.s=65)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(67)},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var i=n(66);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var i=n(6),r=n(3);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},function(t,e){function n(t,e,n,i,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,c,"next",t)}function c(t){n(a,r,o,s,c,"throw",t)}s(void 0)}))}}},,function(t,e,n){"use strict";function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(t,Error)}}function r(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function d(t){return"undefined"!=typeof Event&&v(t,Event)}function l(t){return"undefined"!=typeof Element&&v(t,Element)}function h(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function f(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"m",(function(){return p})),n.d(e,"l",(function(){return f})),n.d(e,"g",(function(){return v}))},function(t,e,n){"use strict";(function(t,i,r){n.d(e,"i",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"m",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"l",(function(){return k})),n.d(e,"j",(function(){return E})),n.d(e,"e",(function(){return C}));var o=n(12);n(19);function a(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var s={};function c(){return a()?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function u(){var t=c(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function d(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function l(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function h(t){var e=c();if(!("console"in e))return t();var n=e.console,i={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)}));var r=t();return Object.keys(i).forEach((function(t){n[t]=i[t]})),r}function p(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function f(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function v(){try{return document.location.href}catch(t){return""}}function g(t){try{for(var e=t,n=[],i=0,r=0,o=" > ".length,a=void 0;e&&i++<5&&!("html"===(a=m(e))||i>1&&r+n.length*o+a.length>=80);)n.push(a),r+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function m(t){var e,n,i,r,a,s=t,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(e=s.className)&&Object(o.k)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(r=s.getAttribute(i))&&c.push("["+i+'="'+r+'"]');return c.join("")}var b=Date.now(),y=0,A={now:function(){var t=Date.now()-b;return t<y&&(t=y),y=t,t},timeOrigin:b},w=function(){if(a())try{return(t="perf_hooks",r.require(t)).performance}catch(t){return A}var t,e=c().performance;return e&&e.now?(void 0===e.timeOrigin&&(e.timeOrigin=e.timing&&e.timing.navigationStart||b),e):A}();function k(){return(w.timeOrigin+w.now())/1e3}function E(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+e);return isNaN(i)?6e4:i-t}function C(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}}).call(this,n(25),n(15),n(96)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return v}));n(9);var i=n(12),r=n(58),o=n(13),a=n(19);function s(t,e,n){if(e in t){var i=t[e],r=n(i);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:i}})}catch(t){}t[e]=r}}function c(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function u(t){if(Object(i.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Object(i.f)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(i.c)(a.target)?Object(o.h)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=Object(i.c)(a.currentTarget)?Object(o.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(i.g)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return t}function d(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function l(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var i=f(t,e);return d(i)>n?l(t,e-1,n):i}function h(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(i.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(o.e)(e)+"]":e}function p(t,e,n,o){if(void 0===n&&(n=1/0),void 0===o&&(o=new r.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=h(t);return Object(i.i)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var a=h(e,t);if(Object(i.i)(a))return a;var s=u(e),c=Array.isArray(e)?[]:{};if(o.memoize(e))return"[Circular ~]";for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=p(d,s[d],n-1,o));return o.unmemoize(e),c}function f(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return p(t,n,e)})))}catch(t){return"**non-serializable**"}}function v(t,e){void 0===e&&(e=40);var n=Object.keys(u(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a.d)(n[0],e);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:Object(a.d)(r,e)}return""}}).call(this,n(15))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){"use strict";var i=n(28),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=Object.create(n(26));o.inherits=n(20);var a=n(44),s=n(36);o.inherits(l,a);for(var c=r(s.prototype),u=0;u<c.length;u++){var d=c[u];l.prototype[d]||(l.prototype[d]=s.prototype[d])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t){t.exports=JSON.parse('{"measuring":true,"adContainerVisibility":true,"adContainerMouseOver":true,"exitingPage":true}')},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var i=n(12);function r(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var n=t,i=n.length;if(i<=150)return n;e>i&&(e=i);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e){return!!Object(i.k)(t)&&(Object(i.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return!1!==e.clone&&e.isMergeableObject(t)?d((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function a(t,e,n){return t.concat(e).map((function(t){return o(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function c(t,e){try{return e in t}catch(t){return!1}}function u(t,e,n){var i={};return n.isMergeableObject(t)&&s(t).forEach((function(e){i[e]=o(t[e],n)})),s(e).forEach((function(r){(function(t,e){return c(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(c(t,r)&&n.isMergeableObject(e[r])?i[r]=function(t,e){if(!e.customMerge)return d;var n=e.customMerge(t);return"function"==typeof n?n:d}(r,n)(t[r],e[r],n):i[r]=o(e[r],n))})),i}function d(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=o;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):u(t,e,n):o(e,n)}d.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return d(t,n,e)}),{})};var l=d;t.exports=l},function(t,e,n){var i=n(91),r=n(92),o=n(49),a=n(93);t.exports=function(t){return i(t)||r(t)||o(t)||a()}},,function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(69),r=n(70),o=n(43);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(d(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(i)return q(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,i,r){var o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var d=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,h=0;h<c;h++)if(u(t,o+h)!==u(e,h)){l=!1;break}if(l)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function A(t,e,n,i){return U(q(e,t.length-n),t,n,i)}function w(t,e,n,i){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function k(t,e,n,i){return w(t,e,n,i)}function E(t,e,n,i){return U(V(e),t,n,i)}function C(t,e,n,i){return U(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function _(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,c,u=t[r],d=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(d=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(d=c);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(d=c)}null===d?(d=65533,l=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return d(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(i,r),d=t.slice(e,n),l=0;l<s;++l)if(u[l]!==d[l]){o=u[l],a=d[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return A(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function R(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=F(t[o]);return r}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function P(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function L(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,o){return o||L(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,o){return o||L(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:q(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(15))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,u=[],d=!1,l=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!d){var t=s(h);d=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(24).Buffer)},function(t){t.exports=JSON.parse('{"monitoringEnabled":true,"checkTimeDealy":700,"intervalDealy":200}')},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,i)}));case 4:return e.nextTick((function(){t.call(null,n,i,r)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(25))},function(t,e,n){var i=n(88),r=n(89),o=n(49),a=n(90);t.exports=function(t,e){return i(t)||r(t,e)||o(t,e)||a()}},function(t){t.exports=JSON.parse('{"ivcScript":"/rel/spot/ivc/v2-latest/assets/ivc.js","ivcStyles":"/rel/spot/ivc/v2-latest/assets/ivc.css"}')},function(t){t.exports=JSON.parse('{"adoceanUrl":"https://tvn.hit.gemius.pl/redot.gif?id=dwM7yYbss.9V9BbvTh1_w8RpHSD_cyNg8qLv_RwGzdr.M7/stparam=ldrpjwksub/fastid=fcjetuumsmvulijtwhrlhglzmlna/nc=0/sarg="}')},function(t){t.exports=JSON.parse('{"local":{"sentryHost":"https://0280650aea474bd98efc62a600e71a0f@robaki.services.tvn.pl/125","sampleRate":1},"stage":{"sentryHost":"https://950a423efaae404c88a6c294269f0f53@robaki.services.tvn.pl/128","sampleRate":1},"rc":{"sentryHost":"https://4e5297edd1d348d08da46f696a2988a4@robaki.services.tvn.pl/126","sampleRate":1},"portal":{"sentryHost":"https://1666e8b8d46a401dbbab9d683375a02a@robaki.services.tvn.pl/116","sampleRate":0.01}}')},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,i){function r(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,r),i(n)},t.once("error",o)),t.once(e,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function d(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,i){var r,o,a,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=d(t))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function f(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):g(r,r.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=r[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,d=g(c,u);for(n=0;n<u;++n)o(d[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,r,o,a;if(u(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){(e=t.exports=n(44)).Stream=e,e.Readable=e,e.Writable=n(36),e.Duplex=n(17),e.Transform=n(47),e.PassThrough=n(79)},function(t,e,n){var i=n(24),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,i,r){var o=n(28);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var s,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;b.WritableState=m;var u=Object.create(n(26));u.inherits=n(20);var d={deprecate:n(77)},l=n(45),h=n(35).Buffer,p=r.Uint8Array||function(){};var f,v=n(46);function g(){}function m(t,e){s=s||n(17),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,u=t.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(C,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),C(t,e))}(t,n,i,e,r);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?c(A,t,n,a,r):A(t,n,a,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(t){if(s=s||n(17),!(f.call(b,this)||this instanceof s))return new b(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function y(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function A(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),C(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,y(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,d=n.encoding,l=n.callback;if(y(t,e,!1,e.objectMode?1:u.length,u,d,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),C(t,e)}))}function C(t,e){var n=k(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(b,l),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===b&&(t&&t._writableState instanceof m)}})):f=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=t,h.isBuffer(i)||i instanceof p);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=g),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,t,n))&&(r.pendingcb++,a=function(t,e,n,i,r,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,i,r,o);return c}(this,r,s,t,e,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(25),n(75).setImmediate,n(15))},function(t,e,n){"use strict";var i=n(78).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=d,this.end=l,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function d(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){var i=n(39).isArray;t.exports={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||"number"!=typeof t.spaces&&"string"!=typeof t.spaces)&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||i(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}},function(t,e){t.exports={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}}},function(t,e,n){var i=n(42),r=n(84),o=n(48),a=n(85);t.exports={xml2js:i,xml2json:r,js2xml:o,json2xml:a}},function(t){t.exports=JSON.parse('{"incognitoDetection":true,"dntDetection":true}')},function(t,e,n){var i,r,o=n(68),a=n(38),s=n(39).isArray;function c(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function u(t,e){var n;if(i.compact){if(!r[i[t+"Key"]]&&(s(i.alwaysArray)?-1!==i.alwaysArray.indexOf(i[t+"Key"]):i.alwaysArray)&&(r[i[t+"Key"]]=[]),r[i[t+"Key"]]&&!s(r[i[t+"Key"]])&&(r[i[t+"Key"]]=[r[i[t+"Key"]]]),t+"Fn"in i&&"string"==typeof e&&(e=i[t+"Fn"](e,r)),"instruction"===t&&("instructionFn"in i||"instructionNameFn"in i))for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in i)e[n]=i.instructionFn(e[n],n,r);else{var o=e[n];delete e[n],e[i.instructionNameFn(n,o,r)]=o}s(r[i[t+"Key"]])?r[i[t+"Key"]].push(e):r[i[t+"Key"]]=e}else{r[i.elementsKey]||(r[i.elementsKey]=[]);var a={};if(a[i.typeKey]=t,"instruction"===t){for(n in e)if(e.hasOwnProperty(n))break;a[i.nameKey]="instructionNameFn"in i?i.instructionNameFn(n,e,r):n,i.instructionHasAttributes?(a[i.attributesKey]=e[n][i.attributesKey],"instructionFn"in i&&(a[i.attributesKey]=i.instructionFn(a[i.attributesKey],n,r))):("instructionFn"in i&&(e[n]=i.instructionFn(e[n],n,r)),a[i.instructionKey]=e[n])}else t+"Fn"in i&&(e=i[t+"Fn"](e,r)),a[i[t+"Key"]]=e;i.addParent&&(a[i.parentKey]=r),r[i.elementsKey].push(a)}}function d(t){var e;if("attributesFn"in i&&t&&(t=i.attributesFn(t,r)),(i.trim||"attributeValueFn"in i||"attributeNameFn"in i||i.nativeTypeAttributes)&&t)for(e in t)if(t.hasOwnProperty(e)&&(i.trim&&(t[e]=t[e].trim()),i.nativeTypeAttributes&&(t[e]=c(t[e])),"attributeValueFn"in i&&(t[e]=i.attributeValueFn(t[e],e,r)),"attributeNameFn"in i)){var n=t[e];delete t[e],t[i.attributeNameFn(e,t[e],r)]=n}return t}function l(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||i.instructionHasAttributes)){for(var n,o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=o.exec(t.body));)e[n[1]]=n[2]||n[3]||n[4];e=d(e)}if("xml"===t.name.toLowerCase()){if(i.ignoreDeclaration)return;r[i.declarationKey]={},Object.keys(e).length&&(r[i.declarationKey][i.attributesKey]=e),i.addParent&&(r[i.declarationKey][i.parentKey]=r)}else{if(i.ignoreInstruction)return;i.trim&&(t.body=t.body.trim());var a={};i.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][i.attributesKey]=e):a[t.name]=t.body,u("instruction",a)}}function h(t,e){var n;if("object"==typeof t&&(e=t.attributes,t=t.name),e=d(e),"elementNameFn"in i&&(t=i.elementNameFn(t,r)),i.compact){var o;if(n={},!i.ignoreAttributes&&e&&Object.keys(e).length)for(o in n[i.attributesKey]={},e)e.hasOwnProperty(o)&&(n[i.attributesKey][o]=e[o]);!(t in r)&&(s(i.alwaysArray)?-1!==i.alwaysArray.indexOf(t):i.alwaysArray)&&(r[t]=[]),r[t]&&!s(r[t])&&(r[t]=[r[t]]),s(r[t])?r[t].push(n):r[t]=n}else r[i.elementsKey]||(r[i.elementsKey]=[]),(n={})[i.typeKey]="element",n[i.nameKey]=t,!i.ignoreAttributes&&e&&Object.keys(e).length&&(n[i.attributesKey]=e),i.alwaysChildren&&(n[i.elementsKey]=[]),r[i.elementsKey].push(n);n[i.parentKey]=r,r=n}function p(t){i.ignoreText||(t.trim()||i.captureSpacesBetweenElements)&&(i.trim&&(t=t.trim()),i.nativeType&&(t=c(t)),i.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",t))}function f(t){i.ignoreComment||(i.trim&&(t=t.trim()),u("comment",t))}function v(t){var e=r[i.parentKey];i.addParent||delete r[i.parentKey],r=e}function g(t){i.ignoreCdata||(i.trim&&(t=t.trim()),u("cdata",t))}function m(t){i.ignoreDoctype||(t=t.replace(/^ /,""),i.trim&&(t=t.trim()),u("doctype",t))}function b(t){t.note=t}t.exports=function(t,e){var n=o.parser(!0,{}),s={};if(r=s,i=function(t){return i=a.copyOptions(t),a.ensureFlagExists("ignoreDeclaration",i),a.ensureFlagExists("ignoreInstruction",i),a.ensureFlagExists("ignoreAttributes",i),a.ensureFlagExists("ignoreText",i),a.ensureFlagExists("ignoreComment",i),a.ensureFlagExists("ignoreCdata",i),a.ensureFlagExists("ignoreDoctype",i),a.ensureFlagExists("compact",i),a.ensureFlagExists("alwaysChildren",i),a.ensureFlagExists("addParent",i),a.ensureFlagExists("trim",i),a.ensureFlagExists("nativeType",i),a.ensureFlagExists("nativeTypeAttributes",i),a.ensureFlagExists("sanitize",i),a.ensureFlagExists("instructionHasAttributes",i),a.ensureFlagExists("captureSpacesBetweenElements",i),a.ensureAlwaysArrayExists(i),a.ensureKeyExists("declaration",i),a.ensureKeyExists("instruction",i),a.ensureKeyExists("attributes",i),a.ensureKeyExists("text",i),a.ensureKeyExists("comment",i),a.ensureKeyExists("cdata",i),a.ensureKeyExists("doctype",i),a.ensureKeyExists("type",i),a.ensureKeyExists("name",i),a.ensureKeyExists("elements",i),a.ensureKeyExists("parent",i),a.checkFnExists("doctype",i),a.checkFnExists("instruction",i),a.checkFnExists("cdata",i),a.checkFnExists("comment",i),a.checkFnExists("text",i),a.checkFnExists("instructionName",i),a.checkFnExists("elementName",i),a.checkFnExists("attributeName",i),a.checkFnExists("attributeValue",i),a.checkFnExists("attributes",i),i}(e),n.opt={strictEntities:!0},n.onopentag=h,n.ontext=p,n.oncomment=f,n.onclosetag=v,n.onerror=b,n.oncdata=g,n.ondoctype=m,n.onprocessinginstruction=l,n.write(t).close(),s[i.elementsKey]){var c=s[i.elementsKey];delete s[i.elementsKey],s[i.elementsKey]=c,delete s.text}return s}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,i){var r=n(28);t.exports=y;var o,a=n(43);y.ReadableState=b;n(33).EventEmitter;var s=function(t,e){return t.listeners(e).length},c=n(45),u=n(35).Buffer,d=e.Uint8Array||function(){};var l=Object.create(n(26));l.inherits=n(20);var h=n(72),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,v=n(73),g=n(46);l.inherits(y,c);var m=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var i=e instanceof(o=o||n(17));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(37).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function y(t){if(o=o||n(17),!(this instanceof y))return new y(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function A(t,e,n,i,r){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,a)):(r||(o=function(t,e){var n;i=e,u.isBuffer(i)||i instanceof d||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):_(t,a)):w(t,a,e,!1))):i||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),_(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),A(this,t,e,!1,n)},y.prototype.unshift=function(t){return A(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return f||(f=n(37).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),R(t)}function _(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function x(t){p("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?r+=o:r+=o.slice(0,t),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(a));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):E(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&M(this),null;var i,r=e.needReadable;return p("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",r=!0),e.ended||e.reading?p("reading or ended",r=!1):r&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(i=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?d:y;function u(e,i){p("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",u),n.removeListener("end",d),n.removeListener("end",y),n.removeListener("data",v),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function d(){p("onend"),t.end()}o.endEmitted?r.nextTick(c):n.once("end",c),t.on("unpipe",u);var l=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(n);t.on("drain",l);var h=!1;var f=!1;function v(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==D(o.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(e){p("onerror",e),y(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",b),y()}function b(){p("onfinish"),t.removeListener("close",m),y()}function y(){p("unpipe"),n.unpipe(t)}return n.on("data",v),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",b),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=D(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},y.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&E(this):r.nextTick(x,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(T,t,e))}(this,t)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=O}).call(this,n(15),n(25))},function(t,e,n){t.exports=n(33).EventEmitter},function(t,e,n){"use strict";var i=n(28);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=a;var i=n(17),r=Object.create(n(26));function o(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);i.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(20),r.inherits(a,i),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){var i,r,o=n(38),a=n(39).isArray;function s(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function c(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,r,i));var o,a,c,u,d=[];for(o in t)t.hasOwnProperty(o)&&null!==t[o]&&void 0!==t[o]&&(u=e.noQuotesForNativeAttributes&&"string"!=typeof t[o]?"":'"',a=(a=""+t[o]).replace(/"/g,"&quot;"),c="attributeNameFn"in e?e.attributeNameFn(o,a,r,i):o,d.push(e.spaces&&e.indentAttributes?s(e,n+1,!1):" "),d.push(c+"="+u+("attributeValueFn"in e?e.attributeValueFn(a,o,r,i):a)+u));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&d.push(s(e,n,!1)),d.join("")}function u(t,e,n){return i=t,r="xml",e.ignoreDeclaration?"":"<?xml"+c(t[e.attributesKey],e,n)+"?>"}function d(t,e,n){if(e.ignoreInstruction)return"";var o;for(o in t)if(t.hasOwnProperty(o))break;var a="instructionNameFn"in e?e.instructionNameFn(o,t[o],r,i):o;if("object"==typeof t[o])return i=t,r=a,"<?"+a+c(t[o][e.attributesKey],e,n)+"?>";var s=t[o]?t[o]:"";return"instructionFn"in e&&(s=e.instructionFn(s,o,r,i)),"<?"+a+(s?" "+s:"")+"?>"}function l(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,r,i):t)+"--\x3e"}function h(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,r,i):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,r,i):t)+">"}function f(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,r,i):t)}function v(t,e,n,o){return t.reduce((function(t,a){var u=s(e,n,o&&!t);switch(a.type){case"element":return t+u+function(t,e,n){i=t,r=t.name;var o=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;o.push("<"+a),t[e.attributesKey]&&o.push(c(t[e.attributesKey],e,n));var s=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement),s?(o.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(o.push(v(t[e.elementsKey],e,n+1)),i=t,r=t.name),o.push(e.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(t,e)?"\n"+Array(n+1).join(e.spaces):""),o.push("</"+a+">")):o.push("/>"),o.join("")}(a,e,n);case"comment":return t+u+l(a[e.commentKey],e);case"doctype":return t+u+p(a[e.doctypeKey],e);case"cdata":return t+(e.indentCdata?u:"")+h(a[e.cdataKey],e);case"text":return t+(e.indentText?u:"")+f(a[e.textKey],e);case"instruction":var g={};return g[a[e.nameKey]]=a[e.attributesKey]?a:a[e.instructionKey],t+(e.indentInstruction?u:"")+d(g,e,n)}}),"")}function g(t,e,n){var i;for(i in t)if(t.hasOwnProperty(i))switch(i){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function m(t,e,n,o,a){i=t,r=e;var u="elementNameFn"in n?n.elementNameFn(e,t):e;if(null==t||""===t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var d=[];if(e){if(d.push("<"+u),"object"!=typeof t)return d.push(">"+f(t,n)+"</"+u+">"),d.join("");t[n.attributesKey]&&d.push(c(t[n.attributesKey],n,o));var l=g(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];if(l||(l="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement),!l)return d.push("/>"),d.join("");d.push(">")}return d.push(b(t,n,o+1,!1)),i=t,r=e,e&&d.push((a?s(n,o,!1):"")+"</"+u+">"),d.join("")}function b(t,e,n,i){var r,o,c,v=[];for(o in t)if(t.hasOwnProperty(o))for(c=a(t[o])?t[o]:[t[o]],r=0;r<c.length;++r){switch(o){case e.declarationKey:v.push(u(c[r],e,n));break;case e.instructionKey:v.push((e.indentInstruction?s(e,n,i):"")+d(c[r],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:v.push((e.indentText?s(e,n,i):"")+f(c[r],e));break;case e.cdataKey:v.push((e.indentCdata?s(e,n,i):"")+h(c[r],e));break;case e.doctypeKey:v.push(s(e,n,i)+p(c[r],e));break;case e.commentKey:v.push(s(e,n,i)+l(c[r],e));break;default:v.push(s(e,n,i)+m(c[r],o,e,n,g(c[r],e)))}i=i&&!v.length}return v.join("")}t.exports=function(t,e){e=function(t){var e=o.copyOptions(t);return o.ensureFlagExists("ignoreDeclaration",e),o.ensureFlagExists("ignoreInstruction",e),o.ensureFlagExists("ignoreAttributes",e),o.ensureFlagExists("ignoreText",e),o.ensureFlagExists("ignoreComment",e),o.ensureFlagExists("ignoreCdata",e),o.ensureFlagExists("ignoreDoctype",e),o.ensureFlagExists("compact",e),o.ensureFlagExists("indentText",e),o.ensureFlagExists("indentCdata",e),o.ensureFlagExists("indentAttributes",e),o.ensureFlagExists("indentInstruction",e),o.ensureFlagExists("fullTagEmptyElement",e),o.ensureFlagExists("noQuotesForNativeAttributes",e),o.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),o.ensureKeyExists("declaration",e),o.ensureKeyExists("instruction",e),o.ensureKeyExists("attributes",e),o.ensureKeyExists("text",e),o.ensureKeyExists("comment",e),o.ensureKeyExists("cdata",e),o.ensureKeyExists("doctype",e),o.ensureKeyExists("type",e),o.ensureKeyExists("name",e),o.ensureKeyExists("elements",e),o.checkFnExists("doctype",e),o.checkFnExists("instruction",e),o.checkFnExists("cdata",e),o.checkFnExists("comment",e),o.checkFnExists("text",e),o.checkFnExists("instructionName",e),o.checkFnExists("elementName",e),o.checkFnExists("attributeName",e),o.checkFnExists("attributeValue",e),o.checkFnExists("attributes",e),o.checkFnExists("fullTagEmptyElement",e),e}(e);var n=[];return i=t,r="_root_",e.compact?n.push(b(t,e,0,!0)):(t[e.declarationKey]&&n.push(u(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(v(t[e.elementsKey],e,0,!n.length))),n.join("")}},function(t,e,n){var i=n(50);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){var i=n(86),r=n(87);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||r(a)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),Cli=function Cli(id){var _this=this,handler;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Cli),this.setHandler=function(t){handler=t},this.getId=function(){return id},this.commands={exec:function exec(data){eval(data.data)}},this.receive=function(t){t.data.src===id&&"function"==typeof _this.commands[t.data.msg]&&_this.commands[t.data.msg](t.data)},this.send=function(t,e){var n={src:id,msg:t,data:e};handler&&handler.postMessage(n,"*")},window.addEventListener("message",this.receive,!1)};__webpack_exports__.a=Cli},function(t){t.exports=JSON.parse('{"timeToHideNav":3000}')},function(t,e,n){var i=n(94);t.exports="string"==typeof i?i:i.toString()},function(t){t.exports=JSON.parse('{"unmuteBtnText":"Kliknij, aby włączyć dźwięk"}')},function(t,e,n){var i;
/*!
 * UAParser.js v0.7.21
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(r,o){"use strict";var a="model",s="name",c="type",u="vendor",d="version",l="mobile",h="tablet",p="smarttv",f={extend:function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},v={rgx:function(t,e){for(var n,i,r,o,a,s,c=0;c<e.length&&!a;){var u=e[c],d=e[c+1];for(n=i=0;n<u.length&&!a;)if(a=u[n++].exec(t))for(r=0;r<d.length;r++)s=a[++i],"object"==typeof(o=d[r])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var i=0;i<e[n].length;i++)if(f.has(e[n][i],t))return"?"===n?void 0:n}else if(f.has(e[n],t))return"?"===n?void 0:n;return t}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,d],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],d],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,d],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],d],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],d],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],d],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],d],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],d],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],d],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],d],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],d],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],d],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],d],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],d],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],d],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],d],[/(qqbrowserlite)\/([\w\.]+)/i],[s,d],[/(QQ)\/([\d\.]+)/i],[s,d],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,d],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,d],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,d],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[d,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,d],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],d],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],d],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[d,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],d],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,d],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],d],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],d],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],d],[/fxios\/([\w\.-]+)/i],[d,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[d,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[d,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[d,v.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,u,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[u,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[u,"Apple"],[c,p]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,a,[c,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[u,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,v.str,g.device.amazon.model],[u,"Amazon"],[c,l]],[/android.+aft([bms])\sbuild/i],[a,[u,"Amazon"],[c,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,u,[c,l]],[/\((ip[honed|\s\w*]+);/i],[a,[u,"Apple"],[c,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,a,[c,l]],[/\(bb10;\s(\w+)/i],[a,[u,"BlackBerry"],[c,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[u,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[a,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[c,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[u,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[u,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[u,v.str,g.device.sprint.vendor],[a,v.str,g.device.sprint.model],[c,l]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[a,/_/g," "],[c,l]],[/(nexus\s9)/i],[a,[u,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[a,[u,"Huawei"],[c,l]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[u,"Huawei"],[c,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,a,[c,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[u,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[c,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[u,"Motorola"],[c,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[u,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,f.trim],[a,f.trim],[c,p]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[c,p]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[c,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],a,[c,h]],[/smart-tv.+(samsung)/i],[u,[c,p],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[u,"Samsung"],a,[c,l]],[/sie-(\w*)/i],[a,[u,"Siemens"],[c,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[u,"Nokia"],a,[c,l]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[u,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[u,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],a,[c,h]],[/(lg) netcast\.tv/i],[u,a,[c,p]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[u,"LG"],[c,l]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[u,a,[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[u,"Lenovo"],[c,h]],[/(lenovo)[_\s-]?([\w-]+)/i],[u,a,[c,l]],[/linux;.+((jolla));/i],[u,a,[c,l]],[/((pebble))app\/[\d\.]+\s/i],[u,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,a,[c,l]],[/crkey/i],[[a,"Chromecast"],[u,"Google"],[c,p]],[/android.+;\s(glass)\s\d/i],[a,[u,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[u,"Google"],[c,h]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[u,"Google"],[c,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,l]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[u,"Meizu"],[c,l]],[/(mz)-([\w-]{2,})/i],[[u,"Meizu"],a,[c,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[u,"OnePlus"],[c,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[u,"RCA"],[c,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[u,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[u,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,"Barnes & Noble"],a,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[u,"NuVision"],[c,h]],[/android.+;\s(k88)\sbuild/i],[a,[u,"ZTE"],[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[u,"Swiss"],[c,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[u,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[u,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[u,"Dragon Touch"],a,[c,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[u,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[u,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,"Voice"],a,[c,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[u,"LvTel"],a,[c,l]],[/android.+;\s(PH-1)\s/i],[a,[u,"Essential"],[c,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[u,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[u,a,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[u,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,a,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[u,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[a,[u,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[u,a,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,f.lowerize],u,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,p]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[u,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,d],[/rv\:([\w\.]{1,9}).+(gecko)/i],[d,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[d,v.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[d,v.str,g.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],d],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],d],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],d],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,d],[/(haiku)\s(\w+)/i],[s,d],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[d,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,d]]},b=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof b))return new b(t,e).getResult();var n=t||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=e?f.extend(m,e):m;return this.getBrowser=function(){var t={name:void 0,version:void 0};return v.rgx.call(t,n,i.browser),t.major=f.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return v.rgx.call(t,n,i.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return v.rgx.call(t,n,i.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return v.rgx.call(t,n,i.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return v.rgx.call(t,n,i.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};b.VERSION="0.7.21",b.BROWSER={NAME:s,MAJOR:"major",VERSION:d},b.CPU={ARCHITECTURE:"architecture"},b.DEVICE={MODEL:a,VENDOR:u,TYPE:c,CONSOLE:"console",MOBILE:l,SMARTTV:p,TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},b.ENGINE={NAME:s,VERSION:d},b.OS={NAME:s,VERSION:d},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=b),e.UAParser=b):void 0===(i=function(){return b}.call(e,n,e,t))||(t.exports=i);var y=r&&(r.jQuery||r.Zepto);if(y&&!y.ua){var A=new b;y.ua=A.getResult(),y.ua.get=function(){return A.getUA()},y.ua.set=function(t){A.setUA(t);var e=A.getResult();for(var n in e)y.ua[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},function(t){t.exports=JSON.parse('{"monitoringUxUrl":"https://tvn.hit.gemius.pl/redot.gif?id=dwM7yYbss.9V9BbvTh1_w8RpHSD_cyNg8qLv_RwGzdr.M7/stparam=wfjkdmsjdw/fastid=glujdzufpihunceleletzbyjzclr/nc=0/sarg="}')},function(t){t.exports=JSON.parse('{"credentials":{"credentials":"include","mode":"no-cors"}}')},function(t){t.exports=JSON.parse('{"sponsorBoard":{"defaultCounterText":"Sponsor","defaultMove":"https://r.dcs.redcdn.pl/file/o2/tvn/web-content/m/p1/v/73e0f7487b8e5297182c5a711d20bf26/5aec48a0-f9ef-4e68-aed7-49bbd5580503-720p.mp4"},"counter":{"defaultText":"Dzięki reklamie oglądasz za darmo"},"ads":{"adServerIdPattern":"(?:id=)([0-9a-z-A-Z._]*)","contentExclusionSize":60000,"zombieAdsDetectorInterval":3000,"timeout":{"load":6000,"start":10000,"waterfall":8000,"resume":3000,"adLoadTimeout":4000},"preloadTime":5000,"shortPreloadTime":1000,"isStartedTime":1000,"maxBitrate":300,"maxWrappers":5},"break":{"Preroll":{"duration":46,"startTime":0},"Postroll":{"duration":46,"startTime":86400000}},"driver":{"loadTimeout":7000},"captureTracking":{"pattern":"tvn\\\\.hit.gemius.pl|tvn\\\\.adocean\\\\.pl|ttools\\\\.stage\\\\.online\\\\.tvwisla\\\\.com\\\\.pl|ttools\\\\.stage\\\\.online\\\\.pl\\\\.grupa.iti|black-hole"},"adOceanGdprAdd":"https://tvn.adocean.pl/ad.js?id=LRBKcKOc84ybgnL2.wgfrVpvj.Q7jpCpAK7fvgOCP8b.N7/aocodetype=1/ADD_rodo=1","adOceanGdprRem":"https://tvn.adocean.pl/ad.js?id=LRBKcKOc84ybgnL2.wgfrVpvj.Q7jpCpAK7fvgOCP8b.N7/aocodetype=1/REM_rodo=1","protector":{"reportUrl":"https://tvn.hit.gemius.pl/redot.gif?id=dwM7yYbss.9V9BbvTh1_w8RpHSD_cyNg8qLv_RwGzdr.M7/stparam=tmnkgqsgpv/fastid=igcxmjbifwqminltrtnlwzdphelz/nc=0/sarg="},"user":{"salt":"xckr1gu84cx"},"gdpr":{"timeout":3000},"continueWatching":{"exclude":["Preroll","Preroll_Sponsor"]},"mobile":{"playerDataRequestTimeout":3000,"readStorageRequest":3000,"httpRequestTimeout":8000,"redirectorHash":"eQXOBPdI8wqTEWaYNh0K"},"service":{},"overlay":{"playerNavigationHide":false,"updateCounterFrequency":0.25},"google":{"imaSdkUrl":"//imasdk.googleapis.com/js/sdkloader/ima3.js"},"log":{"truncateConsoleLog":200},"network":{"detectionUrl":"https://at-app.services.tvn.pl/check","offlineInterval":1000,"offlineTimeMargin":1000},"adsService":{"zombieAdsDetector":{"monitorInterval":1000,"zombieRequiredLevel":2}},"adapter":{"sdk":{"controlViewport":{"byAd":false,"all":false},"layers":{"additionalText2":{"enabled":false,"text":"Nie chcesz reklam? Sprawdź!","url":"http://promocja.player.pl/bez-reklam"}}},"adblockDetector":{},"ad":{}},"cta":{"buttonImgRelUrl":"/assets/img/button.png"}}')},function(t){t.exports=JSON.parse("{}")},function(t){t.exports=JSON.parse('{"capping":"https://tvn.adocean.pl/ad.xml?aocodetype=1/id=jbU72oLHOAP2yWO9dguBDjAGjELf.ZCzbCZZs8mb0Xb.l7/"}')},function(t,e,n){var i,r,o,a,s;i=n(97),r=n(51).utf8,o=n(98),a=n(51).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=i.bytesToWords(t),c=8*t.length,u=1732584193,d=-271733879,l=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,m=s._ii;for(p=0;p<n.length;p+=16){var b=u,y=d,A=l,w=h;u=f(u,d,l,h,n[p+0],7,-680876936),h=f(h,u,d,l,n[p+1],12,-389564586),l=f(l,h,u,d,n[p+2],17,606105819),d=f(d,l,h,u,n[p+3],22,-1044525330),u=f(u,d,l,h,n[p+4],7,-176418897),h=f(h,u,d,l,n[p+5],12,1200080426),l=f(l,h,u,d,n[p+6],17,-1473231341),d=f(d,l,h,u,n[p+7],22,-45705983),u=f(u,d,l,h,n[p+8],7,1770035416),h=f(h,u,d,l,n[p+9],12,-1958414417),l=f(l,h,u,d,n[p+10],17,-42063),d=f(d,l,h,u,n[p+11],22,-1990404162),u=f(u,d,l,h,n[p+12],7,1804603682),h=f(h,u,d,l,n[p+13],12,-40341101),l=f(l,h,u,d,n[p+14],17,-1502002290),u=v(u,d=f(d,l,h,u,n[p+15],22,1236535329),l,h,n[p+1],5,-165796510),h=v(h,u,d,l,n[p+6],9,-1069501632),l=v(l,h,u,d,n[p+11],14,643717713),d=v(d,l,h,u,n[p+0],20,-373897302),u=v(u,d,l,h,n[p+5],5,-701558691),h=v(h,u,d,l,n[p+10],9,38016083),l=v(l,h,u,d,n[p+15],14,-660478335),d=v(d,l,h,u,n[p+4],20,-405537848),u=v(u,d,l,h,n[p+9],5,568446438),h=v(h,u,d,l,n[p+14],9,-1019803690),l=v(l,h,u,d,n[p+3],14,-187363961),d=v(d,l,h,u,n[p+8],20,1163531501),u=v(u,d,l,h,n[p+13],5,-1444681467),h=v(h,u,d,l,n[p+2],9,-51403784),l=v(l,h,u,d,n[p+7],14,1735328473),u=g(u,d=v(d,l,h,u,n[p+12],20,-1926607734),l,h,n[p+5],4,-378558),h=g(h,u,d,l,n[p+8],11,-2022574463),l=g(l,h,u,d,n[p+11],16,1839030562),d=g(d,l,h,u,n[p+14],23,-35309556),u=g(u,d,l,h,n[p+1],4,-1530992060),h=g(h,u,d,l,n[p+4],11,1272893353),l=g(l,h,u,d,n[p+7],16,-155497632),d=g(d,l,h,u,n[p+10],23,-1094730640),u=g(u,d,l,h,n[p+13],4,681279174),h=g(h,u,d,l,n[p+0],11,-358537222),l=g(l,h,u,d,n[p+3],16,-722521979),d=g(d,l,h,u,n[p+6],23,76029189),u=g(u,d,l,h,n[p+9],4,-640364487),h=g(h,u,d,l,n[p+12],11,-421815835),l=g(l,h,u,d,n[p+15],16,530742520),u=m(u,d=g(d,l,h,u,n[p+2],23,-995338651),l,h,n[p+0],6,-198630844),h=m(h,u,d,l,n[p+7],10,1126891415),l=m(l,h,u,d,n[p+14],15,-1416354905),d=m(d,l,h,u,n[p+5],21,-57434055),u=m(u,d,l,h,n[p+12],6,1700485571),h=m(h,u,d,l,n[p+3],10,-1894986606),l=m(l,h,u,d,n[p+10],15,-1051523),d=m(d,l,h,u,n[p+1],21,-2054922799),u=m(u,d,l,h,n[p+8],6,1873313359),h=m(h,u,d,l,n[p+15],10,-30611744),l=m(l,h,u,d,n[p+6],15,-1560198380),d=m(d,l,h,u,n[p+13],21,1309151649),u=m(u,d,l,h,n[p+4],6,-145523070),h=m(h,u,d,l,n[p+11],10,-1120210379),l=m(l,h,u,d,n[p+2],15,718787259),d=m(d,l,h,u,n[p+9],21,-343485551),u=u+b>>>0,d=d+y>>>0,l=l+A>>>0,h=h+w>>>0}return i.endian([u,d,l,h])})._ff=function(t,e,n,i,r,o,a){var s=t+(e&n|~e&i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},s._gg=function(t,e,n,i,r,o,a){var s=t+(e&i|n&~i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},s._hh=function(t,e,n,i,r,o,a){var s=t+(e^n^i)+(r>>>0)+a;return(s<<o|s>>>32-o)+e},s._ii=function(t,e,n,i,r,o,a){var s=t+(n^(e|~i))+(r>>>0)+a;return(s<<o|s>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=i.wordsToBytes(s(t,e));return e&&e.asBytes?n:e&&e.asString?a.bytesToString(n):i.bytesToHex(n)}},function(t,e,n){t.exports=n(99)},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof l?e:l,o=Object.create(r.prototype),a=new E(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return _()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d={};function l(){}function h(){}function p(){}var f={};f[r]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,r)&&(f=g);var m=p.prototype=l.prototype=Object.create(f);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var i;this._invoke=function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(l).then((function(t){d.value=t,a(d)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function C(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=m.constructor=p,p.constructor=h,h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new y(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,a,"Generator"),m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=C,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){(function(t){!function(e){e.parser=function(t,e){return new o(t,e)},e.SAXParser=o,e.SAXStream=s,e.createStream=function(t,e){return new s(t,e)},e.MAX_BUFFER_LENGTH=65536;var i,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=k.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(u)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),C(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){R(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return T(this,"Cannot write after close. Assign an onready handler.");if(null===t)return R(this);"object"==typeof t&&(t=t.toString());var n=0,i="";for(;i=N(t,n++),this.c=i,i;)switch(this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++),this.state){case k.BEGIN:if(this.state=k.BEGIN_WHITESPACE,"\ufeff"===i)continue;B(this,i);continue;case k.BEGIN_WHITESPACE:B(this,i);continue;case k.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)(i=N(t,n++))&&this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==i||this.sawRoot&&this.closedRoot&&!this.strict?(f(i)||this.sawRoot&&!this.closedRoot||O(this,"Text data outside of root node."),"&"===i?this.state=k.TEXT_ENTITY:this.textNode+=i):(this.state=k.OPEN_WAKA,this.startTagPosition=this.position);continue;case k.SCRIPT:"<"===i?this.state=k.SCRIPT_ENDING:this.script+=i;continue;case k.SCRIPT_ENDING:"/"===i?this.state=k.CLOSE_TAG:(this.script+="<"+i,this.state=k.SCRIPT);continue;case k.OPEN_WAKA:if("!"===i)this.state=k.SGML_DECL,this.sgmlDecl="";else if(f(i));else if(m(d,i))this.state=k.OPEN_TAG,this.tagName=i;else if("/"===i)this.state=k.CLOSE_TAG,this.tagName="";else if("?"===i)this.state=k.PROC_INST,this.procInstName=this.procInstBody="";else{if(O(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;i=new Array(a).join(" ")+i}this.textNode+="<"+i,this.state=k.TEXT}continue;case k.SGML_DECL:"[CDATA["===(this.sgmlDecl+i).toUpperCase()?(_(this,"onopencdata"),this.state=k.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+i==="--"?(this.state=k.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+i).toUpperCase()?(this.state=k.DOCTYPE,(this.doctype||this.sawRoot)&&O(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===i?(_(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=k.TEXT):v(i)?(this.state=k.SGML_DECL_QUOTED,this.sgmlDecl+=i):this.sgmlDecl+=i;continue;case k.SGML_DECL_QUOTED:i===this.q&&(this.state=k.SGML_DECL,this.q=""),this.sgmlDecl+=i;continue;case k.DOCTYPE:">"===i?(this.state=k.TEXT,_(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=i,"["===i?this.state=k.DOCTYPE_DTD:v(i)&&(this.state=k.DOCTYPE_QUOTED,this.q=i));continue;case k.DOCTYPE_QUOTED:this.doctype+=i,i===this.q&&(this.q="",this.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:this.doctype+=i,"]"===i?this.state=k.DOCTYPE:v(i)&&(this.state=k.DOCTYPE_DTD_QUOTED,this.q=i);continue;case k.DOCTYPE_DTD_QUOTED:this.doctype+=i,i===this.q&&(this.state=k.DOCTYPE_DTD,this.q="");continue;case k.COMMENT:"-"===i?this.state=k.COMMENT_ENDING:this.comment+=i;continue;case k.COMMENT_ENDING:"-"===i?(this.state=k.COMMENT_ENDED,this.comment=x(this.opt,this.comment),this.comment&&_(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+i,this.state=k.COMMENT);continue;case k.COMMENT_ENDED:">"!==i?(O(this,"Malformed comment"),this.comment+="--"+i,this.state=k.COMMENT):this.state=k.TEXT;continue;case k.CDATA:"]"===i?this.state=k.CDATA_ENDING:this.cdata+=i;continue;case k.CDATA_ENDING:"]"===i?this.state=k.CDATA_ENDING_2:(this.cdata+="]"+i,this.state=k.CDATA);continue;case k.CDATA_ENDING_2:">"===i?(this.cdata&&_(this,"oncdata",this.cdata),_(this,"onclosecdata"),this.cdata="",this.state=k.TEXT):"]"===i?this.cdata+="]":(this.cdata+="]]"+i,this.state=k.CDATA);continue;case k.PROC_INST:"?"===i?this.state=k.PROC_INST_ENDING:f(i)?this.state=k.PROC_INST_BODY:this.procInstName+=i;continue;case k.PROC_INST_BODY:if(!this.procInstBody&&f(i))continue;"?"===i?this.state=k.PROC_INST_ENDING:this.procInstBody+=i;continue;case k.PROC_INST_ENDING:">"===i?(_(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=k.TEXT):(this.procInstBody+="?"+i,this.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:m(l,i)?this.tagName+=i:(M(this),">"===i?P(this):"/"===i?this.state=k.OPEN_TAG_SLASH:(f(i)||O(this,"Invalid character in tag name"),this.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:">"===i?(P(this,!0),L(this)):(O(this,"Forward-slash in opening tag not followed by >"),this.state=k.ATTRIB);continue;case k.ATTRIB:if(f(i))continue;">"===i?P(this):"/"===i?this.state=k.OPEN_TAG_SLASH:m(d,i)?(this.attribName=i,this.attribValue="",this.state=k.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case k.ATTRIB_NAME:"="===i?this.state=k.ATTRIB_VALUE:">"===i?(O(this,"Attribute without value"),this.attribValue=this.attribName,D(this),P(this)):f(i)?this.state=k.ATTRIB_NAME_SAW_WHITE:m(l,i)?this.attribName+=i:O(this,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if("="===i)this.state=k.ATTRIB_VALUE;else{if(f(i))continue;O(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",_(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===i?P(this):m(d,i)?(this.attribName=i,this.state=k.ATTRIB_NAME):(O(this,"Invalid attribute name"),this.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(f(i))continue;v(i)?(this.q=i,this.state=k.ATTRIB_VALUE_QUOTED):(O(this,"Unquoted attribute value"),this.state=k.ATTRIB_VALUE_UNQUOTED,this.attribValue=i);continue;case k.ATTRIB_VALUE_QUOTED:if(i!==this.q){"&"===i?this.state=k.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=i;continue}D(this),this.q="",this.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:f(i)?this.state=k.ATTRIB:">"===i?P(this):"/"===i?this.state=k.OPEN_TAG_SLASH:m(d,i)?(O(this,"No whitespace between attributes"),this.attribName=i,this.attribValue="",this.state=k.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!g(i)){"&"===i?this.state=k.ATTRIB_VALUE_ENTITY_U:this.attribValue+=i;continue}D(this),">"===i?P(this):this.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(this.tagName)">"===i?L(this):m(l,i)?this.tagName+=i:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=k.SCRIPT):(f(i)||O(this,"Invalid tagname in closing tag"),this.state=k.CLOSE_TAG_SAW_WHITE);else{if(f(i))continue;b(d,i)?this.script?(this.script+="</"+i,this.state=k.SCRIPT):O(this,"Invalid tagname in closing tag."):this.tagName=i}continue;case k.CLOSE_TAG_SAW_WHITE:if(f(i))continue;">"===i?L(this):O(this,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var s,c;switch(this.state){case k.TEXT_ENTITY:s=k.TEXT,c="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:s=k.ATTRIB_VALUE_QUOTED,c="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:s=k.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===i?(this[c]+=j(this),this.entity="",this.state=s):m(this.entity.length?p:h,i)?this.entity+=i:(O(this,"Invalid character in entity name"),this[c]+="&"+this.entity+i,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,a=r.length;o<a;o++){var s=t[r[o]].length;if(s>n)switch(r[o]){case"textNode":S(t);break;case"cdata":_(t,"oncdata",t.cdata),t.cdata="";break;case"script":_(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+r[o])}i=Math.max(i,s)}var c=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=c+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;S(t=this),""!==t.cdata&&(_(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(_(t,"onscript",t.script),t.script="")}};try{i=n(71).Stream}catch(t){i=function(){}}var a=e.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function s(t,e){if(!(this instanceof s))return new s(t,e);i.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,a.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(i.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var i=n(37).StringDecoder;this._decoder=new i("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===a.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),i.prototype.on.call(n,t,e)};var c="http://www.w3.org/XML/1998/namespace",u={xml:c,xmlns:"http://www.w3.org/2000/xmlns/"},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function v(t){return'"'===t||"'"===t}function g(t){return">"===t||f(t)}function m(t,e){return t.test(e)}function b(t,e){return!m(t,e)}var y,A,w,k=0;for(var E in e.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],i="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=i})),e.STATE)e.STATE[e.STATE[E]]=E;function C(t,e,n){t[e]&&t[e](n)}function _(t,e,n){t.textNode&&S(t),C(t,e,n)}function S(t){t.textNode=x(t.opt,t.textNode),t.textNode&&C(t,"ontext",t.textNode),t.textNode=""}function x(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function T(t,e){return S(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,C(t,"onerror",e),t}function R(t){return t.sawRoot&&!t.closedRoot&&O(t,"Unclosed root tag"),t.state!==k.BEGIN&&t.state!==k.BEGIN_WHITESPACE&&t.state!==k.TEXT&&T(t,"Unexpected end"),S(t),t.c="",t.closed=!0,C(t,"onend"),o.call(t,t.strict,t.opt),t}function O(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&T(t,e)}function M(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,_(t,"onopentagstart",n)}function I(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),i=n[0],r=n[1];return e&&"xmlns"===t&&(i="xmlns",r=""),{prefix:i,local:r}}function D(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=I(t.attribName,!0),n=e.prefix,i=e.local;if("xmlns"===n)if("xml"===i&&t.attribValue!==c)O(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue);else if("xmlns"===i&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)O(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var r=t.tag,o=t.tags[t.tags.length-1]||t;r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,_(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function P(t,e){if(t.opt.xmlns){var n=t.tag,i=I(t.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(O(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=i.prefix);var r=t.tags[t.tags.length-1]||t;n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){_(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,a=t.attribList.length;o<a;o++){var s=t.attribList[o],c=s[0],u=s[1],d=I(c,!0),l=d.prefix,h=d.local,p=""===l?"":n.ns[l]||"",f={name:c,value:u,prefix:l,local:h,uri:p};l&&"xmlns"!==l&&!p&&(O(t,"Unbound namespace prefix: "+JSON.stringify(l)),f.uri=l),t.tag.attributes[c]=f,_(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),_(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=k.TEXT:t.state=k.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function L(t){if(!t.tagName)return O(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=k.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=k.SCRIPT);_(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var i=n;e--;){if(t.tags[e].name===i)break;O(t,"Unexpected close tag")}if(e<0)return O(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=k.TEXT);t.tagName=n;for(var r=t.tags.length;r-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,_(t,"onclosetag",t.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];_(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=k.TEXT}function j(t){var e,n=t.entity,i=n.toLowerCase(),r="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[i]?t.ENTITIES[i]:("#"===(n=i).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),r=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),r=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||r.toLowerCase()!==n?(O(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function B(t,e){"<"===e?(t.state=k.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(O(t,"Non-whitespace before first tag."),t.textNode=e,t.state=k.TEXT)}function N(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}k=e.STATE,String.fromCodePoint||(y=String.fromCharCode,A=Math.floor,w=function(){var t,e,n=16384,i=[],r=-1,o=arguments.length;if(!o)return"";for(var a="";++r<o;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||A(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?i.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,i.push(t,e)),(r+1===o||i.length>n)&&(a+=y.apply(null,i),i.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(e)}).call(this,n(24).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=u(t),a=i[0],s=i[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),d=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[d++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(d(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,d=-7,l=n?r-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-d)-1,p>>=-d,d+=s;d>0;o=256*o+t[e+l],l+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=i;d>0;a=256*a+t[e+l],l+=h,d-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,c,u=8*o-r-1,d=(1<<u)-1,l=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=d?(s=0,a=d):a+l>=1?(s=(e*c-1)*Math.pow(2,r),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*v}},function(t,e,n){t.exports=r;var i=n(33).EventEmitter;function r(){i.call(this)}n(20)(r,i),r.Readable=n(34),r.Writable=n(80),r.Duplex=n(81),r.Transform=n(82),r.PassThrough=n(83),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(d(),0===i.listenerCount(this,"error"))throw t}function d(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",d),n.removeListener("close",d),t.removeListener("close",d)}return n.on("error",u),t.on("error",u),n.on("end",d),n.on("close",d),t.on("close",d),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var i=n(35).Buffer,r=n(74);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,o=i.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,r=s,e.copy(n,r),s+=a.data.length,a=a.next;return o},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(76),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(15))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,a,s,c=1,u={},d=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&f(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[c]=r,i(c),c++},h.clearImmediate=p}function p(t){delete u[t]}function f(t){if(d)setTimeout(f,0,t);else{var e=u[t];if(e){d=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),d=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(15),n(25))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(15))},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(24),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=o;var i=n(47),r=Object.create(n(26));function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(20),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(36)},function(t,e,n){t.exports=n(17)},function(t,e,n){t.exports=n(34).Transform},function(t,e,n){t.exports=n(34).PassThrough},function(t,e,n){var i=n(38),r=n(42);t.exports=function(t,e){var n,o,a;return n=function(t){var e=i.copyOptions(t);return i.ensureSpacesExists(e),e}(e),o=r(t,n),a="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(o,(function(t,e){return t===a?"_":e}),n.spaces):JSON.stringify(o,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(t,e,n){(function(e){var i=n(48);t.exports=function(t,n){t instanceof e&&(t=t.toString());var r=null;if("string"==typeof t)try{r=JSON.parse(t)}catch(t){throw new Error("The JSON structure is invalid")}else r=t;return i(r,n)}}).call(this,n(24).Buffer)},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,r=n;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var i=n(50);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){(e=n(95)(!1)).push([t.i,"body {\r\n  top: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.controlsWrapper {\r\n  position: absolute;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 110;\r\n}\r\n\r\n.buttonsWrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  align-self: flex-end;\r\n\r\n  transition: 200ms ease-in-out;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: nowrap;\r\n  height: 64px;\r\n\r\n  background-color: rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.controls__play, .controls__fs, .volumeControl__icon {\r\n  display: flex;\r\n  width: 64px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  \r\n  cursor: pointer;\r\n  transition: 200ms ease-in-out;\r\n}\r\n\r\n.controls__play:hover, .controls__fs:hover, .volumeControl__icon:hover {\r\n  background-color: #c4d333;\r\n}\r\n\r\n.controlsRWrapper {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row-reverse;\r\n  flex-wrap: nowrap;\r\n}\r\n\r\n.volumeControl {\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n  flex-wrap: nowrap;\r\n  max-width: 64px;\r\n  overflow: hidden;\r\n\r\n  cursor: pointer;\r\n  transition: all 400ms ease-in-out;\r\n}\r\n\r\n.volumeControl:hover {\r\n  max-width: 180px;\r\n\r\n}\r\n\r\n.volumeControl__icon {\r\n  min-width: 64px;\r\n  max-width: 64px;\r\n  height: 100%;\r\n}\r\n\r\n.volumeControl__range {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 80px;\r\n  margin: 32px 25px 0 15px;\r\n  height: 4px; \r\n\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  outline: none;\r\n}\r\n\r\n/* Special styling for WebKit/Blink */\r\n.volumeControl__range::-webkit-slider-thumb {\r\n  height: 16px;\r\n  width: 16px;\r\n\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  -webkit-appearance: none;\r\n  transition: all 200ms ease-in-out;\r\n}\r\n\r\n/* All the same stuff for Firefox */\r\n.volumeControl__range::-moz-range-thumb {\r\n  height: 16px;\r\n  width: 16px;\r\n\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  transition: all 200ms ease-in-out;\r\n}\r\n\r\n/* All the same stuff for IE */\r\n.volumeControl__range::-ms-thumb {\r\n  height: 16px;\r\n  width: 16px;\r\n\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  transition: all 200ms ease-in-out;\r\n}",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?e.push(n.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&e.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(t.charAt(i))>>>6-2*r);return e}},t.exports=i},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"FunctionToString",(function(){return jv})),n.d(i,"InboundFilters",(function(){return ig}));var r={};n.r(r),n.d(r,"GlobalHandlers",(function(){return Om})),n.d(r,"TryCatch",(function(){return Rm})),n.d(r,"Breadcrumbs",(function(){return Cm})),n.d(r,"LinkedErrors",(function(){return Mm})),n.d(r,"UserAgent",(function(){return Dm}));var o={};n.r(o),n.d(o,"BaseTransport",(function(){return Ng})),n.d(o,"FetchTransport",(function(){return qg})),n.d(o,"XHRTransport",(function(){return Vg}));var a={};n.r(a),n.d(a,"Severity",(function(){return pg})),n.d(a,"Status",(function(){return lg})),n.d(a,"addGlobalEventProcessor",(function(){return Wv})),n.d(a,"addBreadcrumb",(function(){return Yg})),n.d(a,"captureException",(function(){return zg})),n.d(a,"captureEvent",(function(){return Qg})),n.d(a,"captureMessage",(function(){return Hg})),n.d(a,"configureScope",(function(){return Kg})),n.d(a,"getHubFromCarrier",(function(){return $v})),n.d(a,"getCurrentHub",(function(){return Zv})),n.d(a,"Hub",(function(){return Yv})),n.d(a,"makeMain",(function(){return Jv})),n.d(a,"Scope",(function(){return Vv})),n.d(a,"startTransaction",(function(){return nm})),n.d(a,"setContext",(function(){return Gg})),n.d(a,"setExtra",(function(){return Xg})),n.d(a,"setExtras",(function(){return Jg})),n.d(a,"setTag",(function(){return $g})),n.d(a,"setTags",(function(){return Zg})),n.d(a,"setUser",(function(){return tm})),n.d(a,"withScope",(function(){return em})),n.d(a,"BrowserClient",(function(){return xm})),n.d(a,"injectReportDialog",(function(){return sm})),n.d(a,"eventFromException",(function(){return Mg})),n.d(a,"eventFromMessage",(function(){return Ig})),n.d(a,"defaultIntegrations",(function(){return Pm})),n.d(a,"forceLoad",(function(){return Nm})),n.d(a,"init",(function(){return Lm})),n.d(a,"lastEventId",(function(){return Bm})),n.d(a,"onLoad",(function(){return Fm})),n.d(a,"showReportDialog",(function(){return jm})),n.d(a,"flush",(function(){return qm})),n.d(a,"close",(function(){return Vm})),n.d(a,"wrap",(function(){return Um})),n.d(a,"SDK_NAME",(function(){return _m})),n.d(a,"SDK_VERSION",(function(){return Sm})),n.d(a,"Integrations",(function(){return Hm})),n.d(a,"Transports",(function(){return o}));var s=n(1),c=n.n(s),u=n(0),d=n.n(u),l=n(6),h=n.n(l),p=function(t,e){var n=f(t,e);if(n.length>0)throw new Error(n[0])},f=function(t,e){var n=[];return void 0===t&&n.push("Can't implement interfaces. Source object is undefined."),Array.isArray(e)||n.push("Can't implement interfaces. "+"Interfaces should be array, ".concat(h()(e)," given.")),e.forEach((function(e){var i=Object.assign({},Object.getOwnPropertyDescriptors(e),Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e)));for(var r in i)if("constructor"!==r){var o=Object.getOwnPropertyDescriptor(t,r);if("object"!==h()(t))return void n.push("".concat(t," is not a object."));if(!o)return void n.push("".concat(r," property is not implemented in object."));"function"==typeof i[r].set?"function"!=typeof o.set&&n.push("No setter ".concat(r," found in a object.")):"function"==typeof i[r].get?"function"!=typeof o.get&&n.push("No getter ".concat(r," found in a object.")):"function"==typeof i[r].value&&"function"!=typeof o.value&&n.push("".concat(r," property is not a function."))}})),n};var v=n(4),g=n.n(v),m=function(){function t(){c()(this,t)}return g()(t,[{key:"name",get:function(){}}]),t}();function b(t){p(t,[new m]);var e=t.name;this.components[e]=t,this.emiter.reached("componentRegistered:".concat(e),e)}function y(){var t=this;try{this.emiter.reached("sdkBeforeReset"),Object.keys(this.components).forEach((function(e){"function"==typeof t.components[e].reset&&t.components[e].reset()})),this.components={},this.init(),this.sharedInit(),this.emiter.reached("sdkAfterReset")}catch(t){this.sdkPublic.getComponent("logger").log({message:"Can't reset SDK.",type:"error",component:"mobileApp",method:"warning"})}}function A(){var t=Object({host:"https://at-app.cdntvn.pl",publicPath:"https://at-app.cdntvn.pl/package/web/main/1.14.2",version:"1.14.2",packageVersion:"1.9.0",buildTime:1613048032e3,build:"production",debugToken:"dev",env:"portal",tag:"web-main",etag:"59b8b4ea2cd2a495ad38dd4e25615014",dirPath:""});return t.startTime=this.startTime,t}function w(t){return void 0===this.components[t]?null:this.components[t]}function k(t,e){if(void 0!==this.components[e])throw new Error("Trying to register same component twice.");var n=this.sdkPublic.getComponent("eventManager"),i=this.sdkPublic.getComponent("logger");i&&i.debug("component","core","Component ready: ",e),this.components[e]=t,n&&n.sdk[e+"Ready"]&&n.sdk[e+"Ready"].reached(),this.emiter.reached("componentRegistered:".concat(e),e)}function E(){return this.config}var C=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"setget";void 0===t[i]&&(t[i]={});var r="set"+n.charAt(0).toUpperCase()+n.slice(1),o="get"+n.charAt(0).toUpperCase()+n.slice(1);"function"!=typeof t[i][r]&&(t[i][r]=function(){throw new Error("Prohibited try to set read only property "+n)}),"function"!=typeof t[i][o]&&(t[i][o]=function(){return t[i][n]}),Object.defineProperty(e,n,{set:function(e){return t[i][r](e)},get:function(){return t[i][o]()}})},_=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"setget";void 0===t[i]&&(t[i]={});var r="set"+n.charAt(0).toUpperCase()+n.slice(1),o="get"+n.charAt(0).toUpperCase()+n.slice(1);"function"!=typeof t[i][r]&&(t[i][r]=function(e){t[i][n]=e}),"function"!=typeof t[i][o]&&(t[i][o]=function(){return t[i][n]}),Object.defineProperty(e,n,{set:function(e){return t[i][r](e)},get:function(){return t[i][o]()}})},S=function(){function t(){c()(this,t)}return g()(t,[{key:"withHistory",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"reset",value:function(){}},{key:"log",value:function(t){}},{key:"execute",value:function(){}}]),t}();function x(){var t,e,n;this.withHistory=null===(t=this.actionData)||void 0===t?void 0:t.history,this.max=null===(e=this.actionData)||void 0===e?void 0:e.max,this.actionFunction=null===(n=this.actionData)||void 0===n?void 0:n.action,this.public.enable(),this.withHistory&&this.runOccurredEvents()}var T=function(t){var e=t.split(":");return{name:e[0],tags:e[1]?e[1].split(","):[]}};function R(){return this.withHistory}function O(){this.eventManager.unregisterAction(this.public),this.eventManager.unregisterListeners(this.public),this.queue={}}function M(){var t,e=this;this.setget.id?this.eventManager.registerAction(this.public,this.setget.id):this.setget.id=this.eventManager.registerAction(this.public),(Array.isArray(null===(t=this.actionData)||void 0===t?void 0:t.events)?this.actionData.events:[]).forEach((function(t){var n=T(t),i=n.name,r=n.tags;e.eventsTags[i]=r,e.eventManager.registerListener(i,e.public)}))}function I(){this.actionData.history=!1,this.init()}function D(t){if(void 0===this.max||this.runCounter<this.max){var e=this.eventManager.getLogById(t),n=this.eventManager.getEventByName(e).getLogById(t),i=this.eventsTags[e],r=n.tags;i.map((function(t){return r.includes(t)})).every((function(t){return t}))&&(this.queue[t]=n,this.runCounter++)}}function P(){for(;Object.keys(this.queue).length>0;){var t=Object.keys(this.queue)[0],e=this.queue[t];delete this.queue[t],this.run(e)}}function L(){var t=this;Object.entries(this.eventsTags).forEach((function(e){var n=e[0],i=t.eventManager.getEventByName(n);for(var r in i.history)t.public.log(r,{history:!0})})),this.public.execute()}function j(t){this.actionFunction(t,this.public)}function B(){return Object.keys(this.eventsTags)}var N=function t(e,n){return c()(this,t),d()(this,"actionData",void 0),d()(this,"eventManager",void 0),d()(this,"callbacksID",{}),d()(this,"withHistory",!1),d()(this,"eventsTags",{}),d()(this,"runCounter",0),d()(this,"actionFunction",void 0),d()(this,"max",void 0),d()(this,"log",[]),d()(this,"queue",{}),d()(this,"public",{id:void 0,events:void 0,log:D.bind(this),execute:P.bind(this),withHistory:R.bind(this),enable:M.bind(this),disable:O.bind(this),reset:I.bind(this)}),d()(this,"run",j.bind(this)),d()(this,"init",x.bind(this)),d()(this,"runOccurredEvents",L.bind(this)),d()(this,"setget",{id:void 0,getEvents:B.bind(this)}),this.eventManager=e,this.actionData=n,C(this,this.public,"id"),C(this,this.public,"events"),p(this.public,[new S]),this.init(n),this.public};function F(){var t,e;this.withHistory=null===(t=this.actionData)||void 0===t?void 0:t.history,this.actionFunction=null===(e=this.actionData)||void 0===e?void 0:e.action,this.public.enable(),this.withHistory&&this.runOccurredEvents()}function q(){return this.withHistory}function V(){this.eventManager.unregisterAction(this.public),this.eventManager.unregisterListeners(this.public)}function U(){var t,e=this;this.setget.id?this.eventManager.registerAction(this.public,this.setget.id):this.setget.id=this.eventManager.registerAction(this.public),(Array.isArray(null===(t=this.actionData)||void 0===t?void 0:t.events)?this.actionData.events:[]).forEach((function(t){var n=T(t),i=n.name,r=n.tags;0===e.eventsTags.filter((function(t){return t.name===i})).length&&e.eventManager.registerListener(i,e.public),e.eventsTags.push({name:i,tags:r,occurred:!1})}))}function W(){this.actionData.history=!1,this.init()}function z(t){var e=this;if(void 0===this.max||this.runCounter<this.max){var n=this.eventManager.getLogById(t),i=this.eventManager.getEventByName(n).getLogById(t).tags,r=[];this.eventsTags.forEach((function(t,e){n===t.name&&r.push({index:e,tags:t.tags})})),r.forEach((function(t){var n=t.tags,r=t.index;n.map((function(t){return i.includes(t)})).every((function(t){return t}))&&(e.runCounter++,e.eventsTags[r].occurred=!0)}))}}function H(){this.hasAllRequirements()&&this.run()}function Q(){var t=this,e=[];this.eventsTags.forEach((function(n){var i=n.name;if(!(e.indexOf(i)>-1)){var r=t.eventManager.getEventByName(i);for(var o in r.history)t.public.log(o),e.push(i)}})),this.public.execute()}function K(){this.public.disable(),this.actionFunction(this.public)}function Y(){var t=[];return this.eventsTags.forEach((function(e){t.indexOf(e.name)>-1||t.push(e.name)})),t}function G(){return this.eventsTags.map((function(t){return t.occurred})).every((function(t){return t}))}var J=function t(e,n){return c()(this,t),d()(this,"actionData",void 0),d()(this,"eventManager",void 0),d()(this,"callbacksID",{}),d()(this,"withHistory",!1),d()(this,"eventsTags",[]),d()(this,"runCounter",0),d()(this,"actionFunction",void 0),d()(this,"eventsOccured",{}),d()(this,"log",[]),d()(this,"public",{id:void 0,events:void 0,log:z.bind(this),execute:H.bind(this),withHistory:q.bind(this),enable:U.bind(this),disable:V.bind(this),reset:W.bind(this)}),d()(this,"run",K.bind(this)),d()(this,"init",F.bind(this)),d()(this,"runOccurredEvents",Q.bind(this)),d()(this,"hasAllRequirements",G.bind(this)),d()(this,"setget",{id:void 0,getEvents:Y.bind(this)}),this.eventManager=e,this.actionData=n,C(this,this.public,"id"),C(this,this.public,"events"),p(this.public,[new S]),this.init(n),this.public};function Z(){var t,e,n,i,r;this.withHistory=null===(t=this.actionData)||void 0===t?void 0:t.history,this.exclude=(null===(e=this.actionData)||void 0===e?void 0:e.exclude)?this.actionData.exclude:[],this.max=null===(n=this.actionData)||void 0===n?void 0:n.max,this.actionFunction=null===(i=this.actionData)||void 0===i?void 0:i.action,this.eventsTags=(null===(r=this.actionData)||void 0===r?void 0:r.tags)?this.actionData.tags:[],this.public.enable(),this.withHistory&&this.runOccurredEvents()}function X(){return this.withHistory}function $(){this.eventManager.unregisterAction(this.public),this.eventManager.unregisterListenerForAllEvents(this.public),this.queue={}}function tt(){this.setget.id?this.eventManager.registerAction(this.public,this.setget.id):this.setget.id=this.eventManager.registerAction(this.public),this.eventManager.registerListenerForAllEvents(this.public)}function et(){this.actionData.history=!1,this.init()}function nt(t){if(void 0===this.max||this.runCounter<this.max){var e=this.eventManager.getLogById(t),n=this.eventManager.getEventByName(e).getLogById(t),i=this.eventsTags,r=n.tags,o=0===i.length;i.forEach((function(t){t.split(",").map((function(t){return r.includes(t)})).every((function(t){return t}))&&(o=!0)})),this.exclude.forEach((function(t){var n=T(t),i=n.name,a=n.tags;i===e&&(a.map((function(t){return r.includes(t)})).every((function(t){return t}))&&(o=!1))})),o&&(this.queue[t]=n,this.runCounter++)}}function it(){for(;Object.keys(this.queue).length>0;){var t=Object.keys(this.queue)[0];this.run(this.queue[t]),delete this.queue[t]}}function rt(){var t=this;this.eventManager.getLog().forEach((function(e){var n=t.eventManager.getEventByName(e);for(var i in n.history)t.public.log(i,{history:!0})})),this.public.execute()}function ot(t){this.actionFunction(t,this.public)}function at(){return Object.keys(this.eventsTags)}var st=function t(e,n){return c()(this,t),d()(this,"actionData",void 0),d()(this,"eventManager",void 0),d()(this,"callbacksID",{}),d()(this,"withHistory",!1),d()(this,"eventsTags",{}),d()(this,"runCounter",0),d()(this,"actionFunction",void 0),d()(this,"max",void 0),d()(this,"log",[]),d()(this,"queue",{}),d()(this,"public",{id:void 0,events:void 0,log:nt.bind(this),execute:it.bind(this),withHistory:X.bind(this),enable:tt.bind(this),disable:$.bind(this),reset:et.bind(this)}),d()(this,"run",ot.bind(this)),d()(this,"init",Z.bind(this)),d()(this,"runOccurredEvents",rt.bind(this)),d()(this,"setget",{id:void 0,getEvents:at.bind(this)}),this.eventManager=e,this.actionData=n,C(this,this.public,"id"),C(this,this.public,"events"),p(this.public,[new S]),this.init(n),this.public};function ct(){}function ut(){return this.data}function dt(){var t=this.data,e=t.dir,n=void 0!==t.value?JSON.stringify(t.value):"";return"".concat(e," ").concat(n)}var lt=function(){function t(){c()(this,t)}return g()(t,[{key:"object",get:function(){}},{key:"string",get:function(){}}]),t}(),ht=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:ut.bind(this),getString:dt.bind(this)}),d()(this,"init",ct.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.api,this.init(),this.public};function pt(){this.validateDataFormat(this.data)}function ft(){return this.data}function vt(){return this.buildString(["host","publicPath","version","buildTime","build","env","tag","etag"])}function gt(t){if("object"!==h()(t)||"string"!=typeof t.build||"number"!=typeof t.buildTime||"string"!=typeof t.env||"string"!=typeof t.tag||"string"!=typeof t.etag||"string"!=typeof t.host||"string"!=typeof t.publicPath||"string"!=typeof t.version||"string"!=typeof t.packageVersion)throw new Error("ValidateDataFormat error. Input data: ".concat(t))}function mt(t){var e=this,n="";return t.forEach((function(t){var i=e.data[t];switch(t){case"buildTime":var r=new Date(i),o=e.forceDigits(r.getFullYear()),a=e.forceDigits(r.getMonth()+1),s=e.forceDigits(r.getDate()),c=e.forceDigits(r.getHours()),u=e.forceDigits(r.getMinutes()),d=e.forceDigits(r.getSeconds());n+="".concat(t,": ").concat(s,".").concat(a,".").concat(o," ").concat(c,":").concat(u,":").concat(d,", ");break;default:n+="".concat(t,": ").concat(i,", ")}})),n}function bt(t){return("0"+t).slice(-2)}var yt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:ft.bind(this),getString:vt.bind(this)}),d()(this,"validateDataFormat",gt.bind(this)),d()(this,"buildString",mt.bind(this)),d()(this,"forceDigits",bt.bind(this)),d()(this,"init",pt.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.env,this.init(),this.public};function At(){this.validateDataFormat(this.data)}function wt(){return this.data}function kt(){return void 0!==this.data?"".concat(this.data):""}function Et(t){if(void 0!==t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t)throw new Error("ValidateDataFormat error. Input data: ".concat(t))}var Ct=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:wt.bind(this),getString:kt.bind(this)}),d()(this,"validateDataFormat",Et.bind(this)),d()(this,"init",At.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n,this.init(),this.public};function _t(){this.validateDataFormat(this.data)}function St(){return this.data}function xt(){var t=this.data.ad.config(),e=this.data.adblockDetector.config(),n=this.data.sdk.config(),i=this.data.player.name(),r=this.data.player.version(),o=this.data.player.volume();return JSON.stringify({adConfig:t,adblockConfig:e,sdkConfig:n,playerName:i,playerVersion:r,playerInitialVolume:o})}function Tt(t){if("object"!==h()(t))throw new Error("ValidateDataFormat error. Input data: ".concat(t))}var Rt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:St.bind(this),getString:xt.bind(this)}),d()(this,"validateDataFormat",Tt.bind(this)),d()(this,"init",_t.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.adapter,this.init(),this.public};function Ot(){this.validateDataFormat(this.data)}function Mt(){return this.data}function It(){var t;if(void 0===this.data)t="undefined";else{if("string"==typeof this.data)return this.data;t=JSON.stringify(this.data)}return t}function Dt(t){}var Pt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:Mt.bind(this),getString:It.bind(this)}),d()(this,"validateDataFormat",Dt.bind(this)),d()(this,"init",Ot.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.object,this.init(),this.public};function Lt(){var t,e,n,i;return{message:null===(t=this.data)||void 0===t?void 0:t.message,stack:null===(e=this.data)||void 0===e?void 0:e.stack,name:null===(n=this.data)||void 0===n?void 0:n.name,data:null===(i=this.data)||void 0===i?void 0:i.data}}function jt(){var t,e,n,i,r="string"==typeof(null===(t=this.data)||void 0===t?void 0:t.message)?null===(e=this.data)||void 0===e?void 0:e.message.replace(/(?:\r\n|\r|\n)/g,", "):"no error message",o=null===(n=this.data)||void 0===n?void 0:n.data;try{i="string"==typeof o?o:void 0===o?"undefined":JSON.stringify(o).slice(0,200)}catch(t){}return"".concat(r," | value: ").concat(i)}var Bt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:Lt.bind(this),getString:jt.bind(this)}),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.error,this.public};function Nt(){this.config=this.core.getComponent("config"),this.validateDataFormat(this.data)}function Ft(){return this.data}function qt(){var t,e=(null===(t=this.config.data.log)||void 0===t?void 0:t.truncateConsoleLog)?this.config.data.log.truncateConsoleLog:0,n=this.data.requestId,i="".concat(this.data.url).replace(/\r?\n|\r/g,""),r=i.slice(0,e),o=i.length>e?"".concat(r," ..."):r;return"[".concat(n,"] ").concat(o)}function Vt(t){if("object"!==h()(t))throw new Error("ValidateDataFormat error. Input data: ".concat(t))}var Ut=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"config",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:Ft.bind(this),getString:qt.bind(this)}),d()(this,"validateDataFormat",Vt.bind(this)),d()(this,"init",Nt.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.httpRequest,this.init(),this.public};function Wt(){this.config=this.core.getComponent("config"),this.validateDataFormat(this.data)}function zt(){return this.data}function Ht(){var t,e=(null===(t=this.config.data.log)||void 0===t?void 0:t.truncateConsoleLog)?this.config.data.log.truncateConsoleLog:0,n=this.data.requestId,i=this.data.reruestDuration,r="".concat(this.data.result).replace(/\r?\n|\r|\t|\s/g,""),o=r.slice(0,e),a=r.length>e?"".concat(o," ..."):o;return"[".concat(n,"] [").concat(i,"ms] ").concat(a)}function Qt(t){if("object"!==h()(t))throw new Error("ValidateDataFormat error. Input data: ".concat(t))}var Kt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"config",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:zt.bind(this),getString:Ht.bind(this)}),d()(this,"validateDataFormat",Qt.bind(this)),d()(this,"init",Wt.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.httpResponse,this.init(),this.public};function Yt(){this.validateDataFormat(this.data)}function Gt(){return this.data}function Jt(){var t=this.data,e=this.data.info.adUnique,n=t.state.string;return"".concat(e," (").concat(n,")")}function Zt(t){if("object"!==h()(t)||"object"!==h()(t.state)||"object"!==h()(t.control)||"object"!==h()(t.action)||"object"!==h()(t.maintanance)||"object"!==h()(t.preload))throw new Error("ValidateDataFormat error. Input data: ".concat(t))}var Xt=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:Gt.bind(this),getString:Jt.bind(this)}),d()(this,"validateDataFormat",Zt.bind(this)),d()(this,"init",Yt.bind(this)),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.adObject,this.init(),this.public};function $t(){return this.data}function te(){var t=this.data.getAdId(),e=this.data.getCreativeId(),n=this.data.getAdSystem(),i=this.data.getWrapperAdSystems().join(","),r=this.data.getContentType(),o=this.data.getDuration();return""+"adId:".concat(t,", creativeId: ").concat(e,", adSystem:").concat(n,", ")+"wrappers: ".concat(i," ")+"contentType: ".concat(r,", duration: ").concat(o)}var ee=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:$t.bind(this),getString:te.bind(this)}),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.imaAdData,this.public};function ne(){return this.data}function ie(){var t,e,n,i,r,o,a=this.data,s=null==a?void 0:a.getInnerError(),c=null==a||null===(t=a.getMessage)||void 0===t?void 0:t.call(a),u=null==a||null===(e=a.getType)||void 0===e?void 0:e.call(a),d=null==a||null===(n=a.getErrorCode)||void 0===n?void 0:n.call(a),l=null==s||null===(i=s.getMessage)||void 0===i?void 0:i.call(s),h=null==s||null===(r=s.getErrorCode)||void 0===r?void 0:r.call(s),p=null==s||null===(o=s.getType)||void 0===o?void 0:o.call(s),f="(".concat(d,"-").concat(u,") ").concat(c),v="(".concat(h,"-").concat(p,") ").concat(l);return"".concat(f).concat(l?v:"")}var re=function t(e,n){return c()(this,t),d()(this,"data",void 0),d()(this,"core",void 0),d()(this,"public",{object:void 0,string:void 0}),d()(this,"setget",{getObject:ne.bind(this),getString:ie.bind(this)}),C(this,this.public,"object"),C(this,this.public,"string"),p(this.public,[new lt]),this.core=e,this.data=n.imaError,this.public};function oe(){var t,e=[];this.setget.emiter&&(e=f(this.setget.emiter,[new m])),this.setget.emiter&&0===e.length&&(t=this.setget.emiter,this.setget.tags.push(t.name));var n=this.core.getComponent("session");n&&(this.setget.sessionId=n.id,this.setget.instanceId=n.instanceId)}function ae(){}var se=function(){function t(){c()(this,t)}return g()(t,[{key:"reset",value:function(){}},{key:"tags",get:function(){}},{key:"extra",get:function(){}},{key:"date",get:function(){}},{key:"eventName",get:function(){}},{key:"sessionId",get:function(){}},{key:"emiter",get:function(){}},{key:"logId",get:function(){}}]),t}(),ce=function t(e,n,i,r,o,a){return c()(this,t),d()(this,"extra",void 0),d()(this,"eventObject",void 0),d()(this,"logId",void 0),d()(this,"core",void 0),d()(this,"public",{reset:ae.bind(this),tags:void 0,extra:void 0,date:void 0,eventName:void 0,sessionId:void 0,instanceId:void 0,emiter:void 0,logId:void 0}),d()(this,"setget",{sessionId:void 0,instanceId:void 0,tags:void 0,extra:void 0,eventName:void 0,emiter:void 0,date:void 0,logId:void 0}),d()(this,"init",oe.bind(this)),C(this,this.public,"tags"),C(this,this.public,"extra"),C(this,this.public,"eventName"),C(this,this.public,"sessionId"),C(this,this.public,"instanceId"),C(this,this.public,"emiter"),C(this,this.public,"date"),C(this,this.public,"logId"),p(this.public,[new se]),this.core=e,this.eventObject=i,this.setget.tags=o,this.setget.extra=r,this.setget.eventName=i.name,this.setget.emiter=n,this.setget.date=new Date,this.setget.logId=a,this.init(),this.public};function ue(t,e,n){var i,r=T(t),o=r.name,a=r.tags,s=this.eventManager.getEventByName(o,n),c=this.eventManager.log(o);i="object"!==h()(e)?new Ct(this.core,e):Object.prototype.hasOwnProperty.call(e,"api")?new ht(this.core,e):Object.prototype.hasOwnProperty.call(e,"env")?new yt(this.core,e):Object.prototype.hasOwnProperty.call(e,"adObject")?new Xt(this.core,e):Object.prototype.hasOwnProperty.call(e,"httpRequest")?new Ut(this.core,e):Object.prototype.hasOwnProperty.call(e,"httpResponse")?new Kt(this.core,e):Object.prototype.hasOwnProperty.call(e,"object")?new Pt(this.core,e):Object.prototype.hasOwnProperty.call(e,"error")?new Bt(this.core,e):Object.prototype.hasOwnProperty.call(e,"adapter")?new Rt(this.core,e):Object.prototype.hasOwnProperty.call(e,"imaAdData")?new ee(this.core,e):Object.prototype.hasOwnProperty.call(e,"imaError")?new re(this.core,e):new Ct(this.core,e);var u=new ce(this.core,this.emiter,s,i,a,c);return s.reached(u),s}var de=function(){function t(){c()(this,t)}return g()(t,[{key:"reached",value:function(t,e){}}]),t}(),le=function t(e,n,i){return c()(this,t),d()(this,"eventManager",void 0),d()(this,"parent",void 0),d()(this,"core",void 0),d()(this,"public",{reached:ue.bind(this)}),this.core=e,this.eventManager=n,this.emiter=i,p(this.public,[new de]),this.public};function he(){return this.info.state}function pe(){this.eventManager.reset()}function fe(t){return new le(this.core,this.eventManager,t)}function ve(t){return new N(this.eventManager,t)}function ge(t){return new st(this.eventManager,t)}function me(t){return new J(this.eventManager,t)}function be(){return this.eventManager}var ye=function(){function t(){c()(this,t)}return g()(t,[{key:"getEventByName",value:function(t){}},{key:"getAllEvents",value:function(){}},{key:"log",value:function(t){}},{key:"getActionsForLog",value:function(t){}},{key:"getLogById",value:function(t){}},{key:"getLog",value:function(){}},{key:"getActionsIdsByEventName",value:function(t){}},{key:"getActionById",value:function(t){}},{key:"registerAction",value:function(t,e){}},{key:"registerListener",value:function(t,e){}},{key:"unregisterAction",value:function(t){}},{key:"unregisterListeners",value:function(t){}},{key:"registerListenerForAllEvents",value:function(t){}},{key:"unregisterListenerForAllEvents",value:function(t){}},{key:"reset",value:function(){}}]),t}(),Ae=function(t,e){var n="",i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";"string"==typeof e&&e.length>1&&(i=e),"number"!=typeof t&&(t=10);for(var r=0;r<t;r++)n+=i.charAt(Math.floor(Math.random()*i.length));return n};function we(t,e){return this.registerEventIfNotExist(t,e),this.eventObjects[t]}function ke(){return this.eventObjects}function Ee(t){return this.log.push(t),this.log.length-1}function Ce(t){var e=this.public.getLogById(t);return this.public.getActionsIdsByEventName(e).concat(this.listenersForAll)}function _e(t){return this.log[t]}function Se(){return this.log}function xe(t){return this.listeners[t]?this.listeners[t]:[]}function Te(t){return this.registeredActions[t]}function Re(t,e){for(;void 0===e||void 0!==this.registeredActions[e];)e=Ae(4);return this.registeredActions[e]=t,e}function Oe(t,e){var n=e.id;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n)}function Me(t){var e=t.id;delete this.registeredActions[e]}function Ie(t){var e=this,n=t.id;t.events.forEach((function(t){var i=e.listeners[t].indexOf(n);i<0||(e.listeners[t].splice(i,1),0===e.listeners[t].length&&delete e.listeners[t])}))}function De(t){var e=t.id;this.listenersForAll.push(e)}function Pe(t){var e=t.id,n=this.listenersForAll.indexOf(e);this.listenersForAll.splice(n,1)}function Le(){Object.entries(this.eventObjects).forEach((function(t){return t[1].reset()})),this.log=[]}var je=function(){function t(){c()(this,t)}return g()(t,[{key:"reached",value:function(t){}},{key:"getOccurrenceById",value:function(t){}},{key:"getLogById",value:function(t){}},{key:"reset",value:function(){}},{key:"cleanUp",value:function(){}},{key:"history",get:function(){}},{key:"name",get:function(){}},{key:"occurrenceCount",get:function(){}}]),t}();function Be(t){var e,n=this,i=null===(e=this.previousOccurrence)||void 0===e?void 0:e.date.getTime();if(!(t.date.getTime()-i<1e3/this.freq)){this.previousOccurrence=t;var r=t.logId;this.log[r]=t,this.eventManager.getActionsForLog(r).forEach((function(t){var e=n.eventManager.getActionById(t);e.log(r),e.execute()}))}}function Ne(t){return this.log[t]}function Fe(t){return this.log[t]}function qe(){Object.entries(this.log).forEach((function(t){return t[1].reset()}))}function Ve(){Object.entries(this.log).forEach((function(t){return t[1].reset()})),this.log={}}function Ue(){return this.log}function We(){return this.eventName}function ze(){return this.log.length}var He=function t(e,n,i){return c()(this,t),d()(this,"log",{}),d()(this,"previousOccurrence",void 0),d()(this,"eventName",void 0),d()(this,"eventManager",void 0),d()(this,"freq",void 0),d()(this,"public",{cleanUp:Ve.bind(this),reset:qe.bind(this),getLogById:Fe.bind(this),getOccurrenceById:Ne.bind(this),reached:Be.bind(this),history:void 0,name:void 0,occurrenceCount:void 0}),d()(this,"info",{getHistory:Ue.bind(this),getName:We.bind(this),getOccurrenceCount:ze.bind(this)}),this.eventName=e,this.eventManager=n,this.freq=null==i?void 0:i.freq,C(this,this.public,"history","info"),C(this,this.public,"name","info"),C(this,this.public,"occurrenceCount","info"),p(this.public,[new je]),this.public};function Qe(t,e){this.eventObjects[t]||(this.eventObjects[t]=new He(t,this.public,e))}var Ke=function t(e){return c()(this,t),d()(this,"eventObjects",{}),d()(this,"registeredActions",{}),d()(this,"actionsLog",{}),d()(this,"listeners",{}),d()(this,"listenersForAll",[]),d()(this,"log",[]),d()(this,"core",void 0),d()(this,"public",{reset:Le.bind(this),getLog:Se.bind(this),getActionsForLog:Ce.bind(this),getLogById:_e.bind(this),getEventByName:we.bind(this),getActionsIdsByEventName:xe.bind(this),getActionById:Te.bind(this),getAllEvents:ke.bind(this),log:Ee.bind(this),registerAction:Re.bind(this),registerListener:Oe.bind(this),unregisterListeners:Ie.bind(this),unregisterAction:Me.bind(this),registerListenerForAllEvents:De.bind(this),unregisterListenerForAllEvents:Pe.bind(this)}),d()(this,"registerEventIfNotExist",Qe.bind(this)),this.core=e,p(this.public,[new ye]),this.public};function Ye(){this.eventManager=new Ke,this.emiter=this.public.emiter(this.public)}var Ge=["unknown","loaded","working","stopped","busy","error"];function Je(t){var e,n;if((null==this?void 0:this.core)&&Ge.includes(t)){var i=null==this||null===(e=this.info)||void 0===e?void 0:e.name,r=this.core.getComponent("eventManager");i&&r&&(null===(n=r[i])||void 0===n?void 0:n.stateChanged)&&t?(this.info.state=t,r[i].stateChanged.reached()):this.info.state="unknown"}else{var o;(null==this||null===(o=this.info)||void 0===o?void 0:o.state)&&(this.info.state="unknown")}}var Ze=function(){function t(){c()(this,t)}return g()(t,[{key:"emiter",value:function(){}},{key:"reset",value:function(){}},{key:"onOneOf",value:function(t){}},{key:"onSequence",value:function(t){}},{key:"onAll",value:function(t){}}]),t}(),Xe=function(){function t(){c()(this,t)}return g()(t,[{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}}]),t}(),$e=function t(e){return c()(this,t),d()(this,"eventManager",void 0),d()(this,"eventEmiter",void 0),d()(this,"core",void 0),d()(this,"public",{reset:pe.bind(this),onOneOf:ve.bind(this),onAll:ge.bind(this),onSequence:me.bind(this),emiter:fe.bind(this),getState:he.bind(this),setState:Je.bind(this),getEventManager:be.bind(this),name:void 0}),d()(this,"info",{name:"event",state:"unknown"}),d()(this,"init",Ye.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new Ze,new Xe]),this.init(),this.public};function tn(){this.event=new $e(this.sdkPublic),this.emiter=this.event.emiter(this.sdkPublic),this.registerComponent(this.event),this.emiter.reached("envirnoment",{env:this.sdkPublic.getEnv()}),this.loadComponents(),this.emiter.reached("allComponentsRegistered"),this.bindEvents()}function en(){return this.info.state}function nn(t){var e=t.date,n=t.eventName,i=t.extra,r=t.logId,o=t.tags,a=e.getTime(),s=o.join(",").replace(/,$/,"");window.console.log("SDKLOG",r,a,"".concat(s," ").concat(n," ").concat(i.string))}function rn(t){var e=t.date,n=t.emiter,i=t.eventName,r=t.logId,o=t.extra,a=t.tags,s=this.core.getComponent("user"),c=e.getTime(),u=null==n?void 0:n.name,d=this.core.getComponent("session"),l={instance:d.instanceId,session:d.id,uuid:null==s?void 0:s.getId(),message:{logId:r,timestamp:c,message:i,component:u,tags:a.join(","),data:o.object,dataString:o.string}};window.fetch("https://ttools.stage.online.tvwisla.com.pl/debug",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(l)})}function on(t){var e=t.date,n=t.emiter,i=t.eventName,r=t.extra,o=t.tags,a=e.getTime(),s=null==n?void 0:n.name,c=this.core.getComponent("session"),u=this.core.getComponent("sentryLogger"),d={timestamp:a,instanceId:null==c?void 0:c.instanceId,sessionId:null==c?void 0:c.id,extra:r.string,tags:o},l="info";l=o.indexOf("debug")>-1?"debug":l,l=o.indexOf("warning")>-1?"warning":l,l=o.indexOf("error")>-1?"error":l;var h={message:i,component:s,method:o.join(","),additionalData:d,type:l,source:"log"};u.log(h)}function an(){var t=this;this.enabled.sentry&&(this.event.onSequence({history:!0,events:["sentryReady"],action:function(){return t.event.onAll({tags:["warning","error","sentry"],history:!0,action:function(e,n){return t.sentry(e,n)}})}}),this.emiter.reached("sentryListenerEnabled"))}function sn(){var t=this;if(this.enabled.debug){var e=["contentTimeChanged","AD_PROGRESS:imaEvent","progress:adFlow","playerCurrentTimeChanged","ad.getCurrentTime:apiEvent,api","ad.onCurrentTimeChange:apiEvent,api","AD_PROGRESS:imaEvent,adController","onContentCurrentTimeChanged:apiEvent,PlayerWebView","onAdCurrentTimeChanged:apiEvent,WebViewPlayer","updateLayer:apiEvent,WebViewMobile,counter","removeOnBeforeUnloadHttpRequest:apiEvent,WebViewMobile,viewability","addOnBeforeUnloadHttpRequest:apiEvent,WebViewMobile,viewability"];this.event.onSequence({history:!0,events:["componentRegistered:http","componentRegistered:session","componentRegistered:storage","componentRegistered:user","componentInitialized:user","started:session"],action:function(){return t.event.onAll({exclude:e,history:!0,action:function(e,n){return t.endpoint(e,n)}})}}),this.emiter.reached("debugListenerEnabled")}}function cn(){var t=this;this.enabled.console&&(this.event.onAll({history:!0,exclude:["contentTimeChanged","AD_PROGRESS:imaEvent","progress:adFlow","playerCurrentTimeChanged","ad.getCurrentTime:apiEvent,api","ad.onCurrentTimeChange:apiEvent,api","AD_PROGRESS:imaEvent,adController","onContentCurrentTimeChanged:apiEvent,PlayerWebView","onAdCurrentTimeChanged:apiEvent,WebViewPlayer","updateLayer:apiEvent,WebViewMobile,counter","removeOnBeforeUnloadHttpRequest:apiEvent,WebViewMobile,viewability","addOnBeforeUnloadHttpRequest:apiEvent,WebViewMobile,viewability"],action:function(e,n){return t.console(e,n)}}),this.emiter.reached("consoleListenerEnabled"))}function un(){if(!this.enabled.debug){var t=this.core.getComponent("user"),e=this.core.getComponent("session"),n=null==e?void 0:e.instanceId,i=null==t?void 0:t.getId();this.enabled.console=!0,this.enabled.debug=!0,this.listenDebugEvents(),nn.log("SdkDebugId: ".concat(n,".").concat(i))}}function dn(){var t=this;this.enabled.debug||(this.enabled.console=!0,this.enabled.debug=!0,this.event.onSequence({history:!0,events:["storageDataLoaded","componentRegistered:storage"],action:function(e){var n=t.core.getComponent("storage"),i=n.useHardSpace();i.consoleLog=t.enabled.console,i.debug=t.enabled.debug,n.save(),t.listenConsoleEvents(),t.listenDebugEvents()}}))}function ln(){var t=this;this.enabled.debug&&(this.enabled.console=!1,this.enabled.debug=!1,this.event.onSequence({history:!0,events:["storageDataLoaded","componentRegistered:storage"],action:function(e){var n=t.core.getComponent("storage"),i=n.useHardSpace();i.consoleLog=t.enabled.console,i.debug=t.enabled.debug,n.save()}}))}function hn(){var t=this;this.event.onSequence({history:!0,events:["storageDataLoaded","componentRegistered:storage"],action:function(){var e=t.core.getComponent("storage").useHardSpace();t.enabled.console=!!e.consoleLog,t.enabled.debug=!!e.debug,t.listenConsoleEvents(),t.listenDebugEvents()}})}function pn(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.bindEvents(),this.bindSharedEvents(),this.listenSentryEvents(),this.listenDebugEvents(),this.listenConsoleEvents(),window.dumpSDKLog=this.dumpSDKLog,window.enableSDKLog=this.enableSDKLog,window.disableSDKLog=this.disableSDKLog}function fn(){var t=this;this.event.onSequence({history:!0,events:["adCounterReady","debugListenerEnabled"],action:function(){t.enabled.debug&&t.core.getComponent("adCounter").debugMode(!0)}})}var vn=function t(){c()(this,t)},gn=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"enabled",{debug:!1,console:!1,sentry:!0}),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{getState:en.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"info",{name:"log",state:"unknown"}),d()(this,"init",pn.bind(this)),d()(this,"bindSharedEvents",hn.bind(this)),d()(this,"console",nn.bind(this)),d()(this,"endpoint",rn.bind(this)),d()(this,"sentry",on.bind(this)),d()(this,"listenSentryEvents",an.bind(this)),d()(this,"listenDebugEvents",sn.bind(this)),d()(this,"listenConsoleEvents",cn.bind(this)),d()(this,"dumpSDKLog",un.bind(this)),d()(this,"enableSDKLog",dn.bind(this)),d()(this,"disableSDKLog",ln.bind(this)),d()(this,"bindEvents",fn.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new vn,new Xe]),this.init(),this.public};function mn(){return this.info.state}function bn(t){this.setget.id=t,this.emiter.reached("newSessionId",t)}var yn=function(t,e){var n="",i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";"string"==typeof e&&e.length>1&&(i=e),"number"!=typeof t&&(t=10);for(var r=0;r<t;r++)n+=i.charAt(Math.floor(Math.random()*i.length));return n};function An(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public);var t="sdk".concat(yn(9));this.setget.setId(t),this.setget.instanceId=yn(32),this.emiter.reached("instanceIdReady",this.setget.instanceId),this.emiter.reached("started"),this.bindEvents()}function wn(){var t=this;this.event.onOneOf({history:!0,events:["adapterDataSet"],action:function(e,n){var i,r=e.extra.object,o=null==r||null===(i=r.sdk)||void 0===i?void 0:i.config(),a=null==o?void 0:o.sessionId;a&&t.setget.setId(a),n.disable()}})}var kn=function t(){c()(this,t)},En=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{id:void 0,instanceId:void 0,getState:mn.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"setget",{instanceId:void 0,setId:bn.bind(this),name:"session",state:"unknown"}),d()(this,"init",An.bind(this)),d()(this,"bindEvents",wn.bind(this)),this.core=e,_(this,this.public,"id"),C(this,this.public,"name"),C(this,this.public,"instanceId"),p(this.public,[new kn,new Xe]),this.init(),this.public};function Cn(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({events:["configReady","componentRegistered:config"],action:this.initAdserverData})}function _n(){var t,e,n,i;this.config=this.core.getComponent("config");var r=null===(t=this.config.data.ads)||void 0===t?void 0:t.adServerIdPattern,o=null===(e=this.config.data.adapter)||void 0===e?void 0:e.ad,a=null==o||null===(n=o.driver)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.adserver;if(a){var s=a.match(new RegExp(r)),c=s&&s[1]?s[1]:void 0;this.setAdServerId(c)}this.emiter.reached("adserverDataReady")}function Sn(t){this.setget.adServerId=t,this.emiter.reached("newAdServerId",t)}var xn=function(){function t(){c()(this,t)}return g()(t,[{key:"vast",get:function(){}},{key:"adServerId",get:function(){}}]),t}(),Tn=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"public",{name:void 0}),d()(this,"setget",{name:"adServer",adServerId:void 0,vast:void 0}),d()(this,"setAdServerId",Sn.bind(this)),d()(this,"init",Cn.bind(this)),d()(this,"initAdserverData",_n.bind(this)),this.core=e,C(this,this.public,"name"),C(this,this.public,"vast"),C(this,this.public,"adServerId"),p(this.public,[new xn,new m]),this.init(),this.public},Rn=n(3),On=n.n(Rn),Mn=n(7),In=n.n(Mn),Dn=n(8),Pn=n.n(Dn),Ln=n(2),jn=n.n(Ln),Bn=function t(e){var n=this;if(void 0===e){var i=(new Date).getTime();e=i+""+Math.round(1e6*Math.random())}var r,o,a,s=!1,c=!0,u=[],d=!1,l=!1,h={},p=!1;this.do=function(t){return u.push(t),n},this.frequency=function(t){return o=t,n},this.reset=function(t){return u=[],c=!0,l=!1,n},this.once=function(){return s=!0,n},this.disable=function(){return c=!1,n},this.disableOnAction=function(t){return t.do((function(){n.disable()})),n},this.disableOnEvent=function(e){return e.action((new t).do((function(){n.disable()}))),n},this.enableOnAction=function(t){return t.do((function(){n.enable()})),n},this.enableOnEvent=function(e){return e.action((new t).do((function(){n.enable()}))),n},this.getID=function(){return e},this.isEnabled=function(){return c},this.errorOnEvent=function(e){return e.action((new t).do((function(){r()}))),n},this.enable=function(){return c=!0,d&&l&&n.run(),n},this.remember=function(){return d=!0,n},this.onError=function(t){return r=t,n},this.run=function(){if(c){s&&n.disable();var t=(new Date).getTime();if(void 0!==o&&void 0!==a&&t-a<1e3/o)return;a=t,f(),l=!1}else l=!0;return n},this.withHistory=function(){return p=!0,n},this.onSequence=function(e){if(Array.isArray(e)){var i=function(i){p&&e[i].isOccured()||(e[i].action((new t).do((function(t){delete h[i],0===Object.keys(h).length&&n.run()}))),h[i]=e[i])};for(var r in e)i(r);0===Object.keys(h).length&&n.run()}return n},this.onOneOf=function(i){if(Array.isArray(i))for(var r in i)p&&i[r].isOccured()&&n.run(),i[r].action(new t(e+": "+r).do((function(){n.run()})));return n};var f=function(){u.forEach((function(t){t()}))}},Nn=function(){function t(){c()(this,t),d()(this,"core",void 0),d()(this,"eventManager",void 0)}return g()(t,[{key:"build",value:function(t){var e=this,n="undefined";void 0!==this.getComponentName&&(n=this.getComponentName()),["getComponentName","getConfig","initialize","bindEvents","reset","ready","depends"].forEach((function(t){if(void 0===e[t])throw new Error("Class "+n+" need "+t+" implementation.")}));var i=t.getComponent("eventManager");this.bindEvents(i);var r=this.depends();if(r){var o=t.getComponent(r);o&&o.ready()?this.initialize(t):void 0!==i.sdk[r+"Ready"]&&i.sdk[r+"Ready"].action((new Bn).do((function(){e.initialize(t)})))}else this.initialize(t)}}]),t}();function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var qn=function(t){In()(n,t);var e=Fn(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),t}return g()(n,[{key:"getComponentName",value:function(){return"Sdk"}},{key:"getConfig",value:function(){}},{key:"reset",value:function(){}},{key:"initialize",value:function(t){this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.isReady=!0,this.eventManager.sdk.sdkReady.reached()}},{key:"bindEvents",value:function(){}},{key:"depends",value:function(){return"adapter"}},{key:"ready",value:function(){return this.isReady}}]),n}(Nn),Vn=function(t){var e=this,n=0,i={};this.action=function(n){void 0!==i[n.getID()]&&t.getComponent("logger").log({message:"DUPLICATE ACTION: "+n.getID(),type:"warning",component:"eventManager",method:"event.js > this.action()"});return i[n.getID()]=n,e},this.reached=function(){return n++,Object.entries(i).forEach((function(t){t[1].run(e)})),e},this.isOccured=function(){return!!n},this.reset=function(){i={},n=0}},Un=function(){function t(e){c()(this,t);for(var n=this.constructor.supportedEvents,i=0;i<n.length;i++){this[n[i]]=new Vn(e)}}return g()(t,[{key:"reset",value:function(){for(var t=this.constructor.supportedEvents,e=0;e<t.length;e++){this[t[e]].reset()}}}]),t}();d()(Un,"supportedEvents",[]);var Wn=Un;function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Hn=function(t){In()(n,t);var e=zn(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Hn,"supportedEvents",["initializeAd","loadRequest","loaded","preloaded","loadError","adError","startRequest","breakManagerStartRequest","startingAd","started","startError","pauseRequest","paused","pauseError","resumeRequest","resumed","resumeError","resizeRequest","resized","resizeError","adPassbackLoadRequest","adPassbackLoaded","adPassbackLoadError","completed","terminateRequest","currentTimeChanged","stateChanged","volumeChangeRequest","volumeChanged","fullScreenToggle","detailsChanged","durationChanged","userInteraction","imaSdkLoaded","bufferingStarted","bufferingCompleted"]);var Qn=Hn;function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Yn=function(t){In()(n,t);var e=Kn(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Yn,"supportedEvents",["loadRequest","loaded","loadError","startRequest","started","startError","resizeRequest","resized","resizeError","pauseRequest","paused","pauseError","resumeRequest","resumed","resumeError","terminateRequest","terminated","terminateError","completed","volumeChanged","progressChanged","volumeChangeRequest","adsManagerLoaded","adsManagerLoadError","adsManagerLoadTimeout"]);var Gn=Yn;function Jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Zn=function(t){In()(n,t);var e=Jn(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Zn,"supportedEvents",["prebidRequest","prebidComplete","prebidError","passbackLoadRequest","passbackLoaded","passbackLoadError","loadFromXML","loadFromUrl"]);var Xn=Zn;function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ti=function(t){In()(n,t);var e=$n(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ti,"supportedEvents",["loadControlsRequest","controlsLoaded","fullScreenToggle","showUiNavRequest","hideUiNavRequest","updateProgressBarRequest","playPauseToggle","resizeRequest","volumeChangeRequest","volumeBarUpdateRequest"]);var ei=ti;function ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ii=function(t){In()(n,t);var e=ni(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ii,"supportedEvents",["showRequest","hideRequest","resizeRequest","hidden","visible","resized","stateChanged"]);var ri=ii;function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ai=function(t){In()(n,t);var e=oi(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ai,"supportedEvents",["occurred"]);var si=ai;function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ui=function(t){In()(n,t);var e=ci(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ui,"supportedEvents",["eventManagerReady","sdkReady","adapterReady","loggerReady","adsManagerReady","adReady","vastReady","adblockDetectorReady","playerReady","gdprReady","adContainerReady","apiReady","viewabilityReady","breakManagerReady","platformDetectorReady","spinnerReady","adControlsReady","sentryLoggerReady","adPlayerReady","privacyDetectorReady","selloutReportingReady","ivcReady","unmuteBtnReady","restboardReady","mobileAppReady","mobileWebViewReady","storageReady","configReady","adsLoaderReady","componentSampleReady","autoplayDetectorReady","monitoringUxReady","continueWatchingReady","cookieMatchingReady","httpReady","counterReady","protectorReady","mobileApiReady","busy","running","userReady","flowReady","userDriverReady","sdkStorageDataLoaded","allComponentsLoaded","sdkOffline","sdkOnline","showSpinnerRequest","hideSpinnerRequest","storageDataLoaded","sampleComponentInitialized","mobileApiInitialized","httpInitialized","adsLoaderInitialized","breakManagerInitialized","breaksDataReady","protectorAdStartTimeout","protectorNextAdTimeout","adsLoaded","online","offline","adFlowPaused","adFlowResumed"]);var di=ui;function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var hi=function(t){In()(n,t);var e=li(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(hi,"supportedEvents",["detectionRequest","detected","notDetected","adblockBoardRequest","adblockBoardShown","stateChanged"]);var pi=hi;function fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var vi=function(t){In()(n,t);var e=fi(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(vi,"supportedEvents",["ready","loaded","onSubmit","vendorConsentsReady","consentDataReady","vendorListReady","cmpDetected","cmpNoDetected","stateChanged","tcfDetected","tcfNoDetected","onCmpShown"]);var gi=vi;function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var bi=function(t){In()(n,t);var e=mi(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(bi,"supportedEvents",["detectionRequest","detected","notDetected","stateChanged"]);var yi=bi;function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var wi=function(t){In()(n,t);var e=Ai(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(wi,"supportedEvents",["detectRequest","detected","stateChanged"]);var ki=wi;function Ei(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Ci=function(t){In()(n,t);var e=Ei(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Ci,"supportedEvents",["incognitoDetectionRequest","incognitoDetected","incognitoDetectionRejected","dntDetectionRequest","dntDetected","dntDetectionRejected","detectionRejected"]);var _i=Ci;function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var xi=function(t){In()(n,t);var e=Si(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(xi,"supportedEvents",["reportRequest","reported","reportError","stateChanged"]);var Ti=xi;function Ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Oi=function(t){In()(n,t);var e=Ri(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Oi,"supportedEvents",["stateChanged","assetLoaded","loaded","initialized","enabled","disabled","adapterPlayRequest","adaptePauseRequest","adapterAdPlaying","adapterPaused","adapterCompleted","adapterPlaying","adapterGetDuration","adapterGetWidth","adapterGetNavHeight","adapterGetHeight","adapterGetVersion","adapterInFullScreen","adapterIsMobile","adapterGetContainer","error"]);var Mi=Oi;function Ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Di=function(t){In()(n,t);var e=Ii(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Di,"supportedEvents",["measuringRequest","measured","adContainerFullyVisible","adContainerPartlyVisible","adContainerMouseOver","adContainerMouseLeave","adContainerVisibilityReached","adContainerVisibilityLost","adContainerScoreVisibilityTime","checkedVisibleArea","checkedInitVisibleArea","stateChanged"]);var Pi=Di;function Li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ji=function(t){In()(n,t);var e=Li(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ji,"supportedEvents",["ready"]);var Bi=ji;function Ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Fi=function(t){In()(n,t);var e=Ni(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Fi,"supportedEvents",["show","hide"]);var qi=Fi;function Vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Ui=function(t){In()(n,t);var e=Vi(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Ui,"supportedEvents",["show","hide"]);var Wi=Ui;function zi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Hi=function(t){In()(n,t);var e=zi(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Hi,"supportedEvents",["currentTimeChanged","sizeChanged","volumeChanged","videoStateChanged","playing","paused","completed","forcePause","stateChanged","playContentRequest","pauseContentRequest"]);var Qi=Hi;function Ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Yi=function(t){In()(n,t);var e=Ki(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Yi,"supportedEvents",["stateChanged"]);var Gi=Yi;function Ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Zi=function(t){In()(n,t);var e=Ji(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(Zi,"supportedEvents",["loadDriverRequest","gdprUnlock","driverLoaded","noBreaks","driverLoadError","driverLoadTimeout","driverReady","startBreakMonitor","preloadRequest","nextAdRequest","breakStarted","breakCompleted","breakSequenceStarted","incommingAd","breakSequenceCompleted","allBreaksCompleted","noPreroll","noPostroll","noMidroll","stateChanged","reportAdData","reportAdDataError","pauseRequest","resumeRequest","breakStartUpTimeout"]);var Xi=Zi;function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var tr=function(t){In()(n,t);var e=$i(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(tr,"supportedEvents",["stateChanged"]);var er=tr;function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ir=function(t){In()(n,t);var e=nr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ir,"supportedEvents",["stateChanged"]);var rr=ir;function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ar=function(t){In()(n,t);var e=or(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ar,"supportedEvents",["stateChanged"]);var sr=ar;function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ur=function(t){In()(n,t);var e=cr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(ur,"supportedEvents",["show","hide"]);var dr=ur;function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var hr=function(t){In()(n,t);var e=lr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(hr,"supportedEvents",["stateChanged"]);var fr=function(t){In()(n,t);var e=pr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(fr,"supportedEvents",["stateChanged","loaded","error"]);var vr=fr;function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var mr=function(t){In()(n,t);var e=gr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(mr,"supportedEvents",["active","unactive","stateChanged"]);var yr=function(t){In()(n,t);var e=br(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(yr,"supportedEvents",["webViewReady","webViewInitialized","mobileInitialized","loadAdsRequest"]);var Ar=yr;function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var kr=function(t){In()(n,t);var e=wr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(kr,"supportedEvents",["WebViewMobile_loadVast","WebViewMobile_updateLayer","WebViewMobile_errorOccured","WebViewMobile_loadAdByUrl","WebViewMobile_loadAdByXml","WebViewMobile_start","WebViewMobile_pause","WebViewMobile_resume","WebViewMobile_terminate","MobileWebView_playerDataRequest","MobileWebView_adsLoaderError","MobileWebView_adError","MobileWebView_reset","MobileWebView_initialize","MobileWebView_vastResponse","MobileWebView_errorOccurred","MobileWebView_imaEvent","MobileWebView_playerData","PlayerWebView_breakStartRequest","PlayerWebView_loadAds","PlayerWebView_adPauseRequest","PlayerWebView_adResumeRequest","PlayerWebView_adTerminateRequest","PlayerWebView_onContentCurrentTimeChanged","PlayerWebView_onContentStateChanged","PlayerWebView_onErrorOccured","PlayerWebView_getAvailableBreaks","PlayerWebView_getBreakName","PlayerWebView_getBreakIndex","PlayerWebView_getAdData","PlayerWebView_getAdCurrentTime","PlayerWebView_getAdState","PlayerWebView_getBreakSequenceRemaining","PlayerMobile_initialize","PlayerMobile_reset","MobilePlayer_getAdContainer","MobilePlayer_getData","WebViewPlayer_contentPlayRequest","WebViewPlayer_contentPauseRequest","WebViewPlayer_showSpinnerRequest","WebViewPlayer_hideSpinnerRequest","WebViewPlayer_onBreakSequenceStarted","WebViewPlayer_onBreakStarted","WebViewPlayer_onBreakCompleted","WebViewPlayer_onBreakSequenceCompleted","WebViewPlayer_onAllBreaksCompleted","WebViewPlayer_onErrorOccurred","WebViewPlayer_onAdCurrentTimeChanged","WebViewPlayer_onAdStateChanged","WebViewPlayer_onAdPreloaded","WebViewPlayer_onAdBuffering","imaEvent_LOADED","imaEvent_STARTED","imaEvent_AD_PROGRESS","imaEvent_COMPLETED","imaEvent_AD_BREAK_ENDED","imaEvent_AD_BREAK_FETCH_ERROR","imaEvent_AD_BREAK_READY","imaEvent_AD_BREAK_STARTED","imaEvent_AD_BUFFERING","imaEvent_AD_PERIOD_ENDED","imaEvent_AD_PERIOD_STARTED","imaEvent_ALL_ADS_COMPLETED","imaEvent_CLICKED","imaEvent_CONTENT_PAUSE_REQUESTED","imaEvent_CONTENT_RESUME_REQUESTED","imaEvent_CUEPOINTS_CHANGED","imaEvent_FIRST_QUARTILE","imaEvent_ICON_TAPPED","imaEvent_LOG","imaEvent_MIDPOINT","imaEvent_PAUSED","imaEvent_RESUMED","imaEvent_SKIPPABLE_STATE_CHANGED","imaEvent_SKIPPED","imaEvent_TAPPED","imaEvent_THIRD_QUARTILE"]);var Er=kr;function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var _r=function(t){In()(n,t);var e=Cr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);d()(_r,"supportedEvents",["impression","error","creativeView","start","midpoint","firstQuartile","thirdQuartile","complete","mute","unmute","pause","rewind","resume","fullscreen","expand","collapse","acceptInvitation","close"]);var Sr=_r;function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Tr=function(t){In()(n,t);var e=xr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(Tr,"supportedEvents",["stateChanged"]);var Or=function(t){In()(n,t);var e=Rr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(Or,"supportedEvents",["stateChanged"]);var Ir=function(t){In()(n,t);var e=Mr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(Ir,"supportedEvents",["stateChanged"]);var Pr=function(t){In()(n,t);var e=Dr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(Pr,"supportedEvents",["stateChanged","matchRequest","matched"]);var jr=function(t){In()(n,t);var e=Lr(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(jr,"supportedEvents",["adLoaded","adStarted","adResumed","adPaused","adCompleted","adCurrentTimeChanged","adVolumeChanged","adSizeChanged","adDriverReady","navFullScreenToggle","breakStartRequest","breakSequenceStarted","breakStarted","breakCompleted","breakSequenceCompleted","allBreaksCompleted","adStartRequest","adPauseRequest","adResumeRequest","adTerminateRequest","adResizeRequest","adVolumeChangeRequest","adStateChanged"]);var Nr=function(t){In()(n,t);var e=Br(n);function n(){return c()(this,n),e.apply(this,arguments)}return n}(Wn);function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}d()(Nr,"supportedEvents",["stateChanged"]);var qr=function(t){In()(n,t);var e=Fr(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"adsManager",void 0),d()(On()(t),"imaAdDriver",void 0),d()(On()(t),"tvnAdDriver",void 0),d()(On()(t),"uiControls",void 0),d()(On()(t),"adContainer",void 0),d()(On()(t),"error",void 0),d()(On()(t),"sdk",void 0),d()(On()(t),"platformDetector",void 0),d()(On()(t),"selloutReporting",void 0),d()(On()(t),"ivc",void 0),d()(On()(t),"adblockDetector",void 0),d()(On()(t),"viewability",void 0),d()(On()(t),"adCounter",void 0),d()(On()(t),"additionalText2",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"player",void 0),d()(On()(t),"breakManager",void 0),d()(On()(t),"publicApi",void 0),d()(On()(t),"privacyDetector",void 0),d()(On()(t),"adPlayer",void 0),d()(On()(t),"sentryLogger",void 0),d()(On()(t),"componentSample",void 0),d()(On()(t),"monitoringUx",void 0),d()(On()(t),"http",void 0),d()(On()(t),"logger",void 0),d()(On()(t),"adapter",void 0),d()(On()(t),"user",void 0),d()(On()(t),"mobile",void 0),d()(On()(t),"mobileApi",void 0),d()(On()(t),"tracking",void 0),d()(On()(t),"isReady",!1),t}return g()(n,[{key:"getComponentName",value:function(){return"EventManager"}},{key:"initialize",value:function(t){this.adsManager=new Qn(t),this.imaAdDriver=new Gn(t),this.tvnAdDriver=new Xn(t),this.uiControls=new ei(t),this.adContainer=new ri(t),this.error=new si(t),this.sdk=new di(t),this.adblockDetector=new pi(t),this.gdpr=new gi(t),this.viewability=new Pi(t),this.platformDetector=new yi(t),this.selloutReporting=new Ti(t),this.ivc=new Mi(t),this.eventManager=new Bi(t),this.player=new Qi(t),this.breakManager=new Xi(t),this.adCounter=new qi(t),this.additionalText2=new Wi(t),this.publicApi=new jr(t),this.privacyDetector=new _i(t),this.adPlayer=new Gi(t),this.sentryLogger=new er(t),this.logger=new rr(t),this.adapter=new sr(t),this.unmuteBtn=new dr(t),this.user=new vr(t),this.restboard=new mr(t),this.mobile=new Ar(t),this.mobileApi=new Er(t),this.tracking=new Sr(t),this.componentSample=new Ir(t),this.monitoringUx=new hr(t),this.cookieMatching=new Pr(t),this.autoplayDetector=new ki(t),this.continueWatching=new Tr(t),this.counter=new Nr(t),this.http=new Or(t),this.isReady=!0,this.sdk.eventManagerReady.reached()}},{key:"getConfig",value:function(){return{}}},{key:"bindEvents",value:function(){}},{key:"reset",value:function(){var t=this;Object.keys(this).forEach((function(e){"object"===h()(t[e])&&"function"==typeof t[e].reset&&t[e].reset()}))}},{key:"depends",value:function(){}},{key:"ready",value:function(){return this.isReady}}]),n}(Nn);function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Ur=function(t){In()(n,t);var e=Vr(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"session",void 0),d()(On()(t),"currentState","unknown"),d()(On()(t),"isReady",!1),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"sentry",void 0),d()(On()(t),"history",[]),d()(On()(t),"toHistory",!1),d()(On()(t),"debugHistory",[]),d()(On()(t),"verbose",!1),d()(On()(t),"deviceId",void 0),d()(On()(t),"zeroTime",void 0),t}return g()(n,[{key:"initialize",value:function(t){var e=this;this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.session=this.core.getComponent("session"),this.sentry=this.core.getComponent("sentryLogger"),this.setState("loaded"),new Bn("Logger on webview initializaed").do((function(){var t=e.core.getComponent("storage").useSpace("initialization");e.deviceId=t.data.rdid,e.zeroTime=t.data.appStartTime})).once().withHistory().onSequence([this.eventManager.mobile.webViewInitialized]),this.isReady=!0,this.eventManager.sdk.loggerReady.reached(),this.setState("working")}},{key:"debug",value:function(t,e,n){var i,r,o,a;function s(t,e){return(t=t.toString()).length<e?s("0"+t,e):t}var c,u,d=this.core.getComponent("storage");if(d&&(u=d.useHardSpace(),c=d.useSpace("logger")),!1!==(null===(i=u)||void 0===i?void 0:i.debug)||(null===(r=c)||void 0===r?void 0:r.forceDebug)){var l,h={now:new Date,message:Array.prototype.slice.call(arguments).map((function(t){return JSON.stringify(t)})).join(" | ")};if(this.debugHistory.push(h),((null===(o=u)||void 0===o?void 0:o.debug)||(null===(a=c)||void 0===a?void 0:a.forceDebug))&&!this.toHistory)if(this.deviceId)do{if(l=this.debugHistory.shift()){var p=this.session.id;l.uuid=this.deviceId,l.sessionid=p,l.message=(this.debugHistory.length>1?"(hist)":"(live)")+" | "+(l.now.getTime()-this.zeroTime)+"ms | "+s(l.now.getDate(),2)+"-"+s(l.now.getMonth(),2)+"-"+s(l.now.getFullYear(),4)+" | "+s(l.now.getHours(),2)+":"+s(l.now.getMinutes(),2)+":"+s(l.now.getSeconds(),2)+"."+s(l.now.getMilliseconds(),3)+"ms | "+l.message,fetch("https://atsdk-prev-d.stage.online.tvwisla.com.pl/hc",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(l)}),console.log(l.uuid+" | "+l.message)}}while(l)}else this.debugHistory=[]}},{key:"log",value:function(t){var e=t.message,n=t.component,i=t.method,r=t.additionalData,o=t.type;this.sentry?this.sentry.log({message:e,component:n,method:i,additionalData:r,type:o}):this.setState("error")}},{key:"save",value:function(t){var e=t.event,n=t.group;this.history.push({instance:this.session.id,time:this.humanTime(),group:n,event:e})}},{key:"getHistory",value:function(t){var e=[];for(var n in this.history){var i=this.history[n];void 0!==t&&i.group!==t||e.push(i)}return e}},{key:"getHumanHistory",value:function(t){var e="\n";for(var n in this.history){var i=this.history[n];void 0!==t&&i.group!==t||(e+=i.time+" | "+i.group+" | "+i.event+"\n")}return e}},{key:"humanTime",value:function(){var t=new Date,e=t.getHours().toString(),n=t.getMinutes().toString(),i=t.getSeconds().toString(),r=t.getMilliseconds().toString();return 2===r.length?r="0"+r:1===r.length&&(r="00"+r),e+":"+n+":"+i+" +"+r}},{key:"getComponentName",value:function(){return"Logger"}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.logger.stateChanged.reached()}},{key:"getConfig",value:function(){return{}}},{key:"bindEvents",value:function(t){var e=this;new Bn("Logging to history if sdk work offline").do((function(){e.toHistory=!0})).onOneOf([t.sdk.offline]),new Bn("Logging live if sdk work offline").do((function(){e.toHistory=!1})).onOneOf([t.sdk.online])}},{key:"reset",value:function(){}},{key:"depends",value:function(){return"eventManager"}},{key:"ready",value:function(){return this.isready}}]),n}(Nn);function Wr(){return this.info.state}function zr(){return this.externalApi}function Hr(t,e,n){if(this.externalApi[t]&&"function"==typeof this.externalApi[t][e])return this.emiter.reached("".concat(t,".").concat(e,":apiEvent"),{api:{dir:"out",value:n}}),void this.externalApi[t][e](n);throw new Error("outgoingCall argument is not a function.")}function Qr(t,e){if(this.externalApi[t]&&"function"==typeof this.externalApi[t][e]){for(var n,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=(n=this.apiMethod[t])[e].apply(n,r);return this.emiter.reached("".concat(t,".").concat(e,":apiEvent"),{api:{dir:"inc",value:a}}),a}throw new Error("incommingCall argument is not a function.")}var Kr=function(t){var e=t.getComponent("breakManager");return null==e?void 0:e.getFirstBreakInProgress()};function Yr(t){var e=function(t){var e=t.getComponent("breakManager"),n=null==e?void 0:e.getCurrentBreaksQueue();return null==n?void 0:n.completedBreaks()}(t),n=0;return e.forEach((function(t){n+=0|(null==t?void 0:t.ads)})),n}function Gr(){var t=this;new Bn("Public AD API call onPreload.").onOneOf([this.eventManager.publicApi.adLoaded]).do((function(){return t.outgoingCall("ad","onPreload")})),new Bn("Public AD API call onStart.").onOneOf([this.eventManager.publicApi.adStarted]).do((function(){return t.outgoingCall("ad","onStart")})),new Bn("Public AD API call onPause.").onOneOf([this.eventManager.publicApi.adPaused]).do((function(){return t.outgoingCall("ad","onPause")})),new Bn("Public AD API call onResume.").onOneOf([this.eventManager.publicApi.adResumed]).do((function(){return t.outgoingCall("ad","onResume")})),new Bn("Public AD API call onComplete.").onOneOf([this.eventManager.publicApi.adCompleted]).do((function(){return t.outgoingCall("ad","onComplete")})),new Bn("Public AD API call onVolumeChange.").onOneOf([this.eventManager.publicApi.adVolumeChanged]).do((function(){return t.outgoingCall("ad","onVolumeChange")})),new Bn("Public AD API call onSizeChange.").onOneOf([this.eventManager.publicApi.adSizeChanged]).do((function(){return t.outgoingCall("ad","onSizeChange")})),new Bn("Public AD API call onCurrentTimeChange.").onOneOf([this.eventManager.publicApi.adCurrentTimeChanged]).do((function(){return t.outgoingCall("ad","onCurrentTimeChange")})),new Bn("Public AD API call navFullScreenToggle.").onOneOf([this.eventManager.publicApi.navFullScreenToggle]).do((function(){return t.outgoingCall("ad","onFullScreenToggle")})),new Bn("Public AD API call onStateChange.").onOneOf([this.eventManager.publicApi.adStateChanged]).do((function(){return t.outgoingCall("ad","onStateChange")})),new Bn("Public adblockDetector API call onAdblockEvent.").onOneOf([this.eventManager.adblockDetector.detected,this.eventManager.adblockDetector.notDetected]).do((function(){return t.outgoingCall("adblockDetector","onAdblockDetection")})),new Bn("Public breakManager API call driverLoaded.").onOneOf([this.eventManager.breakManager.driverLoaded]).do((function(){return t.outgoingCall("break","ready")})),new Bn("Public breakManager API call breakSequenceStarted.").onOneOf([this.eventManager.publicApi.breakSequenceStarted]).do((function(){var e,n,i,r=(e=t.core,n=e.getComponent("breakManager"),null==(i=null==n?void 0:n.getCurrentBreaksQueue())?void 0:i.queuedBreaks());t.outgoingCall("break","onBreakSequenceStart",r)})),new Bn("Public breakManager API call breakStarted.").onOneOf([this.eventManager.breakManager.breakStarted]).do((function(){return t.outgoingCall("break","onBreakStart")})),new Bn("Public breakManager API call breakCompleted.").onOneOf([this.eventManager.breakManager.breakCompleted]).do((function(){return t.outgoingCall("break","onBreakComplete")})),this.event.onOneOf({events:["breakCompleted"],action:function(e){return t.outgoingCall("break","onBreakComplete",e.extra.object)}}),this.event.onOneOf({events:["breakSequenceCompleted"],action:function(e){return t.outgoingCall("break","onBreakSequenceComplete",e.extra.object)}}),new Bn("Public breakManager API call breakSequenceCompleted.").onOneOf([this.eventManager.breakManager.breakSequenceCompleted]).do((function(){return t.outgoingCall("break","onBreakSequenceComplete")})),this.event.onOneOf({events:["allBreaksCompleted"],action:function(){return t.outgoingCall("break","onAllBreaksComplete")}}),new Bn("Public SDK API. Call when api ready").do((function(){return t.outgoingCall("break","ready")})).onOneOf([this.eventManager.sdk.apiReady])}function Jr(){this.event=this.core.getComponent("event"),this.eventManager=this.core.getComponent("eventManager"),this.emiter=this.event.emiter(this.public),this.initExternalAdApi(),this.initExternalAdblockDetectorApi(),this.initExternalBreakApi(),this.initExternalLoaderApi(),this.initExternalSdkApi(),this.initExternalErrorApi(),this.bindEvents()}var Zr=function(){function t(){c()(this,t)}return g()(t,[{key:"getExternalApi",value:function(){}}]),t}(),Xr=function(t){var e=t.getComponent("breakManager"),n=null==e?void 0:e.getFirstBreakInProgress();if(n){var i=n.adQueue.activeAd;return null==i?void 0:i.info.getMyActiveInstance()}},$r=function(t,e){var n,i,r=Xr(t);if(r){var o=r.info.getData();switch(e){case"currentTime":return function(t){var e=Xr(t);if(e){var n=e.info.duration-e.info.remaining;return Math.round(n)}}(t);case"state":return function(t){var e=Xr(t);return null==e?void 0:e.state.string}(t);case"inFullScreen":return r.state.inFullScreen;case"width":return null===(n=t.getComponent("adContainer"))||void 0===n?void 0:n.getWidth();case"height":return null===(i=t.getComponent("adContainer"))||void 0===i?void 0:i.getHeight();case"duration":return r.info[e];case"creativeId":return r.info.getCreativeId();case"mediaUrl":return o.mediaUrl;case"volume":return r.info.volume;default:return o[e]}}},to=function(t,e){var n=Xr(t);if(n){var i=n.info.getData();return i[e]?i[e]:n.info[e]}},eo=function(t){var e=function(t){var e=Xr(t);return null==e?void 0:e.vastObject.getExtra()}(t);if(e)return parseInt(e.Position)};function no(){this.externalApi.break.start()}function io(){var t=Xr(this.core),e=this.core.getComponent("event");t&&e.emiter().reached("pause:adControl"),this.core.getComponent("eventManager").publicApi.adPauseRequest.reached()}function ro(){var t=Xr(this.core),e=this.core.getComponent("event");t&&e.emiter().reached("resume:adControl"),this.core.getComponent("eventManager").publicApi.adResumeRequest.reached()}function oo(){this.emiter.reached("terminate:adControl,apiEvent");var t=Xr(this.core);t&&t.control.terminate(),this.core.getComponent("eventManager").publicApi.adTerminateRequest.reached()}function ao(t,e){this.emiter.reached("sizeChangeRequest:apiEvent",{object:{width:t,height:e}})}function so(t){this.emiter.reached("volumeChangeRequest:apiEvent",t)}function co(){return $r(this.core,"inFullScreen")}function uo(){return $r(this.core,"currentTime")}function lo(){return $r(this.core,"state")}function ho(){return $r(this.core,"duration")}function po(){return $r(this.core,"width")}function fo(){return $r(this.core,"height")}function vo(){return $r(this.core,"volume")}function go(){return $r(this.core,"adSystem")}function mo(){return $r(this.core,"title")}function bo(){return $r(this.core,"description")}function yo(){return $r(this.core,"adId")}function Ao(){return $r(this.core,"creativeId")}function wo(){return $r(this.core,"advertiserName")}function ko(){return $r(this.core,"apiFramework")}function Eo(){return $r(this.core,"contentType")}function Co(){return $r(this.core,"dealId")}function _o(){return $r(this.core,"vastMediaBitrate")}function So(){return $r(this.core,"mediaUrl")}function xo(){this.emiter.reached("getDriverRequest:deprecated")}function To(){this.emiter.reached("apiMethodNotImplemented:warning","onPreload")}function Ro(){this.emiter.reached("apiMethodNotImplemented:warning","onStart")}function Oo(){this.emiter.reached("apiMethodNotImplemented:warning","onPause")}function Mo(){this.emiter.reached("apiMethodNotImplemented:warning","onResume")}function Io(){this.emiter.reached("apiMethodNotImplemented:warning","onComplete")}function Do(){this.emiter.reached("apiMethodNotImplemented:warning","onCurrentTimeChange")}function Po(){this.emiter.reached("apiMethodNotImplemented:warning","onSizeChange")}function Lo(){this.emiter.reached("apiMethodNotImplemented:warning","onVolumeChange")}function jo(){this.emiter.reached("apiMethodNotImplemented:warning","onFullScreenToggle")}function Bo(){this.emiter.reached("apiMethodNotImplemented:warning","onStateChange")}function No(){this.emiter.reached("apiMethodNotImplemented:warning","adRequest")}function Fo(){this.emiter.reached("apiMethodNotImplemented:warning","adResponse")}function qo(){this.emiter.reached("apiMethodNotImplemented:warning","progress")}function Vo(){this.emiter.reached("apiMethodNotImplemented:warning","overlayStarted")}function Uo(){this.emiter.reached("apiMethodNotImplemented:warning","overlayCompleted")}function Wo(){}function zo(){}function Ho(){return t=this.core,null==(e=t.getComponent("adblockDetector"))?void 0:e.isAdblockDetected();var t,e}function Qo(){this.emiter.reached("apiMethodNotImplemented:warning","onAdblockDetection")}function Ko(){this.emiter.reached("breakStartRequest"),this.core.getComponent("eventManager").publicApi.breakStartRequest.reached()}function Yo(){return t=this.core,null==(e=Kr(t))?void 0:e.info.name;var t,e}function Go(){return t=this.core,null==(e=Kr(t))?void 0:e.info.index;var t,e}function Jo(){return t=this.core,null==(e=t.getComponent("breakManager"))?void 0:e.getAvailableBreaks();var t,e}function Zo(){this.emiter.reached("apiMethodNotImplemented:warning","ready")}function Xo(){this.emiter.reached("apiMethodNotImplemented:warning","onBreakSequenceStart")}function $o(){this.emiter.reached("apiMethodNotImplemented:warning","onBreakStart")}function ta(){this.emiter.reached("apiMethodNotImplemented:warning","onBreakComplete")}function ea(){this.emiter.reached("apiMethodNotImplemented:warning","onBreakSequenceComplete")}function na(){this.emiter.reached("apiMethodNotImplemented:warning","onAllBreaksComplete")}function ia(){}function ra(){}function oa(){}function aa(){}function sa(){}function ca(){this.emiter.reached("apiMethodNotImplemented:warning","onError")}function ua(){return this.core.getVersion()}function da(){this.emiter.reached("sdkDestroy")}function la(){this.emiter.reached("apiMethodNotImplemented:warning","ready")}function ha(){var t=this,e={},n={},i={};e.start=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","start"].concat(n))},e.pause=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","pause"].concat(n))},e.resume=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","resume"].concat(n))},e.terminate=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","terminate"].concat(n))},e.resize=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","resize"].concat(n))},e.setVolume=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","setVolume"].concat(n))},n.inFullScreen=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","inFullScreen"].concat(n))},n.getCurrentTime=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getCurrentTime"].concat(n))},n.getState=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getState"].concat(n))},n.getDuration=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getDuration"].concat(n))},n.getWidth=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getWidth"].concat(n))},n.getHeight=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getHeight"].concat(n))},n.getVolume=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getVolume"].concat(n))},n.getAdSystem=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getAdSystem"].concat(n))},n.getTitle=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getTitle"].concat(n))},n.getDescription=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getDescription"].concat(n))},n.getId=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getId"].concat(n))},n.getCreativeId=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getCreativeId"].concat(n))},n.getAdvertiserName=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getAdvertiserName"].concat(n))},n.getApiFramework=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getApiFramework"].concat(n))},n.getContentType=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getContentType"].concat(n))},n.getDealId=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getDealId"].concat(n))},n.getBitrate=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getBitrate"].concat(n))},n.getMediaUrl=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getMediaUrl"].concat(n))},n.getDriver=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["ad","getDriver"].concat(n))},i.onPreload=function(){var e;return(e=t.apiMethod.ad).onPreload.apply(e,arguments)},i.onStart=function(){var e;return(e=t.apiMethod.ad).onStart.apply(e,arguments)},i.onPause=function(){var e;return(e=t.apiMethod.ad).onPause.apply(e,arguments)},i.onResume=function(){var e;return(e=t.apiMethod.ad).onResume.apply(e,arguments)},i.onComplete=function(){var e;return(e=t.apiMethod.ad).onComplete.apply(e,arguments)},i.onCurrentTimeChange=function(){var e;return(e=t.apiMethod.ad).onCurrentTimeChange.apply(e,arguments)},i.onSizeChange=function(){var e;return(e=t.apiMethod.ad).onSizeChange.apply(e,arguments)},i.onVolumeChange=function(){var e;return(e=t.apiMethod.ad).onVolumeChange.apply(e,arguments)},i.onFullScreenToggle=function(){var e;return(e=t.apiMethod.ad).onFullScreenToggle.apply(e,arguments)},i.onStateChange=function(){var e;return(e=t.apiMethod.ad).onStateChange.apply(e,arguments)},i.adRequest=function(){var e;return(e=t.apiMethod.ad).adRequest.apply(e,arguments)},i.adResponse=function(){var e;return(e=t.apiMethod.ad).adResponse.apply(e,arguments)},i.progress=function(){var e;return(e=t.apiMethod.ad).progress.apply(e,arguments)},i.overlayStarted=function(){var e;return(e=t.apiMethod.ad).overlayStarted.apply(e,arguments)},i.overlayCompleted=function(){var e;return(e=t.apiMethod.ad).overlayCompleted.apply(e,arguments)},this.externalApi.ad=Object.assign(e,n,i)}function pa(){var t=this,e={start:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["break","start"].concat(n))},getBreakName:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["break","getBreakName"].concat(n))},getBreakIndex:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["break","getBreakIndex"].concat(n))},getAvailableBreaks:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["break","getAvailableBreaks"].concat(n))},ready:function(){var e;return(e=t.apiMethod.break).ready.apply(e,arguments)},onBreakSequenceStart:function(){var e;return(e=t.apiMethod.break).onBreakSequenceStart.apply(e,arguments)},onBreakStart:function(){var e;return(e=t.apiMethod.break).onBreakStart.apply(e,arguments)},onBreakComplete:function(){var e;return(e=t.apiMethod.break).onBreakComplete.apply(e,arguments)},onBreakSequenceComplete:function(){var e;return(e=t.apiMethod.break).onBreakSequenceComplete.apply(e,arguments)},onAllBreaksComplete:function(){var e;return(e=t.apiMethod.break).onAllBreaksComplete.apply(e,arguments)}};this.externalApi.break=e}function fa(){var t=this,e={isAdblockDetected:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["adblockDetector","isAdblockDetected"].concat(n))},onAdblockDetection:function(){var e;return(e=t.apiMethod.adblockDetector).onAdblockDetection.apply(e,arguments)}};this.externalApi.adblockDetector=e}function va(){var t=this,e={version:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["sdk","version"].concat(n))},destroy:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["sdk","destroy"].concat(n))},ready:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["sdk","ready"].concat(n))}};this.externalApi.sdk=e}function ga(){var t=this,e={loadFromUrl:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["adsLoader","loadFromUrl"].concat(n))},loadFromXml:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["adsLoader","loadFromXml"].concat(n))}};this.externalApi.adsLoader=e}function ma(){var t=this,e={getLog:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","getLog"].concat(n))},getLastErrorCode:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","getLastErrorCode"].concat(n))},getLastErrorMessage:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","getLastErrorMessage"].concat(n))},getLastErrorType:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","getLastErrorType"].concat(n))},getLastErrorTime:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","getLastErrorTime"].concat(n))},onError:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.incommingCall.apply(t,["error","onError"].concat(n))}};this.externalApi.error=e}var ba=function t(e){return c()(this,t),d()(this,"externalApi",{}),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"eventManager",void 0),d()(this,"public",{getExternalApi:zr.bind(this),getState:Wr.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"setget",{name:"api",state:"unknown"}),d()(this,"apiMethod",{ad:{start:no.bind(this),pause:io.bind(this),resume:ro.bind(this),terminate:oo.bind(this),resize:ao.bind(this),setVolume:so.bind(this),inFullScreen:co.bind(this),getCurrentTime:uo.bind(this),getState:lo.bind(this),getDuration:ho.bind(this),getWidth:po.bind(this),getHeight:fo.bind(this),getVolume:vo.bind(this),getAdSystem:go.bind(this),getTitle:mo.bind(this),getDescription:bo.bind(this),getId:yo.bind(this),getCreativeId:Ao.bind(this),getAdvertiserName:wo.bind(this),getApiFramework:ko.bind(this),getContentType:Eo.bind(this),getDealId:Co.bind(this),getBitrate:_o.bind(this),getMediaUrl:So.bind(this),getDriver:xo.bind(this),onPreload:To.bind(this),onStart:Ro.bind(this),onPause:Oo.bind(this),onResume:Mo.bind(this),onComplete:Io.bind(this),onCurrentTimeChange:Do.bind(this),onSizeChange:Po.bind(this),onVolumeChange:Lo.bind(this),onFullScreenToggle:jo.bind(this),onStateChange:Bo.bind(this),adRequest:No.bind(this),adResponse:Fo.bind(this),progress:qo.bind(this),overlayStarted:Vo.bind(this),overlayCompleted:Uo.bind(this)},adblockDetector:{isAdblockDetected:Ho.bind(this),onAdblockDetection:Qo.bind(this)},adsLoader:{loadFromUrl:Wo.bind(this),loadFromXml:zo.bind(this)},break:{start:Ko.bind(this),getBreakName:Yo.bind(this),getBreakIndex:Go.bind(this),getAvailableBreaks:Jo.bind(this),ready:Zo.bind(this),onBreakSequenceStart:Xo.bind(this),onBreakStart:$o.bind(this),onBreakComplete:ta.bind(this),onBreakSequenceComplete:ea.bind(this),onAllBreaksComplete:na.bind(this)},sdk:{version:ua.bind(this),destroy:da.bind(this),ready:la.bind(this)},error:{getLog:ia.bind(this),getLastErrorCode:ra.bind(this),getLastErrorMessage:oa.bind(this),getLastErrorType:aa.bind(this),getLastErrorTime:sa.bind(this),onError:ca.bind(this)}}),d()(this,"initExternalAdApi",ha.bind(this)),d()(this,"initExternalBreakApi",pa.bind(this)),d()(this,"initExternalAdblockDetectorApi",fa.bind(this)),d()(this,"initExternalSdkApi",va.bind(this)),d()(this,"initExternalLoaderApi",ga.bind(this)),d()(this,"initExternalErrorApi",ma.bind(this)),d()(this,"incommingCall",Qr.bind(this)),d()(this,"outgoingCall",Hr.bind(this)),d()(this,"bindEvents",Gr.bind(this)),d()(this,"init",Jr.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new Zr,new Xe]),this.init(),this.public},ya=function t(){c()(this,t)};function Aa(){return this.info.state}function wa(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentInitialized:flow"],action:function(){t.checkBrowserInitialState(),t.bindEvents()}})}function ka(){switch(document.visibilityState){case"hidden":this.emiter.reached("tabInActive");break;case"visible":this.emiter.reached("tabActive")}}function Ea(){var t=this;document&&(document.addEventListener("visibilitychange",(function(e){"visible"===document.visibilityState?t.emiter.reached("tabActive"):t.emiter.reached("tabInActive")})),window.addEventListener("beforeunload",(function(){return t.emiter.reached("beforeunload")})))}var Ca=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{getState:Aa.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"info",{name:"browser",state:"unknown"}),d()(this,"init",wa.bind(this)),d()(this,"bindEvents",Ea.bind(this)),d()(this,"checkBrowserInitialState",ka.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new ya,new Xe]),this.init(),this.public};function _a(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.event.onSequence({history:!0,events:["componentRegistered:config"],action:function(e,n){t.config=t.core.getComponent("config"),t.bindEvents()}})}function Sa(){this.adProgress=this.activeAd.info.currentTime,this.zombieLevel=0}function xa(){var t;this.zombieLevel++;var e=this.config.data.adsService,n=null==e?void 0:e.zombieAdsDetector,i=null==n?void 0:n.zombieRequiredLevel,r=null===(t=this.activeAd)||void 0===t?void 0:t.state.manualPause;this.zombieLevel>i&&!1===r&&this.activeAd.state.playing&&this.emiter.reached("zombieAdDetected:warning",{adObject:this.activeAd})}function Ta(t){var e,n=this;this.activeAd=(null==t?void 0:t.extra.object)||this.activeAd;var i=this.config.data.adsService,r=(null==i||null===(e=i.zombieAdsDetector)||void 0===e?void 0:e.monitorInterval)||3e3;this.alive(),clearInterval(this.monitorInterval),this.monitorInterval=setInterval((function(){var t;(null===(t=n.activeAd)||void 0===t?void 0:t.info.currentTime)-n.adProgress?n.alive():n.zombie()}),r)}function Ra(){clearInterval(this.monitorInterval),this.activeAd=void 0}function Oa(){this.event.onOneOf({events:["started:adFlow"],action:this.startActivityMonitor}),this.event.onOneOf({events:["completed:adFlow"],action:this.stopActivityMonitor})}var Ma=function t(){c()(this,t)},Ia=function t(e){return c()(this,t),d()(this,"activeAd",void 0),d()(this,"adProgress",void 0),d()(this,"monitorINterval",void 0),d()(this,"emiter",void 0),d()(this,"zombieLevel",0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"public",{}),d()(this,"init",_a.bind(this)),d()(this,"bindEvents",Oa.bind(this)),d()(this,"alive",Sa.bind(this)),d()(this,"zombie",xa.bind(this)),d()(this,"startActivityMonitor",Ta.bind(this)),d()(this,"stopActivityMonitor",Ra.bind(this)),this.core=e,p(this.public,[new Ma]),this.init(),this.public};function Da(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.event.onSequence({history:!0,events:["componentRegistered:player","componentRegistered:adVolume"],action:function(e,n){t.adVolume=t.core.getComponent("adVolume"),t.player=t.core.getComponent("player"),t.bindEvents()}})}function Pa(t){t.info.isVpaid&&this.emiter.reached("volumeChangeRequest",this.adVolume.value)}function La(t){if(t.info.isVpaid){var e=this.player.width(),n=this.player.height();this.emiter.reached("sizeChangeRequest",{object:{width:e,height:n}})}}function ja(){var t=this;this.event.onOneOf({events:["started:adFlow"],action:function(e){var n=e.extra.object;t.fixVpaidVolume(n),t.fixVpaidSize(n)}})}var Ba=function t(){c()(this,t)},Na=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"adVolume",void 0),d()(this,"player",void 0),d()(this,"public",{}),d()(this,"init",Da.bind(this)),d()(this,"bindEvents",ja.bind(this)),d()(this,"fixVpaidVolume",Pa.bind(this)),d()(this,"fixVpaidSize",La.bind(this)),this.core=e,p(this.public,[new Ba]),this.init(),this.public};function Fa(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onOneOf({history:!0,events:["componentRegistered:player"],action:function(){t.player=t.core.getComponent("player"),t.bindEvents()}})}function qa(){"playing"===this.player.state()&&this.emiter.reached("simultaneouslyPlayAdAndContent:warning")}function Va(){var t=this;this.event.onOneOf({events:["started:adFlow"],action:function(){return t.checkSimultaneousPlay()}})}var Ua=function t(){c()(this,t)},Wa=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"player",void 0),d()(this,"public",{}),d()(this,"init",Fa.bind(this)),d()(this,"bindEvents",Va.bind(this)),d()(this,"checkSimultaneousPlay",qa.bind(this)),this.core=e,p(this.public,[new Ua]),this.init(),this.public};function za(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.services=[new Ia(this.core),new Na(this.core),new Wa(this.core)]}var Ha=function t(){c()(this,t)},Qa=function t(e){return c()(this,t),d()(this,"name","adsService"),d()(this,"services",[]),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"public",{name:void 0}),d()(this,"setget",{name:this.name}),d()(this,"init",za.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new Ha,new m]),this.init(),this.public};function Ka(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onOneOf({history:!0,events:["adapterDataSet"],action:function(e,n){var i;t.adapterObject=null===(i=t.core.getComponent("adapter"))||void 0===i?void 0:i.get(),t.initializePlayerData(),t.bindEvents(),t.eventManager.sdk.playerReady.reached(),n.disable(),t.emiter.reached("componentInitialized:player")}})}var Ya=function(t){if("number"==typeof t){var e=t,n=Math.floor(e/60/60);e=t-60*n*60;var i=Math.floor(e/60),r=Math.floor(e-60*i),o="";return 1===n.toString().length&&(n="0"+n),o+=n+":",1===i.toString().length&&(i="0"+i),o+=i+":",1===r.toString().length&&(r="0"+r),o+=r}};function Ga(t){if("number"==typeof t){var e=t/1e3;return function(t){if("number"==typeof t)return Ya(t).slice(3)}(Math.round(e))}}function Ja(t){return null===t?t:t?1e3*Za(t):void 0}function Za(t){if("string"==typeof t){var e=t.split(":");if(3===e.length)return 60*parseInt(e[0])*60+60*parseInt(e[1])+parseInt(e[2])}}function Xa(t){if("number"==typeof t)return 1e3*t}function $a(t){if("number"==typeof t)return t/1e3}function ts(){this.version=this.adapterObject.player.version(),this.name=this.adapterObject.player.name(),this.state=this.adapterObject.player.state(),this.width=this.adapterObject.player.width(),this.height=this.adapterObject.player.height(),this.duration=Xa(this.adapterObject.player.duration()),this.inFullScreen=this.adapterObject.player.inFullScreen(),this.state=this.adapterObject.player.state(),this.volume=this.adapterObject.player.volume(),this.videoElement=this.adapterObject.player.videoElement(),this.currentTime=Xa(this.adapterObject.player.currentTime())}function es(t){if(!this.allowedStates.includes(t))return this.state=void 0,void this.emiter.reached("UnknownContentState:warning",t);this.emiter.reached("".concat(t,":contentFlow")),this.state=t}function ns(){return this.version}function is(){return this.name}function rs(){this.adapterObject.player.playRequest()}function os(){this.adapterObject.player.pauseRequest()}function as(){return this.state}function ss(){return this.width}function cs(){return this.height}function us(){return this.duration}function ds(){return this.inFullScreen}function ls(){return this.state}function hs(){return this.volume}function ps(){return this.videoElement}function fs(){return Xa(this.currentTime)}function vs(){var t=this;this.event.onOneOf({events:["contentTimeChanged"],action:function(e){t.currentTime=e.extra.object,t.eventManager.player.currentTimeChanged.reached()}}),this.event.onOneOf({events:["playContentRequest"],action:function(e){return t.public.play()}}),this.event.onOneOf({events:["pauseContentRequest"],action:function(e){return t.public.pause()}}),this.event.onOneOf({events:["sizeChangeRequest"],action:function(e){t.width=e.extra.object.width,t.height=e.extra.object.height}}),this.event.onOneOf({events:["player.volumeChanged:adapterCall"],action:function(e){return t.public.pause()}}),this.event.onOneOf({events:["contentStateChanged"],action:function(e){return t.setState(e.extra.object)}})}var gs=function(){function t(){c()(this,t)}return g()(t,[{key:"getVersion",value:function(){}},{key:"getName",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"getState",value:function(){}},{key:"width",value:function(){}},{key:"height",value:function(){}},{key:"duration",value:function(){}},{key:"inFullScreen",value:function(){}},{key:"state",value:function(){}},{key:"volume",value:function(){}},{key:"getVideoElement",value:function(){}},{key:"currentTime",value:function(){}}]),t}(),ms=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"adapterObject",void 0),d()(this,"version",void 0),d()(this,"name",void 0),d()(this,"state",void 0),d()(this,"allowedStates",["pending","started","playing","paused","completed"]),d()(this,"width",void 0),d()(this,"height",void 0),d()(this,"duration",void 0),d()(this,"inFullScreen",void 0),d()(this,"state",void 0),d()(this,"volume",void 0),d()(this,"videoElement",void 0),d()(this,"currentTime",void 0),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"public",{getVersion:ns.bind(this),getName:is.bind(this),play:rs.bind(this),pause:os.bind(this),getState:as.bind(this),width:ss.bind(this),height:cs.bind(this),duration:us.bind(this),inFullScreen:ds.bind(this),state:ls.bind(this),volume:hs.bind(this),getVideoElement:ps.bind(this),currentTime:fs.bind(this)}),d()(this,"setget",{name:"player"}),d()(this,"init",Ka.bind(this)),d()(this,"bindEvents",vs.bind(this)),d()(this,"initializePlayerData",ts.bind(this)),d()(this,"setState",es.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new gs,new m]),this.init(),this.public};function bs(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentRegistered:config","componentRegistered:http"],action:function(e){t.config=t.core.getComponent("config"),t.http=t.core.getComponent("http"),t.bindEvents(),e.disable()}})}function ys(){var t=this;window.addEventListener("offline",(function(){t.goOffline(),t.linkDown=!0})),window.addEventListener("online",(function(){t.goOnline(),t.linkDown=!1})),this.event.onOneOf({events:["zombieAdDetected","IMA_LOAD_ERROR:imaEvent","IMA_AD_ERROR:imaEvent","IMA_MIDPOINT:imaEvent","IMA_FIRST_QUARTILE:imaEvent","IMA_IMPRESSION:imaEvent","IMA_THIRD_QUARTILE:imaEvent","IMA_COMPLETE:imaEvent","IMA_CLICK:imaEvent","IMA_LOADED:imaEvent"],action:this.checkConnection})}var As=n(5),ws=n.n(As),ks=n(10),Es=n.n(ks);function Cs(){var t=this;return this.startTime=new Date,this.promise=new Promise((function(e,n){t.resolveFunction=e,t.rejectFunction=n,t.timeout&&(t.timeoutHandler=setTimeout((function(){t.public.reject(new Error("Async function timeout "+t.timeout+"ms"))}),t.timeout)),t.action(t.public.resolve,t.public.reject)})),this.promise}function _s(t){this.stopTime=new Date,this.rejected||this.resolved||(this.public.stopTimer(),this.resolved=!0,this.resolveFunction(t))}function Ss(t){this.rejected||this.resolved||(this.public.stopTimer(),this.rejected=!0,this.rejectFunction(t))}function xs(){this.timeoutHandler&&clearTimeout(this.timeoutHandler)}function Ts(t){this.action=t}function Rs(){return!(!this.promise||this.rejected||this.resolved)}function Os(){var t,e,n=null===(t=this.startTime)||void 0===t?void 0:t.getTime(),i=null===(e=this.stopTime)||void 0===e?void 0:e.getTime();return n&&i?i-n:void 0}var Ms=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{timeout:null,action:function(){}},n=e.timeout,i=e.action;return c()(this,t),d()(this,"startTime",void 0),d()(this,"stopTime",void 0),d()(this,"promise",void 0),d()(this,"resolved",!1),d()(this,"rejected",!1),d()(this,"action",void 0),d()(this,"timeout",void 0),d()(this,"timeoutHandler",void 0),d()(this,"public",{run:Cs.bind(this),resolve:_s.bind(this),reject:Ss.bind(this),stopTimer:xs.bind(this),inProgress:Rs.bind(this),setAction:Ts.bind(this),runTime:void 0}),d()(this,"setget",{getRunTime:Os.bind(this)}),d()(this,"resolveFunction",(function(){})),d()(this,"rejectFunction",(function(){})),n=void 0!==n?n:null,i=void 0!==i?i:function(){},C(this,this.public,"runTime"),this.timeout=n,this.public.setAction(i),this.public};function Is(){return Ds.apply(this,arguments)}function Ds(){return(Ds=Es()(ws.a.mark((function t(){var e,n,i,r,o,a,s=this;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.linkDown){t.next=2;break}return t.abrupt("return");case 2:return i=null===(e=this.config.data.network)||void 0===e?void 0:e.detectionUrl,r=null===(n=this.config.data.network)||void 0===n?void 0:n.offlineTimeMargin,o=new AbortController,a=o.signal,t.prev=6,t.next=9,new Ms({action:function(){var t=Es()(ws.a.mark((function t(e,n){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.http.fetch(i,{signal:a});case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),timeout:r}).run();case 9:this.goOnline(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(6),this.goOffline(),o.abort();case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))).apply(this,arguments)}function Ps(){if(!this.offline){var t;this.emiter.reached("sdkOffline"),this.offline=!0;var e=null===(t=this.config.data.network)||void 0===t?void 0:t.offlineInterval;this.offlineIntervalHandler=setInterval(this.checkConnection,e)}}function Ls(){this.linkDown||(clearInterval(this.offlineIntervalHandler),this.offline&&(this.emiter.reached("sdkOnline"),this.offline=!1))}var js=function t(){c()(this,t)},Bs=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"offlineIntervalHandler",void 0),d()(this,"checkPoints",[]),d()(this,"offline",!1),d()(this,"linkDown",!1),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"http",void 0),d()(this,"public",{name:void 0}),d()(this,"setget",{name:"network"}),d()(this,"init",bs.bind(this)),d()(this,"bindEvents",ys.bind(this)),d()(this,"checkConnection",Is.bind(this)),d()(this,"goOffline",Ps.bind(this)),d()(this,"goOnline",Ls.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new js,new m]),this.init(),this.public};function Ns(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentInitialized:player"],action:function(e){t.player=t.core.getComponent("player"),t.setget.value=t.player.volume(),t.bindEvents(),t.emiter.reached("componentInitialized:adVolume")}})}function Fs(){var t=this;this.event.onOneOf({events:["volumeChangeRequest"],action:function(e){t.setget.value=e.extra.object}})}function qs(){return"number"==typeof this.setget.value?this.setget.value:1}var Vs=function(){function t(){c()(this,t)}return g()(t,[{key:"value",get:function(){}}]),t}(),Us=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"player",void 0),d()(this,"public",{value:void 0,name:void 0}),d()(this,"setget",{getValue:qs.bind(this),name:"adVolume"}),d()(this,"init",Ns.bind(this)),d()(this,"bindEvents",Fs.bind(this)),this.core=e,C(this,this.public,"name"),C(this,this.public,"value"),p(this.public,[new Vs,new m]),this.init(),this.public},Ws=function(){function t(){c()(this,t)}return g()(t,[{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}}]),t}();function zs(){return this.info.state}function Hs(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["adapterDataSet","componentRegistered:storage","componentRegistered:config","componentInitialized:adapter"],action:function(){t.storage=t.core.getComponent("storage"),t.config=t.core.getComponent("config");var e=t.core.getComponent("adapter").get().player.getStartOffset();t.offset=e||t.offset,t.bindEvents()}})}function Qs(){var t=this;this.event.onOneOf({events:["breaksDataReady"],action:function(){return t.skipBreaks()}})}function Ks(){var t=this,e=this.storage.useSpace("breaksData"),n=e.breaks;(n?Object.entries(n):[]).forEach((function(n){var i=n[0],r=n[1];switch(i){case"Preroll_Sponsor":break;default:t.offset>r&&(delete e.breaks[i],t.emiter.reached("removedBreak",i))}}))}var Ys=function t(e){return c()(this,t),d()(this,"offset",0),d()(this,"core",void 0),d()(this,"storage",void 0),d()(this,"eventManager",void 0),d()(this,"public",{getState:zs.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"init",Hs.bind(this)),d()(this,"bindEvents",Qs.bind(this)),d()(this,"skipBreaks",Ks.bind(this)),d()(this,"info",{name:"continueWatching",state:void 0}),C(this,this.public,"name","info"),p(this.public,[new Ws]),this.core=e,this.init(),this.public},Gs=function(t,e){var n=e.core,i=e.section,r=(0,e.getExternalAdapter)(),o=n.getComponent("event").emiter();try{var a=r[i][t]();return o.reached("".concat(i,".").concat(t,":adapterCall"),{object:a}).cleanUp(),a}catch(e){var s="'Can't call on adapter ".concat(i,".").concat(t);o.reached("callOnAdapterError:warning",s).cleanUp()}},Js=function t(e,n){c()(this,t);var i={core:e,section:"player",getExternalAdapter:n};return{playRequest:function(){return Gs("playRequest",i)},pauseRequest:function(){return Gs("pauseRequest",i)},state:function(){return Gs("state",i)},currentTime:function(){return Gs("currentTime",i)},getStartOffset:function(){return Gs("getStartOffset",i)},duration:function(){return Gs("duration",i)},width:function(){return Gs("width",i)},height:function(){return Gs("height",i)},version:function(){return Gs("version",i)},name:function(){return Gs("name",i)},volume:function(){return Gs("volume",i)},title:function(){return Gs("title",i)},id:function(){return Gs("id",i)},inFullScreen:function(){return Gs("inFullScreen",i)},videoElement:function(){return Gs("videoElement",i)},getUiElements:function(){return Gs("getUiElements",i)},showNavigation:function(){return Gs("showNavigation",i)},hideNavigation:function(){return Gs("hideNavigation",i)},hideSpinnerRequest:function(){return Gs("hideSpinnerRequest",i)},showSpinnerRequest:function(){return Gs("showSpinnerRequest",i)}}},Zs=function t(e,n){c()(this,t);var i={core:e,section:"ad",getExternalAdapter:n},r=n;return{getBottomLayer:function(){var t,e;return(null===(t=r())||void 0===t||null===(e=t.ad)||void 0===e?void 0:e.container)?Gs("container",i):Gs("getBottomLayer",i)},getTopLayer:function(){return Gs("getTopLayer",i)},getSpecialLayer:function(){return Gs("getSpecialLayer",i)},config:function(){var t,e=Gs("config",i),n=JSON.parse(JSON.stringify(e));if(null==n||null===(t=n.driver)||void 0===t?void 0:t.data.breaks){var r={};Object.entries(n.driver.data.breaks).forEach((function(t){r[t[0]]=Ja(t[1])})),n.driver.data.breaks=r}return n}}},Xs=function t(e,n){c()(this,t);var i={core:e,section:"publisher",getExternalAdapter:n};return{pageUrl:function(){return window.location.href},config:function(){return Gs("config",i)}}},$s=function t(e,n){c()(this,t);var i={core:e,section:"adblockDetector",getExternalAdapter:n};return{blockContentRequest:function(){return Gs("blockContentRequest",i)},config:function(){return Gs("config",i)}}},tc=function t(e,n){c()(this,t);var i={core:e,section:"sdk",getExternalAdapter:n};return{config:function(){return Gs("config",i)},SDKReady:function(){return Gs("SDKReady",i)}}},ec=function t(e,n){return c()(this,t),{player:new Js(e,n),ad:new Zs(e,n),publisher:new Xs(e,n),adblockDetector:new $s(e,n),sdk:new tc(e,n)}};function nc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ic=function(t){In()(n,t);var e=nc(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"externalAdapter",void 0),d()(On()(t),"internalAdapter",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"currentState","unknown"),d()(On()(t),"core",void 0),d()(On()(t),"event",void 0),d()(On()(t),"emiter",void 0),t}return g()(n,[{key:"getComponentName",value:function(){return"Adapter"}},{key:"initialize",value:function(t){var e=this;this.core=t,this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.internalAdapter=new ec(this.core,(function(){return e.externalAdapter})),this.setState("loaded"),this.emiter.reached("componentInitialized:adapter"),this.event.onOneOf({events:["showSpinnerRequest"],action:function(){return e.internalAdapter.player.showSpinnerRequest()}}),this.event.onOneOf({events:["hideSpinnerRequest"],action:function(){return e.internalAdapter.player.hideSpinnerRequest()}})}},{key:"setAdapter",value:function(t){var e=this;this.externalAdapter=t,this.emiter.reached("adapterDataSet",{adapter:t});var n=this.core.getComponent("eventManager");t.player.currentTimeChanged=function(){var n,i=null===(n=t.player)||void 0===n?void 0:n.currentTime();e.emiter.reached("contentTimeChanged:adapterCall",i).cleanUp()},t.player.sizeChanged=function(){var n=t.player.width(),i=t.player.height();e.emiter.reached("sizeChangeRequest:adapterCall",{object:{width:n,height:i}}).cleanUp()},t.player.volumeChanged=function(){var n=t.player.volume();e.emiter.reached("volumeChangeRequest:adapterCall",n)},t.player.stateChanged=function(){var n=t.player.state();e.emiter.reached("contentStateChanged:".concat(n,",adapterCall"),n)},this.isReady=!0,n.sdk.adapterReady.reached(),this.setState("working")}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){var e=this.core.getComponent("eventManager");this.currentState=t,e.adapter.stateChanged.reached()}},{key:"get",value:function(){return this.internalAdapter}},{key:"getConfig",value:function(){return{}}},{key:"bindEvents",value:function(t){var e=this;new Bn("Public SDK API. Call when api ready").do((function(){e.internalAdapter.sdk.SDKReady()})).onOneOf([t.sdk.allComponentsLoaded])}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"depends",value:function(){return"eventManager"}}]),n}(Nn),rc=function t(e,n,i,r){c()(this,t),d()(this,"code",null),d()(this,"message",null),d()(this,"type",null),d()(this,"component",null),d()(this,"date",null),this.date=new Date,this.code=e,this.message=n,this.type=i,this.component=r};function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ac=function(t){In()(n,t);var e=oc(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"errorLog",[]),d()(On()(t),"lastError",null),t}return g()(n,[{key:"bindEvents",value:function(){}},{key:"initialize",value:function(t){this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.isReady=!0}},{key:"getComponentName",value:function(){return"error"}},{key:"getConfig",value:function(){return{}}},{key:"log",value:function(t){this.lastError=new rc(t.code,t.type,t.message,t.component),this.errorLog.push(this.lastError),this.eventManager.error.occurred.reached()}},{key:"getLastError",value:function(){return this.lastError}},{key:"getErrorLog",value:function(){return this.errorLog}},{key:"getStandarizedErrorLog",value:function(){return"\n    Date: ".concat(this.errorLog[0].date,",\n    Message: ").concat(this.errorLog[0].message,",\n    Error type: ").concat(this.errorLog[0].type,",\n    Component where error occurred: ").concat(this.errorLog[0].component,",\n    Error code: ").concat(this.errorLog[0].code,"\n    ")}},{key:"reset",value:function(){}},{key:"depends",value:function(){return"adapter"}},{key:"ready",value:function(){return this.isReady}}]),n}(Nn),sc=function(t){var e=function(e){e&&(t+=e+".");var n=new Error(t);return this.stack=n.stack,this.message=n.message,this.message};return(e.prototype=Object.create(Error.prototype)).constructor=e,e},cc={Timeout:sc("LoadScript timeout reached")},uc={String:sc("Type error. Must be string."),Function:sc("Type error. Must be function."),Object:sc("Type error. Must be object."),Number:sc("Type error. Must be number."),Instance:sc("Type error. Must be instance of ")},dc=function(t){if("string"!=typeof t)throw new uc.String},lc=function(t){if("object"!==h()(t)||null===t)throw new uc.Object},hc=function(t){if(!Number.isInteger(t))throw new uc.Number},pc={appendToHead:function(t,e){return new Promise((function(n,i){dc(t),void 0!==e&&(hc(e),setTimeout((function(){i(new cc.Timeout)}),e)),window&&document||document instanceof Object.getPrototypeOf(document).constructor||i(new Error("Browser envirnoment requred."));var r=document.createElement("script"),o=document.getElementsByTagName("head")[0];r.src=t,o.insertBefore(r,o.firstChild),r.readyState?(r.onreadystatechange=function(){"complete"!==r.readyState&&"loaded"!==r.readyState||(n(),r.onreadystatechange=null)},r.onerror=function(){i(new Error("Can't load "+t))}):(r.onload=function(){n()},r.onerror=function(){i(new Error("Can't load "+t))})}))}},fc=pc,vc=function(){var t=Es()(ws.a.mark((function t(e){var n,i,r,o,a,s;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.getComponent("config"),r=e.getComponent("logger"),o=e.getComponent("event"),a=o.emiter(),s=null===(n=i.data.google)||void 0===n?void 0:n.imaSdkUrl,window.google){t.next=15;break}return t.prev=6,t.next=9,fc.appendToHead(s);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),r.log({message:t.t0.message,type:"error"}),a.reached("ImaSDKLoadError:error",{error:t.t0});case 15:return t.abrupt("return",window.google);case 16:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}(),gc=function(){function t(){var e=this;return c()(this,t),d()(this,"adDisplayContainer",void 0),{init:function(t){return e.init(t)},get:function(){return e.get()},destroy:function(){return e.destroy()}}}return g()(t,[{key:"get",value:function(){return this.adDisplayContainer}},{key:"init",value:function(t){var e=t.adContainer,n=t.google,i=t.cta;if(!n||!n.ima)throw new Error("Cannot load ima");this.adDisplayContainer=new n.ima.AdDisplayContainer(e,void 0,null==i?void 0:i.getCtaElement()),this.adDisplayContainer.initialize()}},{key:"destroy",value:function(){this.adDisplayContainer.destroy()}}]),t}(),mc=function t(e){var n,i,r=e.player,o=e.google,a=e.vastObject,s=e.core;c()(this,t);var u=s.getComponent("config"),d=a.getTimeout(),l=null===(n=u.data.ads)||void 0===n||null===(i=n.timeout)||void 0===i?void 0:i.adLoadTimeout,h=new o.ima.AdsRequest,p=a.getType();return h.vastLoadTimeout=d||l,"direct"===p?h.adsResponse=a.getString():"remote"===p&&(h.adTagUrl=a.getUrl()),h.linearAdSlotWidth=r.width(),h.linearAdSlotHeight=r.height(),h.nonLinearAdSlotWidth=r.width(),h.nonLinearAdSlotHeight=r.height(),h},bc=function t(e){var n=this,i=e.google,r=e.imaAdsManager,o=e.player,a=e.adObject,s=e.core,u=e.gAdDisplayContainer;return c()(this,t),d()(this,"adsManager",void 0),d()(this,"google",void 0),d()(this,"player",void 0),d()(this,"adObject",void 0),d()(this,"core",void 0),d()(this,"gAdDisplayContainer",void 0),d()(this,"id",void 0),d()(this,"public",{id:function(){return n.id},init:function(){var t=n.player.width(),e=n.player.height(),i=function(t){var e=t.adObject,n=t.google,i=n.ima.ViewMode.NORMAL;return e.state.inFullScreen&&(i=n.ima.ViewMode.FULLSCREEN),i}({adObject:n.adObject,google:n.google});n.adsManager.init(t,e,i)},play:function(){return new Promise((function(t,e){var i=n.core.getComponent("adVolume");n.adsManager.addEventListener(n.google.ima.AdEvent.Type.COMPLETE,(function(){n.public.destroy(),setTimeout((function(){n.gAdDisplayContainer.destroy()}),3e3),t()})),n.adsManager.addEventListener(n.google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){var i=n.core.getComponent("event").emiter(),r=t.getError();i.reached("IMA_AD_ERROR:imaEvent",{imaError:r}),n.public.destroy(),setTimeout((function(){n.gAdDisplayContainer.destroy()}),3e3),e(new Error("Ima ad error"))})),n.adsManager.addEventListener(n.google.ima.AdEvent.Type.SKIPPED,(function(){n.public.destroy(),setTimeout((function(){n.gAdDisplayContainer.destroy()}),3e3),t()})),n.adsManager.start(),n.adObject.public.control.setVolume(i.value)}))},pause:function(){return n.adsManager.pause()},resume:function(){return n.adsManager.resume()},setVolume:function(t){return n.adsManager.setVolume(t)},getVolume:function(){return n.adsManager.getVolume()},resize:function(t,e){var i=n.google.ima.ViewMode.NORMAL;n.adObject.state.inFullScreen&&(i=n.google.ima.ViewMode.FULLSCREEN),n.adsManager.resize(t,e,i)},termiante:function(){return n.adsManager.pause()},destroy:function(){return n.adsManager.destroy()},getRemainingTime:function(){return n.adsManager.getRemainingTime()},addEventListener:function(t,e){n.adsManager.addEventListener(t,e)}}),this.id=Date.now(),this.player=o,this.adsManager=r,this.google=i,this.adObject=a,this.core=s,this.gAdDisplayContainer=u,this.public},yc=function(){function t(){var e=this;return c()(this,t),d()(this,"adsLoader",void 0),d()(this,"public",void 0),d()(this,"core",void 0),d()(this,"gAdDisplayContainer",void 0),d()(this,"public",{init:function(t){return e.init(t)},load:function(t){return e.load(t)},destroy:function(){return e.destroy()}}),this.public}return g()(t,[{key:"load",value:function(t){var e=this,n=t.player,i=t.google,r=t.adObject,o=t.platformDetector;return new Promise((function(t,a){if(!i||!i.ima)throw new Error("IMA is undefined.");var s=r.public.vastObject,c=n.getVideoElement(),u=function(t){var e,n,i=t.google,r=t.vastObject,o=t.platformDetector,a=t.core.getComponent("config"),s=r.getTimeout(),c=null===(e=a.data.ads)||void 0===e||null===(n=e.timeout)||void 0===n?void 0:n.adLoadTimeout,u=new i.ima.AdsRenderingSettings;return u.autoAlign=!0,u.bitrate=-1,u.enablePreloading=!1,u.loadVideoTimeout=s||c,u.mimeTypes=["application/javascript","video/mp4","video/webm","video/ogg","video/avi","video/mpeg","video/x-mpeg","video/msvideo","video/x-msvideo","video/quicktime","video/x-matroska"],u.restoreCustomPlaybackStateOnAdBreakComplete=!1,u.uiElements=[],u.useStyledLinearAds=!1,u.useStyledNonLinearAds=!1,o.getPlatform()!==o.deviceType.MOBILE&&o.getPlatform()!==o.deviceType.TABLET||(u.disableUi=!0,u.useVideoAdUi=!1),u}({google:i,vastObject:s,platformDetector:o,core:e.core});e.adsLoader.addEventListener(i.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(o){var s=o.getAdsManager(c,u),d=new bc({google:i,imaAdsManager:s,player:n,adObject:r,core:e.core,gAdDisplayContainer:e.gAdDisplayContainer});!function(t){var e=t.adsManager,n=t.adObject,i=t.google,r=(t.resolve,t.reject,i.ima.AdEvent.Type),o=n.core.getComponent("event").emiter();e.addEventListener(r.AD_PROGRESS,(function(t){o.reached("AD_PROGRESS:imaEvent",{imaAdData:t.getAd()}).cleanUp(),n.core.getComponent("eventManager").adsManager.bufferingCompleted.reached(),c(t),n.public.action.currentTimeChanged()})),e.addEventListener(r.DURATION_CHANGE,(function(t){})),e.addEventListener(r.STARTED,(function(t){o.reached("IMA_STARTED:imaEvent",{imaAdData:t.getAd()}),n.core.getComponent("api").getExternalApi().ad.progress(0),s(t),n.public.action.started()})),e.addEventListener(r.LOADED,function(){var t=Es()(ws.a.mark((function t(e){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e),n.public.action.loaded();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener(r.COMPLETE,Es()(ws.a.mark((function t(){var e,i;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.reached("IMA_COMPLETE:imaEvent"),e=n.core.getComponent("flow"),t.next=4,e.checkPoint("adProgress");case 4:i=n.core.getComponent("api"),i.getExternalApi().ad.progress(1),n.public.action.completed();case 8:case"end":return t.stop()}}),t)})))),e.addEventListener(r.PAUSED,(function(){o.reached("IMA_PAUSED:imaEvent"),n.public.action.paused()})),e.addEventListener(r.RESUMED,(function(){o.reached("IMA_RESUMED:imaEvent"),n.public.action.resumed()})),e.addEventListener(r.VOLUME_CHANGED,(function(){o.reached("IMA_VOLUME_CHANGED:imaEvent"),u(),n.public.action.volumeChanged()})),e.addEventListener(r.CLICK,(function(){o.reached("IMA_CLICK:imaEvent"),n.public.action.click()})),e.addEventListener(r.VOLUME_MUTED,(function(){o.reached("IMA_VOLUME_MUTED:imaEvent"),u(0),n.public.action.volumeChanged()})),e.addEventListener(r.AD_BUFFERING,(function(){n.core.getComponent("eventManager").adsManager.bufferingStarted.reached()})),e.addEventListener(r.AD_METADATA,(function(){})),e.addEventListener(r.INTERACTION,(function(){})),e.addEventListener(r.LINEAR_CHANGED,(function(){})),e.addEventListener(r.LOG,(function(){})),e.addEventListener(r.MIDPOINT,(function(){o.reached("IMA_MIDPOINT:imaEvent"),n.core.getComponent("api").getExternalApi().ad.progress(.5)})),e.addEventListener(r.ALL_ADS_COMPLETED,(function(){})),e.addEventListener(r.FIRST_QUARTILE,(function(){o.reached("IMA_FIRST_QUARTILE:imaEvent"),n.core.getComponent("api").getExternalApi().ad.progress(.25)})),e.addEventListener(r.IMPRESSION,(function(t){o.reached("IMA_IMPRESSION:imaEvent",{imaAdData:t.getAd()}),n.public.action.impression()})),e.addEventListener(r.THIRD_QUARTILE,(function(){o.reached("IMA_THIRD_QUARTILE:imaEvent"),n.core.getComponent("api").getExternalApi().ad.progress(.75)})),e.addEventListener(r.USER_CLOSE,(function(){})),e.addEventListener(r.AD_BREAK_READY,(function(){})),e.addEventListener(r.CONTENT_PAUSE_REQUESTED,(function(){})),e.addEventListener(r.CONTENT_RESUME_REQUESTED,(function(){})),e.addEventListener(r.SKIPPABLE_STATE_CHANGED,(function(){})),e.addEventListener(r.SKIPPED,Es()(ws.a.mark((function t(){var e,i;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.reached("IMA_COMPLETE:imaEvent"),e=n.core.getComponent("flow"),t.next=4,e.checkPoint("adProgress");case 4:i=n.core.getComponent("api"),i.getExternalApi().ad.progress(1),n.public.action.completed();case 8:case"end":return t.stop()}}),t)}))));var a=function(t){var e=t.getAdData();if(e)for(var i in e)"duration"===i&&(n.info.adData.remaining=1e3*e[i]),n.info.adData[i]=e[i]},s=function(t){if(t.getAd()){var e=t.getAd().getDuration();n.info.duration=1e3*e}},c=function(t){if(t.getAdData()){var i=e.getRemainingTime();n.info.remaining=1e3*i}},u=function(t){var i=e.getVolume();t&&(i=t),n.info.volume=i}}({adsManager:d,adObject:r,google:i,resolve:t,reject:a}),d.addEventListener(i.ima.AdErrorEvent.Type.AD_ERROR,(function(t){a(new Error("Ima ad error"))})),d.addEventListener(i.ima.AdEvent.Type.LOADED,function(){var e=Es()(ws.a.mark((function e(n){var i,o,s,c;return ws.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.core.getComponent("flow"),o=r.core.getComponent("event"),s=r.public.vastObject.getExtra(),c=Xa(n.getAd().getDuration()),s.MaxDuration&&!(s.MaxDuration>=c)){e.next=11;break}return e.next=7,i.checkPoint("adLoaded");case 7:o.emiter().reached("IMA_LOADED:imaEvent",{imaAdData:n.getAd()}),t(d),e.next=12;break;case 11:a(new Error("Ad duration to long"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d.init()}),!1),e.adsLoader.addEventListener(i.ima.AdErrorEvent.Type.AD_ERROR,(function(t){e.destroy(),setTimeout((function(){e.gAdDisplayContainer.destroy()}),3e3);var n=t.getError();r.core.getComponent("event").emiter().reached("IMA_LOAD_ERROR:imaEvent",{imaError:n}),e.loaderPromise=void 0,a(n)}),!1),e.adsLoader.contentComplete();var d=new mc({player:n,google:i,vastObject:s,core:e.core});e.adsLoader.requestAds(d)}))}},{key:"init",value:function(t){var e=t.google,n=t.gAdDisplayContainer,i=t.core;if(!e||!e.ima)throw new Error("IMA is undefined.");this.gAdDisplayContainer=n,this.adsLoader=new e.ima.AdsLoader(n),this.core=i}},{key:"destroy",value:function(){this.adsLoader.destroy()}}]),t}(),Ac=function(t){var e=t.url,n=t.id,i=t.adBreak,r=t.core;if("string"==typeof e){var o,a=r.getComponent("waterfallTime").waterfallDuration;e=function(t,e){var n=e.getComponent("storage");if(!n)return t;var i=n.useSpace("adRequest");return t.match(/vis=([0-9])*/g)&&(t=t.replace(/vis=[0-9]?/g,"vis=".concat(i.vis))),t}(e=function(t){var e=t.match(/pb_id=([0-9a-zA-Z.,_])*/g);return Array.isArray(e)&&e.length>1&&(t=t.replace(/pb_id=[0-9a-zA-Z.,_]*[/]?/g,""),t+="/pb_id="+e[0].replace("pb_id=","")+","+e[1].replace("pb_id=","")),t}(e=function(t){var e=t.match(/tvn_passback=[0-9]*/g);if(Array.isArray(e)&&e.length>1){var n=(e=e[0]).split("=");n[1]++;var i=new RegExp(n[0]+"=[0-9]*[/]?","g");t=t.replace(i,""),t+="/"+n[0]+"="+n[1]}return t}(e=function(t,e){return t.match(/wft=([0-9])*/g)&&(t=t.replace(/wft=[0-9]*[/]?/g,"")),void 0!==e&&(t+="/wft="+e),t}(e,a))),r),n&&(o=e.match(/id=([a-zA-Z0-9._]*)/))&&(e=e.replace(o[1],n));var s=[];s.push({pattern:new RegExp("predur=([0-9]*)","g"),replacement:i.match(/Preroll/)?"=46":"=0"}),s.push({pattern:new RegExp("mid.dur=([0-9]*)","g"),replacement:"=0"});var c=i.match(/Midroll_([0-9])/);if(c&&c[1]){var u=c[1];s.push({pattern:new RegExp("mid"+u+"dur=([0-9]*)","g"),replacement:"=46"})}return s.push({pattern:new RegExp("postdur=([0-9]*)","g"),replacement:i.match(/Postroll/)?"=46":"=0"}),s.push({pattern:new RegExp("overdur=([0-9]*)","g"),replacement:"=0"}),s.forEach((function(t){e=e.replace(t.pattern,(function(e){return e.replace(/=.*/,t.replacement)}))})),e=function(t){var e=t.match(/\/gdpr_consent=([a-zA-Z0-9._-]*)/)||t.match(/\/gdprconsentstr=([a-zA-Z0-9._-]*)/);return e&&(t=t.replace(e[0],""),t+=e[0]),t}(e=function(t){var e=t.match(/\/gdpr=([a-zA-Z0-9._-]*)/)||t.match(/\/gdprconsent=([a-zA-Z0-9._-]*)/);return e&&(t=t.replace(e[0],""),t+=e[0]),t}(e))}},wc=n(40),kc={toJSON:function(t){dc(t);var e=Object(wc.xml2json)(t,{compact:!0});return JSON.parse(e)},toXML:function(t){lc(t),t=JSON.stringify(t);return Object(wc.json2xml)(t,{compact:!0})}},Ec=function(){var t=Es()(ws.a.mark((function t(e,n){var i,r;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.fetch(e,{method:"GET",credentials:"include"});case 3:i=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Error("Vast load error: "+t.t0.message);case 9:if("object"!==h()(i)||!0!==i.ok){t.next=16;break}return t.next=12,i.text();case 12:return r=t.sent,t.abrupt("return",r);case 16:throw new Error("Unknown vast load error");case 17:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Cc=function(){var t=this,e={_cdata:void 0,_attributes:{}};this.id=function(n){return e._attributes.id=n,t},this.url=function(n){return e._cdata=n,t},this.get=function(){return e}},_c=function t(e){c()(this,t);var n=[];if("object"!==h()(e))return n;for(var i in Array.isArray(e)||(e=[e]),Object.keys(e)){var r=e[i]._cdata?e[i]._cdata:e[i]._text;if("string"==typeof r){var o=new Cc;o.url(r),"object"===h()(e[i]._attributes)&&"string"==typeof e[i]._attributes.id&&o.id(e[i]._attributes.id),n.push(o)}}return n},Sc=function(){var t=this,e={};this.url=function(n){return e._cdata=n,t},this.get=function(){return e}},xc=function t(e){c()(this,t);var n=[];if("object"!==h()(e))return n;for(var i in Array.isArray(e)||(e=[e]),Object.keys(e)){var r=e[i]._cdata?e[i]._cdata:e[i]._text;if("string"==typeof r){var o=new Sc;o.url(r),n.push(o)}}return n},Tc=function(){var t=this,e={Creative:[]};this.Creative=function(n){var i=n.get();return Object.entries(i).length>0&&e.Creative.push(i),t},this.get=function(){return e}},Rc=function(){var t=this,e={};this.value=function(n){return e={_text:n},t},this.get=function(){return e}},Oc=function t(e){c()(this,t);var n=new Rc;return"string"==typeof e._text&&n.value(e._text),n},Mc=function(){var t=this,e={_attributes:{}};this.id=function(n){return e._attributes.id=n,t},this.delivery=function(n){return e._attributes.delivery=n,t},this.type=function(n){return e._attributes.type=n,t},this.bitrate=function(n){return e._attributes.bitrate=n,t},this.width=function(n){return e._attributes.width=n,t},this.height=function(n){return e._attributes.height=n,t},this.scalable=function(n){return e._attributes.scalable=n,t},this.maintainAspectRatio=function(n){return e._attributes.maintainAspectRatio=n,t},this.apiFramework=function(n){return e._attributes.apiFramework=n,t},this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},Ic=function t(e){c()(this,t);var n=new Mc,i=e._attributes;return void 0===i||("string"==typeof e._cdata&&n.value(e._cdata),i.scalable&&n.scalable(i.scalable),i.type&&n.type(i.type),i.width&&n.width(i.width),i.id&&n.id(i.id),i.delivery&&n.delivery(i.delivery),i.bitrate&&n.bitrate(i.bitrate),i.height&&n.height(i.height),i.maintainAspectRatio&&n.maintainAspectRatio(i.maintainAspectRatio),i.apiFramework&&n.apiFramework(i.apiFramework)),n},Dc=function(){var t=this,e={MediaFile:[]};this.MediaFile=function(n){return e.MediaFile.push(n.get()),t},this.get=function(){return e}},Pc=function t(e){c()(this,t);var n=new Dc;return void 0===e.MediaFile?n():(Array.isArray(e.MediaFile)||(e.MediaFile=[e.MediaFile]),e.MediaFile.forEach((function(t){n.MediaFile(new Ic(t))})),n)},Lc=function(){var t=this,e={_attributes:{id:{}}};this.id=function(n){return e._attributes.id=n,t},this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},jc=function t(e){c()(this,t);var n=new Lc;return"object"===h()(e._attributes)&&"string"==typeof e._attributes.id&&n.id(e._attributes.id),"string"==typeof e._cdata&&n.value(e._cdata),n},Bc=function(){var t=this,e={_attributes:{id:{}}};this.id=function(n){return e._attributes.id=n,t},this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},Nc=function t(e){c()(this,t);var n=new Bc;return"object"===h()(e._attributes)&&"string"==typeof e._attributes.id&&n.id(e._attributes.id),"string"==typeof e._text&&n.value(e._text),n},Fc=function t(e){c()(this,t);var n=new Lc;return"object"===h()(e._attributes)&&"string"==typeof e._attributes.id&&n.id(e._attributes.id),"string"==typeof e._text&&n.value(e._text),n},qc=function(){var t=this,e={};this.ClickThrough=function(n){return e.ClickThrough=n.get(),t},this.ClickTracking=function(n){return e.ClickTracking=n.get(),t},this.CustomClick=function(n){return e.CustomClick=n.get(),t},this.get=function(){return e}},Vc=function t(e){c()(this,t);var n=new qc;return void 0!==e.ClickThrough&&n.ClickThrough(new jc(e.ClickThrough)),void 0!==e.CustomClick&&n.CustomClick(new Nc(e.CustomClick)),void 0!==e.ClickTracking&&n.ClickTracking(new Fc(e.ClickTracking)),n},Uc=function(){var t=this,e={_attributes:{event:{}}};this.event=function(n){return e._attributes.event=n,t},this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},Wc=function t(e){c()(this,t);var n=new Uc;return"object"===h()(e._attributes)&&"string"==typeof e._attributes.event&&n.event(e._attributes.event),"string"==typeof e._cdata?n.value(e._cdata):"string"==typeof e._text&&n.value(e._text),n},zc=function(){var t=this,e={Tracking:[]};this.Tracking=function(n){return e.Tracking.push(n.get()),t},this.get=function(){return e}},Hc=function t(e){c()(this,t);var n=new zc;return Array.isArray(e.Tracking)||(e.Tracking=[e.Tracking]),e.Tracking.forEach((function(t){n.Tracking(new Wc(t))})),n},Qc=function(){var t=this,e={};this.value=function(n){return e={_cdata:n},t},this.get=function(){return e}},Kc=function t(e){c()(this,t);var n=new Qc;return"string"==typeof e._cdata&&n.value(e._cdata),n},Yc=function(){var t=this,e={};this.Duration=function(n){return e.Duration=n.get(),t},this.AdParameters=function(n){return e.AdParameters=n.get(),t},this.MediaFiles=function(n){return e.MediaFiles=n.get(),t},this.TrackingEvents=function(n){return e.TrackingEvents=n.get(),t},this.VideoClicks=function(n){return e.VideoClicks=n.get(),t},this._AdParameters=function(n){return e._AdParameters=n.get(),t},this.get=function(){return e}},Gc=function t(e){c()(this,t);var n=new Yc;return"object"===h()(e.AdParameters)&&n.AdParameters(new Kc(e.AdParameters)),"object"===h()(e.Duration)&&n.Duration(new Oc(e.Duration)),"object"===h()(e.TrackingEvents)&&n.TrackingEvents(new Hc(e.TrackingEvents)),"object"===h()(e.VideoClicks)&&n.VideoClicks(new Vc(e.VideoClicks)),"object"===h()(e.MediaFiles)&&n.MediaFiles(new Pc(e.MediaFiles)),n},Jc=function(){var t=this,e={};this.TrackingEvents=function(n){return e.TrackingEvents=n.get(),t},this.NonLinear=function(n){return e.NonLinear=n.get(),t},this.get=function(){return e}},Zc=function(){var t=this,e={_attributes:{id:{},width:{},height:{},minSuggestedDuration:{},scalable:{},maintainAspectRatio:{}}};this.id=function(n){return e._attributes.id=n,t},this.width=function(n){return e._attributes.width=n,t},this.height=function(n){return e._attributes.height=n,t},this.minSuggestedDuration=function(n){return e._attributes.minSuggestedDuration=n,t},this.timeStart=function(n){return e._attributes.timeStart=n,t},this.scalable=function(n){return e._attributes.scalable=n,t},this.maintainAspectRatio=function(n){return e._attributes.maintainAspectRatio=n,t},this.StaticResource=function(n){return e.StaticResource=n.get(),t},this.NonLinearClickThrough=function(n){return e.NonLinearClickThrough=n.get(),t},this.NonLinearClickTracking=function(n){return e.NonLinearClickTracking=n.get(),t},this.get=function(){return e}},Xc=function(){var t=this,e={};this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},$c=function t(e){c()(this,t);var n=new Xc;return"string"==typeof e.NonLinearClickThrough._cdata?n.value(e.NonLinearClickThrough._cdata):"string"==typeof e.NonLinearClickThrough._text&&n.value(e.NonLinearClickThrough._text),n},tu=function(){var t=this,e={_attributes:{creativeType:{}}};this.creativeType=function(n){return e._attributes.creativeType=n,t},this.value=function(n){return e._cdata=n,t},this.get=function(){return e}},eu=function t(e){c()(this,t);var n=new tu;return"object"===h()(e.StaticResource._attributes)&&"string"==typeof e.StaticResource._attributes.creativeType&&n.creativeType(e.StaticResource._attributes.creativeType),"string"==typeof e.StaticResource._cdata?n.value(e.StaticResource._cdata):"string"==typeof e.StaticResource._text&&n.value(e.StaticResource._text),n},nu=function t(e){c()(this,t);var n=new Zc;return e._attributes&&(n.id(e._attributes.id),n.width(e._attributes.width),n.height(e._attributes.height),n.minSuggestedDuration(e._attributes.minSuggestedDuration),n.timeStart(e._attributes.timeStart),n.scalable(e._attributes.scalable),n.maintainAspectRatio(e._attributes.maintainAspectRatio)),e.StaticResource&&n.StaticResource(new eu(e)),e.NonLinearClickThrough&&n.NonLinearClickThrough(new $c(e)),n},iu=function t(e){c()(this,t);var n=new Jc;return"object"===h()(e.TrackingEvents)&&n.TrackingEvents(new Hc(e.TrackingEvents)),"object"===h()(e.NonLinear)&&n.NonLinear(new nu(e.NonLinear)),n},ru=function(){var t=this,e={_attributes:{}};this.id=function(n){return e._attributes.id=n,t},this.Linear=function(n){return e.Linear=n.get(),t},this.NonLinearAds=function(n){return e.NonLinearAds=n.get(),t},this.CompanionAds=function(n){return e.CompanionAds=n.get(),t},this.get=function(){return e}},ou=function t(e){var n;c()(this,t);var i=new ru;return"string"==typeof(null==e||null===(n=e._attributes)||void 0===n?void 0:n.id)&&i.id(e._attributes.id),void 0!==e.Linear&&i.Linear(new Gc(e.Linear)),(null==e?void 0:e.NonLinearAds)&&i.NonLinearAds(new iu(e.NonLinearAds)),i},au=function t(e){c()(this,t);var n=new Tc;return"object"!==h()(e.Creative)||(Array.isArray(e.Creative)||(e.Creative=[e.Creative]),e.Creative.forEach((function(t){n.Creative(new ou(t))}))),n},su=function(){var t=this,e={};this.value=function(n){return e={_text:n},t},this.get=function(){return e}},cu=function t(e){c()(this,t);var n=new su;return"string"==typeof e._text&&n.value(e._text),n},uu=function t(e){c()(this,t);var n=new su;return"string"==typeof e._text&&n.value(e._text),n},du=function(){var t=this,e={Extension:[]};this.Extensions=function(n){var i=n.get();return Object.entries(i).length>0&&e.Extension.push(i),t},this.get=function(){return e}},lu=function(){var t=this,e={_attributes:{}};this.type=function(n){return e._attributes.type=n,t},this.nodes=function(n){return Object.entries(n).forEach((function(t){"_attributes"!==t[0]&&(e[t[0]]=t[1])})),t},this.get=function(){return e}},hu=function t(e){c()(this,t);var n=new lu;return n.type(e._attributes.type),n.nodes(e),n},pu=function t(e){c()(this,t);var n=new du;return Array.isArray(e.Extension)||(e.Extension=[e.Extension]),e.Extension.forEach((function(t){n.Extensions(new hu(t))})),n},fu=function(){var t=this,e={Impression:[],Error:[]};this.AdSystem=function(n){return e.AdSystem=n.get(),t},this.AdTitle=function(n){return e.AdTitle=n.get(),t},this.Description=function(n){return e.Description=n.get(),t},this.Survey=function(n){return e.Survey=n.get(),t},this.Error=function(n){return e.Error.push(n.get()),t},this.Impression=function(n){return e.Impression.push(n.get()),t},this.Creatives=function(n){return e.Creatives=n.get(),t},this.Extensions=function(n){return e.Extensions=n.get(),t},this.get=function(){return e}},vu=function t(e){c()(this,t);var n=new fu;"object"===h()(e.Impression)&&new _c(e.Impression).forEach((function(t){n.Impression(t)}));"object"===h()(e.Error)&&new xc(e.Error).forEach((function(t){n.Error(t)}));return"object"===h()(e.Creatives)&&n.Creatives(new au(e.Creatives)),"object"===h()(e.AdSystem)&&n.AdSystem(new cu(e.AdSystem)),"object"===h()(e.AdTitle)&&n.AdTitle(new uu(e.AdTitle)),void 0!==e.Extensions&&n.Extensions(new pu(e.Extensions)),n},gu=function(){var t=this,e={};this.AdSystem=function(n){return e.AdSystem=n.get(),t},this.VASTAdTagURI=function(n){return e.VASTAdTagURI=n.get(),t},this.Error=function(n){return void 0===e.Error&&(e.Error=[]),e.Error.push(n.get()),t},this.Impression=function(n){return void 0===e.Impression&&(e.Impression=[]),e.Impression.push(n.get()),t},this.Creatives=function(n){return e.Creatives=n.get(),t},this.InLine=function(n){return e.InLine=n.get(),t},this.Wrapper=function(n){return e.Wrapper=n.get(),t},this.Extensions=function(n){return e.Extensions=n.get(),t},this.get=function(){return e}},mu=function(){var t=this,e={};this.uri=function(n){return e={_cdata:n},t},this.get=function(){return e}},bu=function t(e){c()(this,t);var n=new gu;("object"===h()(e.VASTAdTagURL)&&"object"===h()(e.VASTAdTagURL.URL)&&"string"==typeof e.VASTAdTagURL.URL._cdata&&n.VASTAdTagURI((new mu).uri(e.VASTAdTagURL.URL._cdata)),"object"===h()(e.Impression))&&new _c(e.Impression).forEach((function(t){n.Impression(t)}));("object"===h()(e.AdSystem)&&n.AdSystem(new cu(e.AdSystem)),"object"===h()(e.Error))&&new xc(e.Error).forEach((function(t){n.Error(t)}));return"object"===h()(e.Creatives)&&n.Creatives(new au(e.Creatives)),void 0!==e.Extensions&&n.Extensions(new pu(e.Extensions)),n},yu=function(){var t=this,e={_attributes:{}};this.id=function(n){return e._attributes.id=n,t},this.InLine=function(n){return e.InLine=n.get(),t},this.Wrapper=function(n){return e.Wrapper=n.get(),t},this.Extensions=function(n){return e.Extensions=n.get(),t},this.get=function(){return e}},Au=function t(e){var n,i,r,o;c()(this,t);var a=new yu;return(null===(n=e.InLine)||void 0===n||null===(i=n.Creatives)||void 0===i||null===(r=i.Creative)||void 0===r||null===(o=r._attributes)||void 0===o?void 0:o.id)?a.id(e.InLine.Creatives.Creative._attributes.id):a.id("undefined"),"object"===h()(e.InLine)?a.InLine(new vu(e.InLine)):"object"===h()(e.Wrapper)&&a.Wrapper(new bu(e.Wrapper)),a},wu=function(){var t=this,e={_attributes:{},Ad:[]};this.version=function(n){return e._attributes.version=n,t},this.Ad=function(n){return e.Ad.push(n.get()),t},this.get=function(){return{VAST:e}}},ku=function t(e){c()(this,t);var n=e,i=new wu;return i.version("2.0"),"object"===h()(n.VAST)&&(n=n.VAST),Array.isArray(n.Ad)&&(n.Ad=n.Ad[0]),"object"===h()(n.Ad)&&i.Ad(new Au(n.Ad)),i};function Eu(t,e){var n,i,r,o,a,s,c,u,d=t.VAST.Ad;return"object"===h()(null==d||null===(n=d.Wrapper)||void 0===n?void 0:n.Passback)&&(u=d.Wrapper.Passback),"object"===h()(null===(i=u)||void 0===i?void 0:i.ID)&&"object"===h()(null===(r=u)||void 0===r?void 0:r.Time)&&"string"==typeof(null===(o=u)||void 0===o||null===(a=o.Link)||void 0===a?void 0:a._cdata)&&(null===(s=u)||void 0===s||null===(c=s.Link)||void 0===c?void 0:c._cdata.length)>0?{id:u.ID._text,timeout:1e3*u.Time._text,url:u.Link._cdata}:{id:void 0,timeout:void 0,url:void 0}}function Cu(t){var e,n=t.VAST.Ad;if("string"==typeof(null==n||null===(e=n._attributes)||void 0===e?void 0:e.id))return n._attributes.id}function _u(t){var e,n=t.VAST.Ad;if("string"==typeof(null==n||null===(e=n._attributes)||void 0===e?void 0:e.adtype))return n._attributes.adtype}function Su(t){var e,n=t.VAST.Ad;if("string"==typeof(null==n||null===(e=n._attributes)||void 0===e?void 0:e.campaignId))return n._attributes.campaignId}function xu(t){}function Tu(t){var e,n,i,r,o,a,s,c,u,d,l,h=t.VAST.Ad,p={};if("string"==typeof(null==h||null===(e=h.InLine)||void 0===e||null===(n=e.Creatives)||void 0===n||null===(i=n.Creative[0])||void 0===i||null===(r=i.Linear)||void 0===r||null===(o=r.VideoClicks)||void 0===o||null===(a=o.ClickThrough)||void 0===a?void 0:a._cdata)&&(p.ClickThrough=h.InLine.Creatives.Creative[0].Linear.VideoClicks.ClickThrough._cdata),"string"==typeof(null==h||null===(s=h.InLine)||void 0===s||null===(c=s.Creatives)||void 0===c||null===(u=c.Creative[0])||void 0===u||null===(d=u.Linear)||void 0===d||null===(l=d.AdParameters)||void 0===l?void 0:l._cdata)){var f,v,g=JSON.parse(h.InLine.Creatives.Creative[0].Linear.AdParameters._cdata.replace(";",""));"string"==typeof(null==g||null===(f=g.params)||void 0===f||null===(v=f.cta)||void 0===v?void 0:v.imgUrl)&&(p.imgUrl=g.params.cta.imgUrl)}return p}function Ru(t){var e,n,i,r,o=t.VAST.Ad;return"string"==typeof(null==o||null===(e=o.InLine)||void 0===e||null===(n=e._attributes)||void 0===n?void 0:n.position)?o.InLine._attributes.position:"string"==typeof(null==o||null===(i=o.Wrapper)||void 0===i||null===(r=i._attributes)||void 0===r?void 0:r.position)?o.Wrapper._attributes.position:void 0}function Ou(t){var e,n,i,r=t.VAST.Ad;return"object"===h()(null==r||null===(e=r.Wrapper)||void 0===e?void 0:e._attributes)&&"IMA"===(null==r||null===(n=r.Wrapper)||void 0===n||null===(i=n._attributes)||void 0===i?void 0:i.id)}function Mu(t){var e;"object"===h()(null==t||null===(e=t.VAST)||void 0===e?void 0:e.Ad)&&(this.info.extra.Position=this.getPosition(t),this.info.extra.id=this.getID(t),this.info.extra.Break=this.getBreakName(t),this.info.extra.AdType=this.getAdType(t),this.info.extra.Sellout.impression=this.getSelloutImpression(t),this.info.extra.Duration=this.getDuration(t),this.info.extra.ViewableImpression=this.getViewableImpression(t),this.info.extra.Passback=this.getPassback(t,this.info.extra.Break),this.info.extra.Prebid=this.getPrebid(t),this.info.extra.Cta=this.getCta(t),this.info.extra.ShowCounter=this.getShowCounter(t),this.info.extra.CounterText=this.getCounterText(t),this.info.extra.Programmatic=this.isProgrammatic(t),this.info.extra.MaxDuration=this.getMaxDuration(t),this.info.extra.IVC.MediaFile=this.getIVCMediaFile(t),this.info.extra.IVC.TrackingResource=this.getTrackingResource(t),this.info.extra.IVC.Impression=this.getIVCImpression(t),this.info.extra.IVC.Error=this.getIVCError(t),this.info.extra.IVC.Reporting=this.getIVCReporting(t),this.info.extra.Overlay.attributes=this.getOverlayData(t))}function Iu(t){var e,n=t.VAST.Ad;return"string"!=typeof(null==n||null===(e=n._attributes)||void 0===e?void 0:e.showCounter)||"false"!==n._attributes.showCounter}function Du(){var t,e,n,i=null===(t=this.core.getComponent("config").data.adapter)||void 0===t?void 0:t.sdk,r=null==i||null===(e=i.layers)||void 0===e||null===(n=e.additionalText1)||void 0===n?void 0:n.text;return"string"==typeof r?r:""}function Pu(t){var e,n=t.VAST.Ad;if("object"===h()(null==n||null===(e=n.Wrapper)||void 0===e?void 0:e.Impression))return n.Wrapper.Impression}function Lu(t){var e,n,i=t.VAST.Ad;return"object"===h()(null==i||null===(e=i.InLine)||void 0===e?void 0:e.ViewableImpression)?i.InLine.ViewableImpression:"object"===h()(null==i||null===(n=i.Wrapper)||void 0===n?void 0:n.ViewableImpression)?i.Wrapper.ViewableImpression:void 0}function ju(t){var e,n,i,r,o=t.VAST.Ad,a=Xa(parseInt(null==o||null===(e=o.Wrapper)||void 0===e||null===(n=e.Passback)||void 0===n||null===(i=n.MaxDuration)||void 0===i||null===(r=i._attributes)||void 0===r?void 0:r.time));return Number.isInteger(a)?a:void 0}function Bu(t){var e,n,i,r=3e4,o=t.VAST.Ad,a=(null==o?void 0:o.InLine)?null===(e=o.InLine.Creatives)||void 0===e?void 0:e.Creative:null==o||null===(n=o.Wrapper)||void 0===n||null===(i=n.Creatives)||void 0===i?void 0:i.Creative;return a&&(Array.isArray(a)||(a=[a]),a.forEach((function(t){if(t.Linear){var e,n=null===(e=t.Linear.Duration)||void 0===e?void 0:e._text;n&&(r=Ja(n.trim()))}}))),r}function Nu(t){var e,n,i,r,o="",a=t.VAST.Ad,s=null==a||null===(e=a._attributes)||void 0===e?void 0:e.adtype,c=null==a||null===(n=a.InLine)||void 0===n||null===(i=n.Extensions)||void 0===i?void 0:i.Extension,u=null==c||null===(r=c.AdResources)||void 0===r?void 0:r.Resource,d=null==u?void 0:u.JsonResource;return"ivc"===s&&"object"===h()(d)&&(o=d._cdata||d._text),o}function Fu(t){var e,n,i,r,o,a=[],s=t.VAST.Ad,c=null==s||null===(e=s._attributes)||void 0===e?void 0:e.adtype,u=null==s||null===(n=s.InLine)||void 0===n||null===(i=n.Extensions)||void 0===i?void 0:i.Extension,d=null==u||null===(r=u.AdResources)||void 0===r?void 0:r.Resource,l=null==d||null===(o=d.TrackingResource)||void 0===o?void 0:o.Tracking;return"ivc"===c&&"object"===h()(l)&&(void 0===l.length&&(l=[l]),l.forEach((function(t){var e=t._cdata||t._text;a.push(e)}))),a}function qu(t){var e,n,i,r,o,a={},s=t.VAST.Ad,c=null==s||null===(e=s._attributes)||void 0===e?void 0:e.adtype,u=null==s||null===(n=s.InLine)||void 0===n||null===(i=n.Extensions)||void 0===i?void 0:i.Extension,d=null==u||null===(r=u.AdResources)||void 0===r?void 0:r.Resource,l=null==d||null===(o=d.TrackingEvents)||void 0===o?void 0:o.Tracking;return"ivc"===c&&"object"===h()(l)&&(void 0===l.length&&(l=[l]),l.forEach((function(t){a[t._attributes.event]||(a[t._attributes.event]=[]);var e=t._cdata||t._text;a[t._attributes.event].push(e)}))),a}function Vu(t){var e,n=t.VAST.Ad;if("object"===h()(null==n||null===(e=n.InLine)||void 0===e?void 0:e.Impression))return n.InLine.Impression}function Uu(t){var e,n=t.VAST.Ad;if("object"===h()(null==n||null===(e=n.InLine)||void 0===e?void 0:e.Error))return n.InLine.Error}function Wu(t){var e,n,i,r,o,a=t.VAST.Ad,s="";return(null==a||null===(e=a.InLine)||void 0===e||null===(n=e.Creatives)||void 0===n||null===(i=n.Creative)||void 0===i||null===(r=i.NonLinearAds)||void 0===r||null===(o=r.NonLinear)||void 0===o?void 0:o._attributes)&&(s=a.InLine.Creatives.Creative.NonLinearAds.NonLinear._attributes),s}var zu=function t(e){var n=e.vastData,i=e.core;return c()(this,t),d()(this,"public",{}),d()(this,"info",{extra:{Position:void 0,id:void 0,Break:void 0,Duration:void 0,MaxDuration:void 0,ViewableImpression:void 0,Passback:{id:void 0,timeout:void 0,url:void 0},Prebid:void 0,Driver:"tvn",Cta:void 0,ShowCounter:!0,CounterText:"",Sellout:{impression:void 0},Programmatic:void 0,IVC:{MediaFile:void 0,TrackingResource:void 0,Impression:void 0,Error:void 0,Reporting:void 0},Tracking:{impressions:void 0,error:void 0,linear:{events:void 0}},Overlay:{attributes:void 0}}}),d()(this,"getPassback",Eu.bind(this)),d()(this,"getBreakName",Cu.bind(this)),d()(this,"getAdType",_u.bind(this)),d()(this,"getSelloutImpression",Pu.bind(this)),d()(this,"getDuration",Bu.bind(this)),d()(this,"getID",Su.bind(this)),d()(this,"getPrebid",xu.bind(this)),d()(this,"getCta",Tu.bind(this)),d()(this,"getShowCounter",Iu.bind(this)),d()(this,"getCounterText",Du.bind(this)),d()(this,"getPosition",Ru.bind(this)),d()(this,"getViewableImpression",Lu.bind(this)),d()(this,"isProgrammatic",Ou.bind(this)),d()(this,"getMaxDuration",ju.bind(this)),d()(this,"getIVCMediaFile",Nu.bind(this)),d()(this,"getTrackingResource",Fu.bind(this)),d()(this,"getIVCReporting",qu.bind(this)),d()(this,"getIVCImpression",Vu.bind(this)),d()(this,"getIVCError",Uu.bind(this)),d()(this,"getOverlayData",Wu.bind(this)),d()(this,"init",Mu.bind(this)),this.core=i,this.init(n),C(this,this.public,"extra","info"),this.public},Hu=function(){function t(e){var n=this;return c()(this,t),this.core=e,{toCompliant:function(t){return"object"!==h()(t)&&(t={}),n.convert(t)}}}return g()(t,[{key:"convert",value:function(t){var e=new zu({vastData:t,core:this.core}),n=new ku(t),i=e.extra;return{compliant:n.get(),extra:i}}}]),t}(),Qu=function(){var t=Es()(ws.a.mark((function t(e,n){var i,r;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetch(e,{credentials:"include"});case 2:if(!(i=t.sent).ok){t.next=8;break}return t.next=6,i.text();case 6:return r=t.sent,t.abrupt("return",r);case 8:throw new Error("Can't load vast"+e);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ku=function(t){var e=t.core,n=(t.extra,t.tag),i=e.getComponent("config"),r=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,o=r?n[r]:void 0;if("string"==typeof o){var a;o=o.trim();var s=null===(a=i.data.service)||void 0===a?void 0:a.host;if(s){var c=encodeURIComponent(s),u=encodeURIComponent(encodeURIComponent(s));o=(o=(o=o.replace("_DOMAIN_",s)).replace("_ENC-DOMAIN_",c)).replace("_DB-ENC-DOMAIN_",u),n[r]=o}}},Yu=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){r=r.trim();var o=e.getComponent("gdpr"),a=null==o?void 0:o.getConsensString();r=r.replace("_CONSENT-STR_","".concat(a)),n[i]=r}},Gu=function(t){var e=t.core,n=t.extra,i=t.tag,r=(null==i?void 0:i._cdata)?"_cdata":(null==i?void 0:i._text)?"_text":void 0,o=r?i[r]:void 0;if("string"==typeof o){var a,s,c,u,d;o=o.trim(),n.Tracking||(n.Tracking={}),Array.isArray(n.Tracking.impressions)||(n.Tracking.impressions=[]);var l=e.getComponent("config"),h=null==i||null===(a=i._attributes)||void 0===a?void 0:a.id,p=null==l||null===(s=l.data)||void 0===s||null===(c=s.captureTracking)||void 0===c?void 0:c.pattern,f=null==i||null===(u=i._attributes)||void 0===u?void 0:u.dst,v=p&&(null===(d=o)||void 0===d?void 0:d.match(new RegExp(p)));"ima"===f||"tvn"!==f&&!v||(n.Tracking.impressions.push({text:o,id:h}),delete i._cdata,delete i._text,delete i._attributes)}},Ju=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){r=r.trim();var o=e.getComponent("storage");if(o){var a=o.useHardSpace();r.match(/__DEBUG_OFF__/)?(a.debug=!1,o.save()):r.match(/__DEBUG_ON__/)&&(a.debug=!0,o.save())}}},Zu=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){r=r.trim();var o=e.getComponent("storage");if(o){var a,s=o.useSpace("initialization"),c=null==s||null===(a=s.data)||void 0===a?void 0:a.contentId;if(c){var u="https://player.pl/r/vod/link,".concat(c);r=r.replace("_ENC-CONTENT-URL_",encodeURIComponent(u)),n[i]=r}}}},Xu=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){r=r.trim();var o=e.getComponent("storage");if(o){var a,s=o.useSpace("initialization"),c=null==s||null===(a=s.data)||void 0===a?void 0:a.rdid;c&&(r=(r=(r=r.replace("_rdid_",c)).replace("_idtype_","undefined")).replace("_is_lat_","undefined"),n[i]=r)}}},$u=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){var o;r=r.trim();var a=null===(o=e.getComponent("cookieMatching"))||void 0===o?void 0:o.isCookie,s=e.getComponent("storage").useSpace("adRequest");!a&&s.isUsedCookieMatching&&(r=r.replace("://tvn.adocean.pl/","://recontent.services.tvn.pl/"),n[i]=r)}},td=function(t){var e,n,i,r,o,a=t.vast,s=t.core,c=t.extra,u=t.plugins,d=s.getComponent("storage"),l=d?d.useSpace("breakBuilder"):void 0;u||((u=[]).push(Ku),u.push(Yu),u.push(Zu),u.push(Xu),u.push(Ju),u.push($u),(null==l?void 0:l.captureTrackingEnabled)&&u.push(Gu));var h=null==a||null===(e=a.VAST)||void 0===e?void 0:e.Ad;Array.isArray(h)&&(h=h[0]);var p,f,v=[];if(null===(n=h)||void 0===n||null===(i=n.Wrapper)||void 0===i?void 0:i.Impression)v=null===(p=h)||void 0===p||null===(f=p.Wrapper)||void 0===f?void 0:f.Impression;else if(null===(r=h)||void 0===r||null===(o=r.InLine)||void 0===o?void 0:o.Impression){var g,m;v=null===(g=h)||void 0===g||null===(m=g.InLine)||void 0===m?void 0:m.Impression}Array.isArray(v)||(v=[v]),v.forEach((function(t){u.forEach((function(e){e({tag:t,core:s,extra:c})}))}))},ed=function(t){var e=t.core,n=t.extra,i=t.tag,r=(null==i?void 0:i._cdata)?"_cdata":(null==i?void 0:i._text)?"_text":void 0,o=r?i[r]:void 0;if("string"==typeof o){var a,s,c,u,d;o=o.trim(),n.Tracking||(n.Tracking={}),Array.isArray(n.Tracking.errors)||(n.Tracking.errors=[]);var l=e.getComponent("config"),h=null==i||null===(a=i._attributes)||void 0===a?void 0:a.id,p=null==l||null===(s=l.data)||void 0===s||null===(c=s.captureTracking)||void 0===c?void 0:c.pattern,f=null==i||null===(u=i._attributes)||void 0===u?void 0:u.dst,v=p&&(null===(d=o)||void 0===d?void 0:d.match(new RegExp(p)));"ima"===f||"tvn"!==f&&!v||(n.Tracking.errors.push({text:o,id:h}),delete i._cdata,delete i._text,delete i._attributes)}},nd=function(t){var e,n,i,r,o,a=t.vast,s=t.core,c=t.extra,u=t.plugins,d=s.getComponent("storage"),l=d?d.useSpace("breakBuilder"):void 0;u||((u=[]).push(Ku),u.push(Yu),u.push(Zu),u.push(Xu),u.push($u),(null==l?void 0:l.captureTrackingEnabled)&&u.push(ed));var h=null==a||null===(e=a.VAST)||void 0===e?void 0:e.Ad;Array.isArray(h)&&(h=h[0]);var p,f,v=[];if(null===(n=h)||void 0===n||null===(i=n.Wrapper)||void 0===i?void 0:i.Error)v=null===(p=h)||void 0===p||null===(f=p.Wrapper)||void 0===f?void 0:f.Error;else if(null===(r=h)||void 0===r||null===(o=r.InLine)||void 0===o?void 0:o.Error){var g,m;v=null===(g=h)||void 0===g||null===(m=g.InLine)||void 0===m?void 0:m.Error}Array.isArray(v)||(v=[v]),v.forEach((function(t){u.forEach((function(e){e({tag:t,core:s,extra:c})}))}))},id=function(t){var e=t.core,n=t.extra,i=t.tag,r=(null==i?void 0:i._cdata)?"_cdata":(null==i?void 0:i._text)?"_text":void 0,o=r?i[r]:void 0;if("string"==typeof o){var a,s,c,u,d;o=o.trim(),n.Tracking||(n.Tracking={}),n.Tracking.linear||(n.Tracking.linear={}),"object"!==h()(n.Tracking.linear.events)&&(n.Tracking.linear.events={});var l=e.getComponent("config"),p=null==i||null===(a=i._attributes)||void 0===a?void 0:a.event,f=null==l||null===(s=l.data)||void 0===s||null===(c=s.captureTracking)||void 0===c?void 0:c.pattern,v=null==i||null===(u=i._attributes)||void 0===u?void 0:u.dst,g=f&&(null===(d=o)||void 0===d?void 0:d.match(new RegExp(f)));p&&"ima"!==v&&("tvn"===v||g)&&(Array.isArray(n.Tracking.linear.events[p])||(n.Tracking.linear.events[p]=[]),n.Tracking.linear.events[p].push({text:o}),delete i._cdata,delete i._text,delete i._attributes)}},rd=function(t){var e,n,i,r,o,a,s,c=t.vast,u=t.core,d=t.extra,l=t.plugins,h=u.getComponent("storage"),p=h?h.useSpace("breakBuilder"):void 0;l||((l=[]).push(Ku),l.push(Yu),l.push(Zu),l.push(Xu),l.push($u),(null==p?void 0:p.captureTrackingEnabled)&&l.push(id));var f=null==c||null===(e=c.VAST)||void 0===e?void 0:e.Ad;Array.isArray(f)&&(f=f[0]);var v,g=(null===(n=f)||void 0===n||null===(i=n.InLine)||void 0===i||null===(r=i.Creatives)||void 0===r?void 0:r.Creative)?f.InLine.Creatives.Creative:null===(o=f)||void 0===o||null===(a=o.Wrapper)||void 0===a||null===(s=a.Creatives)||void 0===s?void 0:s.Creative;Array.isArray(g)||(g=[g]),g.forEach((function(t){var e,n;v=null==t||null===(e=t.Linear)||void 0===e||null===(n=e.TrackingEvents)||void 0===n?void 0:n.Tracking,Array.isArray(v)||(v=[v]),v.forEach((function(t){l.forEach((function(e){e({tag:t,core:u,extra:d})}))}))}))},od=function(t){var e,n,i,r=t.vast,o=t.core,a=t.extra,s=t.plugins;s||((s=[]).push(Ku),s.push(Yu),s.push(Zu),s.push(Xu),s.push($u));var c=null==r||null===(e=r.VAST)||void 0===e?void 0:e.Ad;Array.isArray(c)&&(c=c[0]);var u=null===(n=c)||void 0===n||null===(i=n.Wrapper)||void 0===i?void 0:i.VASTAdTagURI;u&&s.forEach((function(t){t({tag:u,core:o,extra:a})}))},ad=function(t){var e,n,i=t.vast,r=t.core,o=t.extra,a=t.plugins;a||((a=[]).push(Ku),a.push(Yu),a.push(Zu),a.push(Xu),a.push($u));var s=null==i||null===(e=i.VAST)||void 0===e?void 0:e.Ad;Array.isArray(s)&&(s=s[0]),(null==o||null===(n=o.Passback)||void 0===n?void 0:n.url)&&a.forEach((function(t){var e={_cdata:o.Passback.url};t({tag:e,core:r,extra:o}),o.Passback.url=e._cdata}))},sd=function(t){var e,n=t.vast,i=t.core,r=t.extra,o=t.plugins;o||((o=[]).push(Ku),o.push(Yu),o.push(Xu),o.push($u));var a=null==n||null===(e=n.VAST)||void 0===e?void 0:e.Ad;Array.isArray(a)&&(a=a[0]);var s=null==r?void 0:r.ViewableImpression;if(s){var c=Array.isArray(s.NotViewable)?s.NotViewable:[s.NotViewable],u=Array.isArray(s.TVNViewable)?s.TVNViewable:[s.TVNViewable],d=Array.isArray(s.Viewable)?s.Viewable:[s.Viewable];c.forEach((function(t){o.forEach((function(e){e({tag:t,core:i,extra:r})}))})),u.forEach((function(t){o.forEach((function(e){e({tag:t,core:i,extra:r})}))})),d.forEach((function(t){o.forEach((function(e){e({tag:t,core:i,extra:r})}))}))}},cd=function(t){t.vast;var e,n=t.core,i=t.extra,r=t.plugins;r||((r=[]).push(Ku),r.push(Yu),r.push(Zu),r.push(Xu),r.push(Ju),r.push($u)),((null===(e=i.Tracking)||void 0===e?void 0:e.impressions)?i.Tracking.impressions:[]).forEach((function(t){r.forEach((function(e){var r={_text:t.text};e({tag:r,core:n,extra:i}),t.text=r._text}))}))},ud=function(t){t.vast;var e,n=t.core,i=t.extra,r=t.plugins;r||((r=[]).push(Ku),r.push(Yu),r.push(Zu),r.push(Xu),r.push($u)),((null===(e=i.Tracking)||void 0===e?void 0:e.errors)?i.Tracking.errors:[]).forEach((function(t){r.forEach((function(e){var r={_text:t.text};e({tag:r,core:n,extra:i}),t.text=r._text}))}))},dd=function(t){t.vast;var e,n,i,r,o=t.core,a=t.extra,s=t.plugins;s||((s=[]).push(Ku),s.push(Yu),s.push(Zu),s.push(Xu),s.push($u));var c=(null===(e=a.Tracking)||void 0===e||null===(n=e.linear)||void 0===n?void 0:n.events)?null===(i=a.Tracking)||void 0===i||null===(r=i.linear)||void 0===r?void 0:r.events:{};Object.entries(c).forEach((function(t){s.forEach((function(e){t[1].forEach((function(t){var n={_text:t.text};e({tag:n,core:o,extra:a}),t.text=n._text}))}))}))},ld=function(){function t(e){var n=this;c()(this,t),d()(this,"http",void 0),d()(this,"core",void 0),d()(this,"processors",[td,nd,rd,od,ad,sd,cd,ud,dd]),d()(this,"minVastLength",22),d()(this,"status","pending"),d()(this,"type",void 0),d()(this,"url",void 0),d()(this,"json",void 0),d()(this,"extra",void 0),d()(this,"driver",void 0),this.core=e,this.http=e.getComponent("http"),this.config=e.getComponent("config");var i={loadFromUrl:function(t){return n.loadFromUrl(t),i},setUrlToLoad:function(t){return n.setUrlToLoad(t),i},setXML:function(t){return n.status="ready",n.type="direct",n.string=t,n.toJSON(),i},setJSON:function(t){return n.status="ready",n.type="direct",n.json=t,n.toString(),i},setDriver:function(t){return n.driver=t,i},getType:function(){return n.type},getJson:function(){return n.json},getUrl:function(){return n.url},getString:function(){if("string"==typeof n.string)return n.string.trim()},extra:function(t){return n.extra=t,i},getExtra:function(){return n.extra},applyPlugins:function(t){n.pluginsApply(t)},getTimeout:function(){var t,e,i,r;return(null===(t=n.extra)||void 0===t||null===(e=t.Passback)||void 0===e?void 0:e.timeout)||(null===(i=n.config.data.ads)||void 0===i||null===(r=i.timeout)||void 0===r?void 0:r.vastLoadTimeout)}};return i}return g()(t,[{key:"loadFromUrl",value:function(t){var e=this;this.url=t,this.type="direct",Qu(t,this.http).then((function(t){e.string=t,e.status="ready"})).catch((function(){e.status="error"}))}},{key:"toJSON",value:function(){"direct"===this.type&&"ready"===this.status&&"string"==typeof this.string&&this.string.length>this.minVastLength&&(this.json=kc.toJSON(this.string))}},{key:"toString",value:function(){"direct"===this.type&&"ready"===this.status&&"object"===h()(this.json)&&(this.string=kc.toXML(this.json))}},{key:"setUrlToLoad",value:function(t){this.url=t,this.type="remote",this.status="ready"}},{key:"pluginsApply",value:function(t){var e=this;this.processors.forEach((function(n){n({core:e.core,vast:e.json,extra:e.extra,plugins:t})})),"object"===h()(this.json)&&(this.string=kc.toXML(this.json))}}]),t}();function hd(t){var e=this;return t||(t=this.public),Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);"function"==typeof i.get||"function"==typeof i.set||("object"===h()(t[n])?t[n]=hd.call(e,t[n]):"function"==typeof t[n]&&(t[n]=t[n].bind(e)))})),t}function pd(t){this.di=t}function fd(){this.child&&this.child.control.skip(),this.toSkip=!0,this.canBePreloaded=!1}function vd(){return gd.apply(this,arguments)}function gd(){return(gd=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function md(){return bd.apply(this,arguments)}function bd(){return(bd=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yd(){return Ad.apply(this,arguments)}function Ad(){return(Ad=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wd(){return kd.apply(this,arguments)}function kd(){return(kd=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ed(){return Cd.apply(this,arguments)}function Cd(){return(Cd=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _d(){return Sd.apply(this,arguments)}function Sd(){return(Sd=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xd(){return Td.apply(this,arguments)}function Td(){return(Td=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rd(t){return Od.apply(this,arguments)}function Od(){return(Od=Es()(ws.a.mark((function t(e){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Md(){this.state.initialized=!0}function Id(){}function Dd(){}function Pd(){}function Ld(){}function jd(){}function Bd(){}function Nd(){}function Fd(){}function qd(){}function Vd(){}function Ud(){}function Wd(){return this.child?this.child.state.isPending:this.currentState===this.availableStates.pending}function zd(){return this.child?this.child.state.isLoaded:this.currentState===this.availableStates.loaded}function Hd(){return this.child?this.child.state.isInProgress:this.currentState===this.availableStates.inProgress}function Qd(){return this.child?this.child.state.isCompleted:this.currentState===this.availableStates.completed}function Kd(){return!!this.adBreak.state.isSkipped()||(this.child?this.child.state.toSkip:!!this.toSkip)}function Yd(){return this.child?this.child.state.playing:this.playing}function Gd(){return this.child?this.child.state.broken:!!this.info.broken}function Jd(){return this.child?this.child.state.isStarted:this.isStarted}function Zd(){if(this.child)return this.child.state.string;var t=this.public;return t.state.isCompleted?"completed":t.state.isPending?"pending":t.state.isLoaded?"loaded":t.state.isInProgress?t.state.playing?"playing":"paused":void 0}function Xd(){return this.manualPause}function $d(){return this.offlinePause}function tl(){return this.public.state.isPending&&this.public.preload.isPending&&!this.public.state.toSkip}function el(){return this.preloadState===this.availablePreloadStates.pending}function nl(){return this.preloadState===this.availablePreloadStates.inProgress}function il(){return this.preloadState===this.availablePreloadStates.completed}function rl(){return this.child?this.child.info.remaining:this.isTrailer?0:this.info.remaining}function ol(){return this.child?this.child.info.duration:this.info.duration}function al(){return this.child?this.child.info.currentTime:this.info.duration-this.info.remaining}function sl(){var t,e,n,i,r,o,a,s,c,u=this.vast.vastObject.getJson(),d=this.info.adData;return this.child?this.child.info.getData().creativeId:(null==u||null===(t=u.VAST)||void 0===t||null===(e=t.Ad[0])||void 0===e||null===(n=e.InLine)||void 0===n||null===(i=n.Creatives)||void 0===i||null===(r=i.Creative[0])||void 0===r||null===(o=r._attributes)||void 0===o?void 0:o.id)?null===(c=u.VAST.Ad[0].InLine.Creatives.Creative[0])||void 0===c?void 0:c._attributes.id:(null==u||null===(a=u.VAST)||void 0===a||null===(s=a.Ad[0])||void 0===s?void 0:s.Wrapper)?null==d?void 0:d.creativeId:void 0}function cl(){var t,e;return this.child?this.child.info.volume:(null===(t=this.di)||void 0===t||null===(e=t.adsManager)||void 0===e?void 0:e.getVolume())||this.info.volume}function ul(){var t,e;if(this.child)return this.child.info.isInline;var n=this.vast.vastObject.getJson();return void 0!==(null==n||null===(t=n.VAST)||void 0===t||null===(e=t.Ad[0])||void 0===e?void 0:e.InLine)}function dl(){var t;return this.child?this.child.info.isVpaid:!("application/javascript"!==(null===(t=this.public.info.getData())||void 0===t?void 0:t.contentType))}function ll(){return{vast:this.vast.vastObject.getJson(),child:this.child?this.child.info.getSummary():void 0,state:{ad:this.currentState,preload:this.preloadState,playing:this.playing},info:{duration:this.info.duration,remaining:this.info.remaining,height:this.info.height,width:this.info.width,break:this.info.break,adId:this.info.adId,adQueryId:this.info.adQueryId,adSystem:this.info.adSystem,adWrapperSystems:this.info.adWrapperSystems,advertiserName:this.info.advertiserName,apiFramework:this.info.apiFramework,contentType:this.info.contentType,creativeAdId:this.info.creativeAdId,creativeId:this.info.creativeId,dealId:this.info.dealId,disableUi:this.info.disableUi,title:this.info.title,uiElements:this.info.uiElements,universalAdIds:this.info.universalAdIds,universalAdIdRegistry:this.info.universalAdIdRegistry,universalAdIdValue:this.info.universalAdIdValue,vpaid:this.info.vpaid}}}function hl(){return this.child?this.child.info.getData():this.info.adData}function pl(){return this.child?this.child.info.getMyActiveInstance():this.public}function fl(){return!this.child}function vl(){return!!this.child}function gl(){return this.child?this.child.info.floorChild():this.public}function ml(){return this.parent?this.parent.public:void 0}function bl(){return this.child?this.child.info.isTrailer:this.isTrailer}var yl=function t(e){var n=e.core,i=e.parent,r=e.vastObject,o=e.canBePreloaded,a=e.fallBackLevel,s=e.breakName,u=e.adIndex,l=e.isTrailer,h=void 0!==l&&l,p=e.adBreak;if(c()(this,t),d()(this,"core",void 0),d()(this,"logger",void 0),d()(this,"storage",void 0),d()(this,"eventManager",void 0),d()(this,"event",void 0),d()(this,"emiterl",void 0),d()(this,"breakManager",void 0),d()(this,"listeners",[]),d()(this,"manualPause",!1),d()(this,"offlinePause",!1),d()(this,"availableStates",{pending:"pending",loaded:"loaded",inProgress:"inProgress",completed:"completed"}),d()(this,"availablePreloadStates",{pending:"pending",inProgress:"inProgress",completed:"completed"}),d()(this,"preloadState",this.availablePreloadStates.pending),d()(this,"currentState",this.availableStates.pending),d()(this,"canBePreloaded",!0),d()(this,"startRequested",!1),d()(this,"isTrailer",void 0),d()(this,"isStarted",!1),d()(this,"toSkip",!1),d()(this,"adBreak",void 0),d()(this,"child",void 0),d()(this,"parent",void 0),d()(this,"playing",!1),d()(this,"di",{}),d()(this,"public",{maintanance:{setDependencies:pd.bind(this),fixPublicApiContext:hd.bind(this)},control:{load:vd.bind(this),fallBack:md.bind(this),play:yd.bind(this),pause:wd.bind(this),resume:Ed.bind(this),destroy:_d.bind(this),resize:xd.bind(this),setVolume:Rd.bind(this),skip:fd.bind(this)},state:{isPending:void 0,isLoaded:void 0,isInProgress:void 0,isCompleted:void 0,toSkip:void 0,broken:void 0,playing:void 0,initialized:void 0,inFullScreen:void 0,isStarted:void 0,string:void 0,manualPause:void 0,offlinePause:void 0},preload:{canBePreloaded:void 0,isPending:void 0,isInProgress:void 0,isCompleted:void 0},action:{initialized:Md.bind(this),loaded:Id.bind(this),started:Dd.bind(this),paused:Pd.bind(this),resumed:Ld.bind(this),completed:jd.bind(this),stateChanged:Bd.bind(this),sizeChanged:Nd.bind(this),volumeChanged:Fd.bind(this),currentTimeChanged:qd.bind(this),click:Vd.bind(this),error:Ud.bind(this)},vastObject:void 0,info:{adUnique:void 0,fallBackLevel:void 0,break:void 0,index:void 0,duration:void 0,currentTime:void 0,remaining:void 0,volume:void 0,isInline:void 0,parent:void 0,currentAdId:void 0,isTrailer:void 0,getSummary:ll.bind(this),getData:hl.bind(this),getMyActiveInstance:pl.bind(this),amIActive:fl.bind(this),isFallback:vl.bind(this),floorChild:gl.bind(this),getCreativeId:sl.bind(this),isVpaid:void 0}}),d()(this,"preload",{getCanBePreloaded:tl.bind(this),getIsPending:el.bind(this),getIsInProgress:nl.bind(this),getIsCompleted:il.bind(this)}),d()(this,"state",{initialized:!1,getBroken:Gd.bind(this),getPlaying:Yd.bind(this),getIsPending:Wd.bind(this),getIsLoaded:zd.bind(this),getIsInProgress:Hd.bind(this),getIsCompleted:Qd.bind(this),getToSkip:Kd.bind(this),getIsStarted:Jd.bind(this),getString:Zd.bind(this),getManualPause:Xd.bind(this),getOfflinePause:$d.bind(this)}),d()(this,"vast",{vastObject:void 0}),d()(this,"info",{currentAdId:void 0,adData:{},broken:void 0,break:void 0,index:void 0,fallBackLevel:0,duration:30,remaining:30,getVolume:cl.bind(this),getRemaining:rl.bind(this),getDuration:ol.bind(this),getCurrentTime:al.bind(this),getIsInline:ul.bind(this),getParent:ml.bind(this),getIsTrailer:bl.bind(this),getIsVpaid:dl.bind(this)}),d()(this,"adLoadPromise",void 0),this.core=n,this.eventManager=n.getComponent("eventManager"),this.event=n.getComponent("event"),this.emiter=this.event.emiter(),this.storage=n.getComponent("storage"),this.logger=n.getComponent("logger"),this.breakManager=n.getComponent("breakManager"),this.parent=i,this.vast.vastObject=r,this.isTrailer=h,!p)throw new Error("Can't create adObject. AdBreak is not set.");this.adBreak=p,this.canBePreloaded=void 0===o?this.canBePreloaded:o,this.info.fallBackLevel=void 0===a?this.info.fallBackLevel:a,this.info.break=s,this.info.index=u;var f=h?"trailer":u;return this.info.currentAdId=s+"-Ad"+f,this.public.info.adUnique=s+"-ad"+f+"-fb"+this.info.fallBackLevel,this.info.duration=this.info.remaining=this.vast.vastObject.getExtra().Duration,C(this,this.public,"vastObject","vast"),C(this,this.public.state,"inFullScreen","state"),C(this,this.public.state,"broken","state"),C(this,this.public.state,"playing","state"),C(this,this.public.state,"initialized","state"),C(this,this.public.state,"isPending","state"),C(this,this.public.state,"isLoaded","state"),C(this,this.public.state,"isInProgress","state"),C(this,this.public.state,"isCompleted","state"),C(this,this.public.state,"toSkip","state"),C(this,this.public.state,"isStarted","state"),C(this,this.public.state,"string","state"),C(this,this.public.state,"manualPause","state"),C(this,this.public.state,"offlinePause","state"),C(this,this.public.preload,"canBePreloaded","preload"),C(this,this.public.preload,"isPending","preload"),C(this,this.public.preload,"isInProgress","preload"),C(this,this.public.preload,"isCompleted","preload"),C(this,this.public.info,"remaining","info"),C(this,this.public.info,"duration","info"),C(this,this.public.info,"currentTime","info"),C(this,this.public.info,"volume","info"),C(this,this.public.info,"fallBackLevel","info"),C(this,this.public.info,"isInline","info"),C(this,this.public.info,"isTrailer","info"),C(this,this.public.info,"parent","info"),C(this,this.public.info,"isVpaid","info"),_(this,this.public.info,"break","info"),_(this,this.public.info,"index","info"),this.public},Al=function(t){var e=t.core,n=(t.extra,t.tag),i=(null==n?void 0:n._cdata)?"_cdata":(null==n?void 0:n._text)?"_text":void 0,r=i?n[i]:void 0;if("string"==typeof r){var o;r=r.trim();var a=null===(o=function(t){return function(t){var e=t.getComponent("breakManager");return null==e?void 0:e.getBreaksQueue().getActiveBreak()}(t).info.adsCompleted}(e))||void 0===o?void 0:o.length,s=a?a+1:1;s&&(r=r.replace("_POSITION_",s),n[i]=r)}},wl=function(t){t.core,t.extra;var e=t.tag,n=(null==e?void 0:e._cdata)?"_cdata":(null==e?void 0:e._text)?"_text":void 0,i=n?e[n]:void 0;if("string"==typeof i){i=i.trim();var r=(new Date).getTime();i=i.replace("[TIMESTAMP]",r),e[n]=i}};function kl(){var t=this;return this.adLoadPromise||(this.adLoadPromise=new Promise(function(){var e=Es()(ws.a.mark((function e(n,i){var r,o,a,s,c;return ws.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.public.state.toSkip&&n(),r=t.vast.vastObject.getExtra().AdType,t.vast.vastObject.applyPlugins([Al,wl]),!t.public.preload.canBePreloaded){e.next=35;break}return t.parent||t.core.getComponent("api").getExternalApi().ad.adRequest(t.info.currentAdId),t.preloadState=t.availablePreloadStates.inProgress,e.prev=6,t.emiter.reached("loading:adFlow",{adObject:t.public}),"f_pb"===r&&t.forcePassback(),o=t.core.getComponent("player"),a=t.core.getComponent("platformDetector"),s={player:o,google:t.di.google,adObject:t,platformDetector:a},e.next=14,t.di.adLoader.load(s);case 14:c=e.sent,t.preloadState=t.availablePreloadStates.completed,t.di.adsManager=c,t.info.broken=!1,t.emiter.reached("loaded:adFlow",{adObject:t.public}),e.next=35;break;case 21:return e.prev=21,e.t0=e.catch(6),t.emiter.reached("adLoadError:adFlow",{adObject:t.public}),t.core.getComponent("adsManager").setState("error"),t.info.broken=!0,e.prev=27,e.next=30,t.public.control.fallBack();case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(27),t.emiter.reached("passbackLoadError:adFlow,error",{error:e.t1});case 35:n();case 36:case"end":return e.stop()}}),e,null,[[6,21],[27,32]])})));return function(t,n){return e.apply(this,arguments)}}())),this.adLoadPromise}function El(){return Cl.apply(this,arguments)}function Cl(){return(Cl=Es()(ws.a.mark((function t(){var e,n,i,r,o,a,s,c,u,d,l=this;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.di.adLoader&&this.di.adLoader.destroy(),this.di.adsManager&&this.di.adsManager.destroy(),this.di.adDisplayContainer&&setTimeout((function(){l.di.adDisplayContainer.destroy()}),3e3),this.core.getComponent("viewability").updateVisParam(),e=this.public.vastObject,n=e.getExtra(),i=Ac({id:n.Passback.id,url:n.Passback.url,adBreak:n.Break,core:this.core})){t.next=13;break}return this.public.control.skip(),this.emiter.reached("noPassback:adFlow",{adObject:this.public}),t.abrupt("return");case 13:return this.emiter.reached("loadingPassback:adFlow",{adObject:this.public}),r=this.core.getComponent("http"),t.next=17,Ec(i,r);case 17:return o=t.sent,a=kc.toJSON(o),s=new Hu(this.core),c=s.toCompliant(a),u=new ld(this.core),void 0!==c.extra&&(c.extra.Position=this.info.index),u.setJSON(c.compliant).extra(c.extra).applyPlugins(),d=new yl({core:this.core,parent:this,breakName:this.info.break,adIndex:this.info.index,vastObject:u,fallBackLevel:++this.info.fallBackLevel,adBreak:this.adBreak}),this.child=d,this.core.getComponent("adPlayer").initialize(d),d.control.setVolume(this.info.volume),this.emiter.reached("incomingPassback:adFlow",{adObject:d}),t.next=32,d.control.load();case 32:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _l(){return Sl.apply(this,arguments)}function Sl(){return(Sl=Es()(ws.a.mark((function t(){var e,n;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.public.state.toSkip){t.next=2;break}return t.abrupt("return");case 2:return e=this.core.getComponent("flow"),t.next=5,e.checkPoint("startingAd");case 5:if(this.core.getComponent("breakManager").setState("busy"),!this.public.preload.isPending&&!this.public.preload.isInProgress){t.next=10;break}return t.next=10,this.public.control.load();case 10:if(!(n=this.di.adsManager)){t.next=35;break}return this.emiter.reached("starting:adFlow",{adObject:this.public}),t.prev=13,t.next=16,n.play();case 16:t.next=33;break;case 18:return t.prev=18,t.t0=t.catch(13),t.prev=20,this.emiter.reached("startingError:adFlow",{error:t.t0}),t.next=24,this.public.control.fallBack();case 24:if(!this.child){t.next=27;break}return t.next=27,this.child.control.play();case 27:t.next=33;break;case 29:t.prev=29,t.t1=t.catch(20),this.emiter.reached("passbackLoadError:adFlow,error",{error:t.t1}),this.info.broken=!0;case 33:t.next=38;break;case 35:if(!this.child){t.next=38;break}return t.next=38,this.child.control.play();case 38:case"end":return t.stop()}}),t,this,[[13,18],[20,29]])})))).apply(this,arguments)}function xl(){return Tl.apply(this,arguments)}function Tl(){return(Tl=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==(e=Kr(this.core))?void 0:e.state.isPaused())){t.next=3;break}return t.abrupt("return");case 3:this.child?this.child.control.pause():this.di.adsManager.pause();case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Rl(){return Ol.apply(this,arguments)}function Ol(){return(Ol=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==(e=Kr(this.core))?void 0:e.state.isPaused())){t.next=3;break}return t.abrupt("return");case 3:this.child?this.child.control.resume():this.di.adsManager.resume();case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ml(){return Il.apply(this,arguments)}function Il(){return(Il=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.child?this.child.control.destroy():(this.emiter.reached("destroy:adFlow",{adObject:this.public}),this.di.adsManager.destroy());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Dl(t,e){return Pl.apply(this,arguments)}function Pl(){return(Pl=Es()(ws.a.mark((function t(e,n){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.child?this.child.control.resize(e,n):this.di.adsManager.resize(e,n);case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ll(t){return jl.apply(this,arguments)}function jl(){return(jl=Es()(ws.a.mark((function t(e){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.child?this.child.control.setVolume(e):(this.info.volume=e,this.di.adsManager&&(this.di.adsManager.setVolume(e),this.core.getComponent("eventManager").adsManager.volumeChanged.reached()));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Bl(){var t=this;this.listeners.push(this.event.onOneOf({events:["sizeChangeRequest"],action:function(e){var n,i,r=null===(n=e.extra.object)||void 0===n?void 0:n.width,o=null===(i=e.extra.object)||void 0===i?void 0:i.height;t.public.control.resize(r,o)}})),this.currentState=this.availableStates.loaded;var e=this.core.getComponent("eventManager"),n=this.core.getComponent("api");e.adsManager.preloaded.reached(),e.publicApi.adStateChanged.reached(),n.getExternalApi().ad.adResponse(this.info.currentAdId)}function Nl(){var t=this;this.listeners.push(this.event.onOneOf({events:["pause:adControl"],action:function(){t.offlinePause||t.manualPause||(t.manualPause=!0,t.public.control.pause())}})),this.listeners.push(this.event.onOneOf({events:["resume:adControl"],action:function(){t.manualPause=!1,t.offlinePause||t.public.control.resume()}})),this.listeners.push(this.event.onOneOf({events:["sdkOffline"],action:function(){t.offlinePause=!0,t.manualPause||t.public.control.pause()}})),this.listeners.push(this.event.onOneOf({events:["sdkOnline"],action:function(){t.offlinePause=!1,t.manualPause||t.public.control.resume()}})),this.listeners.push(this.event.onOneOf({events:["volumeChangeRequest"],action:function(e){var n=e.extra.object;t.public.control.setVolume(n)}}));var e=this.core.getComponent("breakManager"),n=this.core.getComponent("eventManager");this.currentState=this.availableStates.inProgress,this.playing=!0,n.adsManager.started.reached(),n.publicApi.adStarted.reached(),n.publicApi.adStateChanged.reached(),e.setState("working"),this.emiter.reached("started:adFlow",{adObject:this.public})}function Fl(){var t=this.core.getComponent("eventManager");this.playing=!1,t.adsManager.paused.reached(),t.publicApi.adPaused.reached(),t.publicApi.adStateChanged.reached()}function ql(){var t=this.core.getComponent("eventManager");this.playing=!0,t.adsManager.resumed.reached(),t.publicApi.adResumed.reached(),t.publicApi.adStateChanged.reached()}function Vl(){this.emiter.reached("completed:adFlow",{adObject:this.public}),this.di.adLoader&&this.di.adLoader.destroy(),this.di.adsManager&&this.di.adsManager.destroy(),this.listeners.forEach((function(t){return t.disable()}));var t=this.core.getComponent("eventManager"),e=this.core.getComponent("api");this.currentState===this.availableStates.inProgress?(this.currentState=this.availableStates.completed,t.publicApi.adCompleted.reached(),t.publicApi.adStateChanged.reached()):this.currentState!==this.availableStates.pending&&this.currentState!==this.availableStates.loaded||(this.currentState=this.availableStates.completed,e.getExternalApi().ad.adResponse(this.info.currentAdId)),t.adsManager.completed.reached()}function Ul(){var t=this.core.getComponent("eventManager");t.adsManager.resized.reached(),t.publicApi.adSizeChanged.reached()}function Wl(){var t=this.core.getComponent("eventManager");t.adsManager.volumeChanged.reached(),t.publicApi.adVolumeChanged.reached()}function zl(){this.emiter.reached("progress:adFlow",{adObject:this.public}).cleanUp();var t=this.core.getComponent("eventManager"),e=this.core.getComponent("config");this.info.duration-this.info.remaining>e.data.ads.isStartedTime&&(this.isStarted=!0),t.adsManager.currentTimeChanged.reached(),t.publicApi.adCurrentTimeChanged.reached()}function Hl(){this.emiter.reached("impression:adFlow",{adObject:this.public}).cleanUp()}function Ql(){this.public.control.pause()}function Kl(){this.public.action.completed()}function Yl(){}function Gl(){throw new Error}var Jl="unknown",Zl=function(){function t(e){var n=this;return c()(this,t),d()(this,"google",void 0),d()(this,"aDisplayContainer",void 0),d()(this,"adLoader",void 0),d()(this,"core",void 0),d()(this,"public",{initialize:function(t){if(t&&!t.state.initialized&&!t.preload.isCompleted){var e=n.google,i=n.core.getComponent("adContainer").getHtmlElement(),r=n.core.getComponent("player").getVideoElement(),o=n.core.getComponent("cta"),a=new gc;try{a.init({adContainer:i,videoElement:r,google:e,cta:o})}catch(t){n.public.setState("error")}var s=a.get();n.adLoader=new yc;try{n.adLoader.init({gAdDisplayContainer:s,google:e,core:n.core})}catch(t){n.public.setState("error")}t.maintanance.setDependencies({adDisplayContainer:a,google:n.google,adLoader:n.adLoader}),t.control.load=kl,t.control.fallBack=El,t.control.play=_l,t.control.pause=xl,t.control.resume=Rl,t.control.resize=Dl,t.control.destroy=Ml,t.control.setVolume=Ll,t.action.loaded=Bl,t.action.started=Nl,t.action.paused=Fl,t.action.resumed=ql,t.action.completed=Vl,t.action.impression=Hl,t.action.stateChanged=Yl,t.action.sizeChanged=Ul,t.action.volumeChanged=Wl,t.action.currentTimeChanged=zl,t.action.click=Ql,t.action.error=Kl,t.maintanance.fixPublicApiContext(),t.action.initialized()}},destroyImaContainer:function(){return n.destroyImaContainer()},getState:function(){return Jl},setState:function(t){var e=n.core.getComponent("eventManager");Jl=t,e.adPlayer.stateChanged.reached()},forcePassback:function(){return Gl.bind(n)}}),this.core=e,this.bindEvents(),this.initIMASDK(),this.public}var e,n;return g()(t,[{key:"bindEvents",value:function(){var t=this,e=this.core.getComponent("eventManager");new Bn("COM adPlayer initialize").do((function(){return t.init()})).onSequence([e.adsManager.imaSdkLoaded,e.publicApi.breakStartRequest])}},{key:"initIMASDK",value:(n=Es()(ws.a.mark((function t(){var e,n,i,r,o,a,s,c;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.core.getComponent("storage"),n=this.core.getComponent("config"),i=this.core.getComponent("event"),r=i.emiter(this.public),this.public.setState("busy"),o=this.core.getComponent("eventManager"),t.prev=6,t.next=9,vc(this.core);case 9:this.google=t.sent,e.useSpace("ima").version=null===(a=window.google)||void 0===a||null===(s=a.ima)||void 0===s?void 0:s.VERSION,this.google.ima.settings.setNumRedirects(null===(c=n.data.ads)||void 0===c?void 0:c.maxWrappers),this.google.ima.settings.setLocale("pl"),this.google.ima.settings.setVpaidMode(this.google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.public.setState("working"),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(6),r.reached("ImaSDKLoadError:error",{error:t.t0}),this.public.setState("error");case 21:r.reached("imaSdkLoaded"),o.adsManager.imaSdkLoaded.reached();case 23:case"end":return t.stop()}}),t,this,[[6,17]])}))),function(){return n.apply(this,arguments)})},{key:"init",value:(e=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this.core.getComponent("eventManager")).sdk.adPlayerReady.reached(),e.cookieMatching.matchRequest.reached();case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"destroyImaContainer",value:function(){this.adDisplayContainer&&this.adDisplayContainer.destroy()}}]),t}();function Xl(){var t=this;new Bn("Adding event to adContainer").do((function(){var e=t.core.getComponent("adContainer"),n=t.core.getComponent("event");e&&e.getHtmlElement().addEventListener("click",(function(e){var i,r,o=t.core.getComponent("breakManager").getFirstBreakInProgress(),a=null==o||null===(i=o.adQueue)||void 0===i?void 0:i.activeAd;(null==a||null===(r=a.state)||void 0===r?void 0:r.playing)?n.emiter().reached("pause:adControl"):n.emiter().reached("resume:adControl")}))})).onOneOf([this.eventManager.sdk.adPlayerReady]),this.eventManager.adsManager.started.action(new Bn("adsManager on ad started").do((function(){var e=t.core.getComponent("player"),n=t.core.getComponent("breakManager"),i=t.core.getComponent("eventManager"),r=n.getFirstBreakInProgress();(t.public.setState("working"),r)&&(r.adQueue.activeAd&&"playing"===e&&(i.player.pauseContentRequest.reached(),t.emiter.reached("pauseContentRequest")))}))),this.eventManager.sdk.adsManagerReady.action(new Bn("AdsManager check controlViewport config").do((function(){var e,n=t.core.getComponent("config").data.adapter.sdk;n.controlViewport&&((n.controlViewport.all||n.controlViewport.byAd)&&(!0===n.controlViewport.all?e="all":!0===n.controlViewport.byAd&&(e="byAd"),function(t,e){var n,i=t.getComponent("eventManager"),r=t.getComponent("viewability"),o=!1;i.adsManager.breakManagerStartRequest.action(new Bn("ControlViewport get ready ad component").do((function(){n=t.getComponent("adsManager").getComponent("ad")}))),i.viewability.adContainerVisibilityReached.action(new Bn("ControlViewport resume ad after reach visibility").do((function(){o&&(i.adsManager.resumeRequest.reached(),o=!1)}))),"all"===e?i.viewability.adContainerVisibilityLost.action(new Bn("ControlViewport pause ad after lost visibility").do((function(){n&&"playing"===n.getValue("state")&&(i.adsManager.pauseRequest.reached(),o=!0),void 0===n&&i.adsManager.started.action(new Bn("ControlViewport pause ad after lost visibility").do((function(){i.adsManager.pauseRequest.reached(),o=!0})))}))):"byAd"===e&&i.adsManager.started.action(new Bn("ControlViewport pause ad if not visible").do((function(){r.getValue("adContainer","scoreVisibility")&&r.isActiveTab||(i.adsManager.pauseRequest.reached(),o=!0)})))}(t.core,e)))})))}var $l=n(52),th=n.n($l),eh=n(31);function nh(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),new Bn("Initialization adsManaget component").do((function(){var e,n,i,r;e=t.core,n=e.getComponent("eventManager"),i=th()(),r=e.getComponent("user"),new Bn("Monitoring ads data").do((function(){var t,o,a,s,c,u,d,l,h,p,f=e.getComponent("http"),v=e.getComponent("breakManager").getFirstBreakInProgress(),g=null==r?void 0:r.getId();if(v){var m=v.adQueue.activeAd;if(m){var b,y,A,w,k,E,C,_,S,x=m.vastObject.getJson(),T=m.info.getData(),R=m.vastObject.getExtra(),O=m.info.floorChild();if(d=m.info.isInline,(l=R.Position)===eh.sponsorshipBoardPosition)return;d&&(h=null===(C=O.vastObject.getJson().VAST)||void 0===C||null===(_=C.Ad[0])||void 0===_||null===(S=_._attributes)||void 0===S?void 0:S.id),a=T.adId,o=O?null===(b=O.vastObject.getJson().VAST)||void 0===b||null===(y=b.Ad[0])||void 0===y||null===(A=y._attributes)||void 0===A?void 0:A.id:null==x||null===(w=x.VAST)||void 0===w||null===(k=w.Ad[0])||void 0===k||null===(E=k._attributes)||void 0===E?void 0:E.id,t=m.info.break,s=T.creativeId,c=T.dealId,u=T.adSystem}}p=d?encodeURIComponent("sessionId=".concat(i,"/breakName=").concat(t,"/userId=").concat(g,"/position=").concat(l,"/creativeId=").concat(s,"/adSystem=").concat(u,"/campaignId=").concat(h)):encodeURIComponent("sessionId=".concat(i,"/breakName=").concat(t,"/userId=").concat(g,"/position=").concat(l,"/creativeId=").concat(s,"/dealId=").concat(c,"/adSystem=").concat(u,"/wrapperId=").concat(o,"/adId=").concat(a)),eh.adoceanUrl+=p,f.fetch(eh.adoceanUrl).then((function(t){t.ok?n.breakManager.reportAdData.reached():n.breakManager.reportAdDataError.reached()})).catch((function(){n.breakManager.reportAdDataError.reached()}))})).withHistory().onSequence([n.adsManager.started]),t.player=t.core.getComponent("player"),t.bindEvents(),t.public.setState("loaded"),t.eventManager.sdk.adsManagerReady.reached()})).once().withHistory().onSequence([this.eventManager.sdk.playerReady])}function ih(){return this.info.state}var rh=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"player",void 0),d()(this,"public",{name:void 0,getState:ih.bind(this),setState:Je.bind(this)}),d()(this,"info",{name:"adsManager",state:"unknown"}),d()(this,"components",{}),d()(this,"bindEvents",Xl.bind(this)),d()(this,"init",nh.bind(this)),this.core=e,C(this,this.public,"name","info"),this.init(),this.public};function oh(){var t=this.core.getComponent("player"),e=this.storage.useSpace("breaksData"),n=this.storage.useSpace("adRequest"),i=e.breaks;n.w=window&&window.innerWidth||void 0,n.h=window&&window.innerHeight||void 0,n.x=screen&&screen.width||void 0,n.y=screen&&screen.height||void 0,n.isUsedTvnPage=!0,n.isUsedCookieMatching=!0,Object.prototype.hasOwnProperty.call(i,"Preroll")&&(n.predur=this.prepareBreakDuration("Preroll")),Object.prototype.hasOwnProperty.call(i,"Postroll")&&(n.postdur=this.prepareBreakDuration("Postroll")),Object.prototype.hasOwnProperty.call(i,"Midroll_1")&&(n.mid1dur=this.prepareBreakDuration("Midroll_1"),n.midcnt=1),Object.prototype.hasOwnProperty.call(i,"Midroll_2")&&(n.mid2dur=this.prepareBreakDuration("Midroll_2"),n.midcnt=2),Object.prototype.hasOwnProperty.call(i,"Midroll_3")&&(n.mid3dur=this.prepareBreakDuration("Midroll_3"),n.midcnt=3),Object.prototype.hasOwnProperty.call(i,"Preroll_Sponsor")&&(n.mid4dur=this.prepareBreakDuration("Preroll_Sponsor"),n.midcnt=4),Object.prototype.hasOwnProperty.call(i,"Midroll_Sponsor_1")&&(n.mid5dur=this.prepareBreakDuration("Midroll_Sponsor_1"),n.midcnt=5),Object.prototype.hasOwnProperty.call(i,"Midroll_Sponsor_2")&&(n.mid6dur=this.prepareBreakDuration("Midroll_Sponsor_2"),n.midcnt=6),Object.prototype.hasOwnProperty.call(i,"Midroll_Sponsor_3")&&(n.mid7dur=this.prepareBreakDuration("Midroll_Sponsor_3"),n.midcnt=7),Object.prototype.hasOwnProperty.call(i,"Midroll_Power_Spot")&&(n.mid8dur=this.prepareBreakDuration("Midroll_Power_Spot"),n.midcnt=8),Object.prototype.hasOwnProperty.call(i,"Postroll_Sponsor")&&(n.mid9dur=this.prepareBreakDuration("Postroll_Sponsor"),n.midcnt=9);var r=Math.round($a(t.duration()));n.overdur=r}function ah(){return this.breakConfig}function sh(){var t,e,n,i,r=this.core.getComponent("config"),o=this.core.getComponent("player"),a=null===(e=(null===(t=r.data.adapter)||void 0===t?void 0:t.ad).driver)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.breaks,s=this.storage.useSpace("breaksData"),c={};Object.entries(r.data.break).forEach((function(t){var e=t[0],n=t[1],i=a[e],r=null==n?void 0:n.startTime,o=i||r;void 0!==o&&null!==i&&(c[e]=o)}));var u=null==c||null===(i=c.Midroll_Power_Spot)||void 0===i?void 0:i.minContentTime,d=o.duration();c.Preroll_Sponsor=c.Preroll,c.Midroll_Sponsor_1=c.Midroll_1,c.Midroll_Sponsor_2=c.Midroll_2,c.Midroll_Sponsor_3=c.Midroll_3,c.Postroll_Sponsor=c.Postroll,u>d&&(c.Midroll_Power_Spot=void 0),(null==a?void 0:a.Preroll_Sponsor)&&(c.Preroll_Sponsor=a.Preroll_Sponsor),(null==a?void 0:a.Postroll_Sponsor)&&(c.Postroll_Sponsor=a.Postroll_Sponsor),s.breaks=c,this.eventManager.sdk.breaksDataReady.reached(),this.emiter.reached("breaksDataReady",{object:c})}function ch(t){var e,n=this.core.getComponent("config"),i=this.core.getComponent("player"),r=null===(e=n.data.break[t])||void 0===e?void 0:e.duration,o=Math.round($a(i.duration()));return o<r?o:r}var uh=function(t){return"object"===h()(t)&&"object"===h()(t.driver)&&"string"==typeof t.driver.name&&"tvn"===t.driver.name&&"object"===h()(t.driver.data)&&"object"===h()(t.driver.data.breaks)&&"string"==typeof t.driver.data.adserver},dh=function(t){return"object"===h()(t)&&"object"===h()(t.VAST)&&"object"===h()(t.VAST.Ad)},lh=function(){function t(){c()(this,t),d()(this,"info",void 0),d()(this,"state",void 0),d()(this,"adQueue",void 0),d()(this,"control",void 0)}return g()(t,[{key:"skip",value:function(){}},{key:"initialize",value:function(){}},{key:"setIndex",value:function(){}},{key:"reset",value:function(){}}]),t}(),hh=function(){function t(){c()(this,t)}return g()(t,[{key:"skipAllAds",value:function(){}},{key:"findNextAdToPlay",value:function(){}},{key:"findNextAdToLoad",value:function(){}},{key:"getAllPlayableAds",value:function(){}},{key:"getAllRealAds",value:function(){}},{key:"addToTop",value:function(){}},{key:"addToBottom",value:function(){}},{key:"leftToPlay",get:function(){}},{key:"activeAd",get:function(){}},{key:"nextAd",get:function(){}},{key:"size",get:function(){}}]),t}();function ph(t){this.adQueue.unshift(t)}function fh(t){this.adQueue.push(t)}function vh(t){var e=[];return this.adQueue.forEach((function(t){!t||t.state.toSkip||t.state.completed||t.state.broken||e.push(t)})),e}function gh(t){var e=[];return this.adQueue.forEach((function(t){!t||t.state.toSkip||t.info.isTrailer||e.push(t)})),e}function mh(){this.activeAdIndex=void 0;for(var t=0;t<this.adQueue.length;t++){var e=this.adQueue[t];if(e&&!e.state.isInProgress&&!e.state.isCompleted&&!e.state.toSkip&&!e.state.broken){this.activeAdIndex=t;break}}}function bh(){var t;for(this.nextAdIndex=void 0,t=void 0===this.activeAdIndex?0:this.activeAdIndex+1;this.adQueue[t];){var e=this.adQueue[t];if(!e.preload.isPending)return;if(null==e?void 0:e.preload.canBePreloaded){this.nextAdIndex=t;break}t++}}function yh(){this.adQueue.forEach((function(t){t&&t.control.skip()}))}function Ah(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return wh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function kh(){var t,e=0,n=Ah(this.adQueue);try{for(n.s();!(t=n.n()).done;){var i=t.value;(i.state.isPending||i.state.isLoaded)&&e++}}catch(t){n.e(t)}finally{n.f()}return e}function Eh(){return this.adQueue.filter((function(t){return!t.info.isTrailer})).length}function Ch(){return this.adQueue[this.activeAdIndex]}function _h(){return this.adQueue[this.nextAdIndex]}var Sh=function t(e,n){return c()(this,t),d()(this,"adQueue",[]),d()(this,"activeAdIndex",void 0),d()(this,"nextAdIndex",void 0),d()(this,"adBreak",void 0),d()(this,"core",void 0),d()(this,"public",{skipAllAds:yh.bind(this),addToTop:ph.bind(this),addToBottom:fh.bind(this),findNextAdToPlay:mh.bind(this),findNextAdToLoad:bh.bind(this),getAllPlayableAds:vh.bind(this),getAllRealAds:gh.bind(this),leftToPlay:void 0,activeAd:void 0,nextAd:void 0,size:void 0}),d()(this,"queue",{getActiveAd:Ch.bind(this),getNextAd:_h.bind(this),getLeftToPlay:kh.bind(this),getSize:Eh.bind(this)}),this.core=e,this.adBreak=n,C(this,this.public,"leftToPlay","queue"),C(this,this.public,"activeAd","queue"),C(this,this.public,"nextAd","queue"),C(this,this.public,"size","queue"),p(this.public,[new hh]),this.public},xh=function(){function t(){c()(this,t)}return g()(t,[{key:"isPending",value:function(){}},{key:"isPaused",value:function(){}},{key:"isInProgress",value:function(){}},{key:"isCompleted",value:function(){}},{key:"isQueued",value:function(){}},{key:"isSkipped",value:function(){}},{key:"setAsPending",value:function(){}},{key:"setAsPaused",value:function(){}},{key:"setAsInProgress",value:function(){}},{key:"setAsCompleted",value:function(){}},{key:"setAsQueued",value:function(){}},{key:"setAsSkipped",value:function(){}}]),t}();function Th(){return this.currentState===this.availableStates.pending}function Rh(){return this.currentState===this.availableStates.inProgress}function Oh(){return this.currentState===this.availableStates.completed}function Mh(){return this.currentState===this.availableStates.queued}function Ih(){return this.currentState===this.availableStates.paused}function Dh(){return!!this.isSkipped}function Ph(){this.currentState=this.availableStates.pending}function Lh(){this.currentState=this.availableStates.paused}function jh(){this.currentState=this.availableStates.inProgress}function Bh(){this.currentState=this.availableStates.completed}function Nh(){this.currentState=this.availableStates.queued}function Fh(){this.isSkipped=!0}var qh=function t(e){return c()(this,t),d()(this,"availableStates",{paused:1,pending:2,queued:3,inProgress:4,completed:5}),d()(this,"isSkipped",!1),d()(this,"currentState",void 0),d()(this,"core",void 0),d()(this,"public",{isPending:Th.bind(this),isPaused:Ih.bind(this),isInProgress:Rh.bind(this),isCompleted:Oh.bind(this),isQueued:Mh.bind(this),isSkipped:Dh.bind(this),setAsPending:Ph.bind(this),setAsPaused:Lh.bind(this),setAsInProgress:jh.bind(this),setAsCompleted:Bh.bind(this),setAsQueued:Nh.bind(this),setAsSkipped:Fh.bind(this)}),this.core=e,p(this.public,[new xh]),this.public},Vh=function t(){c()(this,t),d()(this,"index",void 0),d()(this,"name",void 0),d()(this,"startTime",void 0),d()(this,"remaining",void 0),d()(this,"duration",void 0),d()(this,"countOfPreloadedAds",void 0)};function Uh(t){var e=0;return this.adBreak.adQueue.getAllRealAds().forEach((function(t){e+=t.info.duration})),e}function Wh(){var t=0;return this.adBreak.adQueue.getAllPlayableAds().forEach((function(e){t+=e.info.remaining})),t}function zh(){return this.adBreak.adQueue.getAllRealAds().filter((function(t){if(t&&t.state.isStarted)return t}))}var Hh=function t(e,n,i,r){return c()(this,t),d()(this,"adBreak",void 0),d()(this,"core",void 0),d()(this,"public",{index:void 0,name:void 0,startTime:void 0,remaining:void 0,duration:void 0,countOfPreloadedAds:void 0}),d()(this,"info",{name:void 0,startTime:void 0,countOfPreloadedAds:0,getDuration:Uh.bind(this),getRemaining:Wh.bind(this),getAdsCompleted:zh.bind(this)}),this.core=e,this.adBreak=n,this.info.name=i,this.info.startTime=r,_(this,this.public,"index","info"),_(this,this.public,"startTime","info"),_(this,this.public,"countOfPreloadedAds","info"),C(this,this.public,"name","info"),C(this,this.public,"remaining","info"),C(this,this.public,"duration","info"),C(this,this.public,"adsCompleted","info"),p(this.public,[new Vh]),this.public},Qh=function(){function t(){c()(this,t)}return g()(t,[{key:"play",value:function(){}},{key:"preloadTime",value:function(){}},{key:"reset",value:function(){}}]),t}();function Kh(){return Yh.apply(this,arguments)}function Yh(){return(Yh=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.adBreak.state.setAsInProgress(),this.beforeBreak();case 2:if(!this.flow){t.next=5;break}return t.next=5,this.flow.checkPoint("nextAd");case 5:if(this.adBreak.adQueue.findNextAdToPlay(),!(e=this.adBreak.adQueue.activeAd)){t.next=12;break}return this.beforeAd(e),t.next=11,e.control.play();case 11:this.afterAd(e);case 12:if(e){t.next=2;break}case 13:this.adBreak.state.setAsCompleted(),this.afterBreak();case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gh(){return Jh.apply(this,arguments)}function Jh(){return(Jh=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.adBreak.adQueue.findNextAdToLoad(),!(e=this.adBreak.adQueue.nextAd)){t.next=11;break}if(this.adBreak.info.countOfPreloadedAds++,this.beforePreloadAd(e),!this.flow){t.next=8;break}return t.next=8,this.flow.checkPoint("loadingAd");case 8:return t.next=10,e.control.load();case 10:this.afterPreloadAd(e);case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Zh(){}function Xh(t){this.emiter.reached("breakStarted:breakManager",this.adBreak.info.name),this.eventManager.breakManager.breakStarted.reached(),this.eventManager.publicApi.breakStarted.reached()}function $h(){this.emiter.reached("breakCompleted:breakManager",this.adBreak.info.name),this.eventManager.breakManager.breakCompleted.reached(),this.eventManager.publicApi.breakCompleted.reached()}function tp(t){this.activeAd=t,this.preloadedAd=void 0,this.adPlayer.initialize(t),this.emiter.reached("incommingAd:breakManager",{adObject:t}),this.eventManager.breakManager.incommingAd.reached()}function ep(t){this.activeAd=void 0}function np(t){this.adPlayer.initialize(t)}function ip(t){t&&t.state.broken?this.preloadedAd=void 0:this.preloadedAd=t}function rp(){this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.flow=this.core.getComponent("flow"),this.breakManager=this.core.getComponent("breakManager"),this.adPlayer=this.core.getComponent("adPlayer")}var op=function t(e,n){return c()(this,t),d()(this,"adBreak",void 0),d()(this,"activeAd",void 0),d()(this,"preloadedAd",void 0),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"eventManager",void 0),d()(this,"breakManager",void 0),d()(this,"public",{play:Kh.bind(this),preloadTime:Gh.bind(this),reset:Zh.bind(this),name:"undefined"}),d()(this,"info",{name:"breakController"}),d()(this,"init",rp.bind(this)),d()(this,"beforeBreak",Xh.bind(this)),d()(this,"afterBreak",$h.bind(this)),d()(this,"beforeAd",tp.bind(this)),d()(this,"afterAd",ep.bind(this)),d()(this,"beforePreloadAd",np.bind(this)),d()(this,"afterPreloadAd",ip.bind(this)),this.core=e,this.adBreak=n,C(this,this.public,"name","info"),p(this.public,[new Qh]),this.init(),this.public};function ap(){this.public.adQueue.reset(),this.public.state.reset(),this.public.info.reset(),this.public.control.reset()}function sp(t){this.public.info.index=t}function cp(){this.public.adQueue.skipAllAds(),this.public.state.setAsSkipped()}function up(){this.public.state.setAsPending()}var dp=function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"public",{skip:cp.bind(this),initialize:up.bind(this),setIndex:sp.bind(this),reset:ap.bind(this),state:void 0,adQueue:void 0,control:void 0});var n=e.core,i=e.startUpTime,r=e.name;return this.core=n,this.public.adQueue=new Sh(this.core,this.public),this.public.state=new qh(this.core,this.public),this.public.info=new Hh(this.core,this.public,r,i),this.public.control=new op(this.core,this.public),p(this.public,[new lh]),this.public};function lp(){var t=this;this.public.state.setAsPending();var e=this.storage.useSpace("sponsorBoard"),n=this.createSponsorTrailer();this.public.adQueue.addToTop(n),this.public.adQueue.getAllPlayableAds().forEach((function(n){var i,r=(null==e?void 0:e.boardCounterText)?null==e?void 0:e.boardCounterText:null===(i=t.config.data.sponsorBoard)||void 0===i?void 0:i.defaultCounterText,o=n.vastObject.getExtra();o.CounterText=r,"boolean"!=typeof(null==e?void 0:e.boardCounterText)||(null==e?void 0:e.boardCounterText)||(o.CounterText=" "),"boolean"!=typeof(null==e?void 0:e.adCounterEnabled)||(null==e?void 0:e.adCounterEnabled)||(o.ShowCounter=!1)}))}function hp(){var t,e=new Hu(this.core),n=kc.toJSON('<VAST version="2.0">\r\n\t<Ad id="" campaignId="">\r\n\t\t<InLine>\r\n\t\t\t<AdSystem>TVN</AdSystem>\r\n\t\t\t<AdTitle>TVN Video Ad</AdTitle>\r\n\t\t\t<Creatives>\r\n\t\t\t\t<Creative>\r\n\t\t\t\t\t<Linear>\r\n\t\t\t\t\t\t<Duration>00:00:05</Duration>\r\n\t\t\t\t\t\t<MediaFiles>\r\n\t\t\t\t\t\t\t<MediaFile width="720" type="video/mp4" height="404" delivery="progressive"><![CDATA[]]></MediaFile>\r\n\t\t\t\t\t\t</MediaFiles>\r\n\t\t\t\t\t</Linear>\r\n\t\t\t\t</Creative>\r\n\t\t\t</Creatives>\r\n\t\t</InLine>\r\n\t</Ad>\r\n</VAST>\r\n'),i=null===(t=this.config.data.break[this.public.info.name])||void 0===t?void 0:t.sponsorBoardMovie;n.VAST.Ad.InLine.Creatives.Creative.Linear.MediaFiles.MediaFile._cdata=i;var r=e.toCompliant(n),o=new ld(this.core);return o.setJSON(r.compliant).extra(r.extra),o.getExtra().Break=this.public.info.name,o.getExtra().ShowCounter=!1,o.getExtra().CounterText="",o.getExtra().Duration=0,new yl({core:this.core,vastObject:o,canBePreloaded:!0,breakName:this.public.info.name,adIndex:void 0,isTrailer:!0,adBreak:this.public})}function pp(){var t,e,n,i=this.core.getComponent("adapter"),r=null==i?void 0:i.get();if(null==r||null===(t=r.sdk)||void 0===t||null===(e=t.config)||void 0===e||null===(n=e.call(t))||void 0===n?void 0:n.sponsorBoard){var o,a,s,c=this.storage.useSpace("sponsorBoard"),u=null===(o=r.sdk)||void 0===o||null===(a=o.config)||void 0===a||null===(s=a.call(o))||void 0===s?void 0:s.sponsorBoard;c.adCounterEnabled=u.adCounterEnabled,c.boardCounterText=u.sponsorInfoText,c.boardMove=u.sponsorBoardMovie}}var fp=function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"storage",void 0),d()(this,"config",void 0),d()(this,"public",{skip:cp.bind(this),initialize:lp.bind(this),setIndex:sp.bind(this),reset:ap.bind(this),info:void 0,state:void 0,adQueue:void 0,control:void 0}),d()(this,"createSponsorTrailer",hp.bind(this)),d()(this,"init",pp.bind(this));var n=e.core,i=e.startUpTime,r=e.name;return this.core=n,this.storage=this.core.getComponent("storage"),this.config=this.core.getComponent("config"),this.public.adQueue=new Sh(this.core,this.public),this.public.state=new qh(this.core,this.public),this.public.info=new Hh(this.core,this.public,r,i),this.public.control=new op(this.core,this.public),p(this.public,[new lh]),this.init(),this.public};function vp(){this.public.state.setAsPending()}var gp=function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"public",{skip:cp.bind(this),initialize:vp.bind(this),setIndex:sp.bind(this),reset:ap.bind(this),info:void 0,state:void 0,adQueue:void 0,control:void 0});var n=e.core,i=e.startUpTime,r=e.name;return this.core=n,this.public.adQueue=new Sh(this.core,this.public),this.public.state=new qh(this.core,this.public),this.public.info=new Hh(this.core,this.public,r,i),this.public.control=new op(this.core,this.public),p(this.public,[new lh]),this.public};function mp(){this.public.state.setAsPending()}var bp=function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"player",void 0),d()(this,"public",{skip:cp.bind(this),initialize:mp.bind(this),setIndex:sp.bind(this),reset:ap.bind(this),info:void 0,state:void 0,adQueue:void 0,control:void 0});var n=e.core,i=e.startUpTime,r=e.name;return this.core=n,this.public.adQueue=new Sh(this.core,this.public),this.public.state=new qh(this.core,this.public),this.public.info=new Hh(this.core,this.public,r,i),this.public.control=new op(this.core,this.public),p(this.public,[new lh]),this.public};function yp(){this.public.state.setAsPending()}var Ap=function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"public",{skip:cp.bind(this),initialize:yp.bind(this),setIndex:sp.bind(this),reset:ap.bind(this),info:void 0,state:void 0,adQueue:void 0,control:void 0});var n=e.core,i=e.startUpTime,r=e.name;return this.core=n,this.public.adQueue=new Sh(this.core,this.public),this.public.state=new qh(this.core,this.public),this.public.info=new Hh(this.core,this.public,r,i),this.public.control=new op(this.core,this.public),p(this.public,[new lh]),this.public},wp=n(29),kp=n.n(wp),Ep=n(22),Cp=n.n(Ep);function _p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Sp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Sp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var xp={normal:{used:{},free:{}},sponsor:{used:{},free:{}}},Tp=function(t,e){var n,i={},r=new Hu(e),o=e.getComponent("storage"),a=o.useSpace("breaksData").breaks,s=o.useSpace("counter"),c=e.getComponent("ivc"),u=e.getComponent("overlay"),d=e.getComponent("config"),l=[],h=[];Array.isArray(t.VAST.Ad)||(t.VAST.Ad=[t.VAST.Ad]),t.VAST.Ad.forEach((function(t){var n,o=r.toCompliant({VAST:{Ad:t}}),d=new ld(e);d.setJSON(o.compliant).extra(o.extra);var p=d.getExtra(),f=p.Break,v=parseInt(p.Position),g=p.AdType;if("sellout"===g)p.Duration=0;else if("Restboard"===f){var m=e.getComponent("restboard");m&&(m.restboardData=d)}if("ivc"===g&&c.setInitialData(p.IVC),u&&"overlay"===f.toLowerCase()&&u.addAdToQueue(d),a&&void 0!==a[f]){p.CounterText=s.counterText||(null===(n=s.additionalText1)||void 0===n?void 0:n.text);var b,y=a[f],A={core:e,name:f,startUpTime:y};switch(f){case"Preroll":b=new dp(A),i[f]=b;break;case"Midroll_1":case"Midroll_2":case"Midroll_3":b=new gp(A),i[f]=b;break;case"Preroll_Sponsor":case"Midroll_Sponsor_1":case"Midroll_Sponsor_2":case"Midroll_Sponsor_3":case"Postroll_Sponsor":b=new fp(A),i[f]=b;break;case"Midroll_Power_Spot":b=new bp(A),i[f]=b;break;case"Postroll":b=new Ap(A),i[f]=b;break;default:e.getComponent("logger").log({message:"TVN break builder. Can`t ",type:"error",component:"breakManager | Unknown break ".concat(f),method:"buildBreakList"})}v?l.push({prio:v-1,ad:d,break:f}):(void 0===h[f]&&(h[f]=[]),h[f].push(d))}})),l.forEach((function(t){void 0===h[t.break]?h[t.break]=[t.ad]:h[t.break].push(t.ad)})),function(t){Object.keys(t).forEach((function(e){xp.normal.used[e]=[],xp.sponsor.used[e]=[],t[e].forEach((function(t){var n=t.getExtra().Position;void 0!==n&&(n>=890?xp.sponsor.used[e].push(n):xp.normal.used[e].push(n))}))}))}(h),Object.keys(xp.normal.used).forEach((function(t){var e=xp.normal.used[t];e.length>0?xp.normal["max".concat(t)]=Math.max.apply(Math,Cp()(e)):xp.normal["max".concat(t)]=1})),Object.keys(xp.sponsor.used).forEach((function(t){var e=xp.sponsor.used[t];e.length>0?(xp.sponsor["max".concat(t)]=Math.max.apply(Math,Cp()(e)),xp.sponsor["min".concat(t)]=Math.min.apply(Math,Cp()(e))):(xp.sponsor["max".concat(t)]=1,xp.sponsor["min".concat(t)]=0)})),Object.keys(h).forEach((function(t){h[t].forEach((function(e){void 0===e.getExtra().Position&&(e.getExtra().Position=function(t,e){var n,i;if("sponsor"===t){var r=xp[t]["max".concat(e)]-xp[t]["min".concat(e)];i=Cp()(Array(r).keys()).map((function(t){return 900+ ++t}))}else"normal"===t&&(i=Cp()(Array(xp[t]["max".concat(e)]).keys()).map((function(t){return++t})));var o,a=xp[t].used[e].map((function(t){return parseInt(t)})),s=_p(i.entries());try{for(s.s();!(o=s.n()).done;){var c=kp()(o.value,2),u=c[0],d=c[1];if(d=parseInt(d),!a.includes(d)){xp[t].used[e].push(d),n=d;break}if(u===i.length-1&&!n){var l="sponsor"===t?900+u+2:u+2;xp[t].used[e].push(l),n=l}}}catch(t){s.e(t)}finally{s.f()}return n}("normal",t))}))})),Object.keys(h).forEach((function(t){h[t].sort((function(t,e){return t.getExtra().Position<e.getExtra().Position?-1:1}))})),Object.keys(h).forEach((function(t){var n=1;for(var r in h[t])if(i[t]){var o=h[t][r];o.applyPlugins();var a=o.getExtra().AdType,s=new yl({core:e,vastObject:o,canBePreloaded:"sellout"!==a&&void 0,breakName:t,adIndex:n,adBreak:i[t]});i[t].adQueue.addToBottom(s),n++}}));var p=null==d||null===(n=d.data)||void 0===n?void 0:n.break,f={},v=1,g=p?function(t,e){return p[t].order-p[e].order}:function(t,e){var n=i[t].info.startTime,r=i[e].info.startTime;return n<r?-1:n>r?1:0};return Object.keys(i).sort(g).forEach((function(t){f[t]=i[t],f[t].setIndex(v),f[t].initialize(),v++})),f},Rp={group1:{aocodetype:{present:!1,required:!0,overwrite:!1,platform:"Desktop"},midcnt:{present:!1,required:!1,overwrite:!0},predur:{present:!1,required:!1,overwrite:!1},postdur:{present:!1,required:!1,overwrite:!1},overdur:{present:!1,required:!1,overwrite:!0},mid1dur:{present:!1,required:!1,overwrite:!1},mid2dur:{present:!1,required:!1,overwrite:!1},mid3dur:{present:!1,required:!1,overwrite:!1},mid4dur:{present:!1,required:!1,overwrite:!1},mid5dur:{present:!1,required:!1,overwrite:!1},mid6dur:{present:!1,required:!1,overwrite:!1},mid7dur:{present:!1,required:!1,overwrite:!1},mid8dur:{present:!1,required:!1,overwrite:!1},mid9dur:{present:!1,required:!1,overwrite:!1},id:{present:!1,required:!0,overwrite:!1},s_id:{present:!1,required:!1,overwrite:!0},gaid:{present:!0,required:!1,overwrite:!1}},group2:{tvn_vod_trailer:{present:!0,required:!1,overwrite:!1},tvn_vod_embed:{present:!0,required:!1,overwrite:!1},catchup_no_fee:{present:!0,required:!1,overwrite:!1},tvn_vod_serie:{present:!0,required:!1,overwrite:!1},tvn_vod_season:{present:!0,required:!1,overwrite:!1},tvn_vod_episode:{present:!0,required:!1,overwrite:!1},vod_p_r:{present:!1,required:!1,overwrite:!1},tvn_login:{present:!1,required:!1,overwrite:!1},tvn_content_category:{present:!1,required:!0,overwrite:!1},tvn_vod_category:{present:!1,required:!1,overwrite:!1},tvn_collection:{present:!1,required:!1,overwrite:!1},tvn_vod_traffic_category:{present:!1,required:!1,overwrite:!1},tvn_content_source:{present:!1,required:!1,overwrite:!1},tvn_price:{present:!1,required:!1,overwrite:!1},tvn_vod_prepremiere:{present:!1,required:!1,overwrite:!1},tvn_vod_wonid:{present:!1,required:!1,overwrite:!1},tvn_terminal:{present:!1,required:!1,overwrite:!1},tvn_traffic_tags:{present:!1,required:!0,overwrite:!1},dai_ev_id:{present:!1,required:!1,overwrite:!1},access_model:{present:!1,required:!1,overwrite:!1},tvn_page:{present:!1,required:!1,overwrite:!0},tvn_traffic_category:{present:!1,required:!1,overwrite:!0},tvn_content_category2:{present:!1,required:!1,overwrite:!0},video_id:{present:!1,required:!1,overwrite:!0},tvn_owner:{present:!1,required:!1,overwrite:!0},tvn_terminal_partners:{present:!1,required:!1,overwrite:!0},tvn_partner_emb:{present:!1,required:!1,overwrite:!0},embed_id:{present:!1,required:!1,overwrite:!0}},group3:{w:{present:!1,required:!0,overwrite:!1},h:{present:!1,required:!0,overwrite:!1},x:{present:!1,required:!0,overwrite:!1},y:{present:!1,required:!0,overwrite:!1},tvn_player_size:{present:!1,required:!0,overwrite:!1}},group4:{tvn_device_type:{present:!1,required:!0,overwrite:!1},app_ver:{present:!1,required:!1,overwrite:!0},tvn_player_type:{present:!1,required:!0,overwrite:!0},os_ver:{present:!1,required:!1,overwrite:!0},mic:{present:!1,required:!1,overwrite:!0},share:{present:!1,required:!1,overwrite:!0},fcam:{present:!1,required:!1,overwrite:!0},ram:{present:!1,required:!1,overwrite:!0},mob_prog:{present:!1,required:!1,overwrite:!0},mei:{present:!1,required:!0,overwrite:!0},vis:{present:!1,required:!0,overwrite:!0},hub_ver:{present:!1,required:!1,overwrite:!1},tvn_vsurround:{present:!1,required:!1,overwrite:!1},ima:{present:!1,required:!1,overwrite:!1},sdk:{present:!1,required:!1,overwrite:!1},player_ver:{present:!1,required:!1,overwrite:!0},tvn_profile_param:{present:!0,required:!1,overwrite:!1},ttr:{present:!1,required:!1,overwrite:!0},pit:{present:!1,required:!1,overwrite:!0},db:{present:!1,required:!1,overwrite:!0},ADD_rodo:{present:!1,required:!1,overwrite:!0},REM_rodo:{present:!1,required:!1,overwrite:!0},em_re:{present:!1,required:!1,overwrite:!0},althc:{present:!1,required:!1,overwrite:!0},net:{present:!1,required:!1,overwrite:!0},gdpr:{present:!0,required:!1,overwrite:!0},gdprconsent:{present:!1,required:!1,overwrite:!0},gdpr_consent:{present:!0,required:!1,overwrite:!0},gdprconsentstr:{present:!1,required:!1,overwrite:!0}}};function Op(){return encodeURIComponent(this.core.getEnv().version)}function Mp(){var t=this.storage.useSpace("adRequest");return t.predur?t.predur:void 0}function Ip(){var t=this.storage.useSpace("adRequest");return t.mid1dur?t.mid1dur:void 0}function Dp(){var t=this.storage.useSpace("adRequest");return t.mid2dur?t.mid2dur:void 0}function Pp(){var t=this.storage.useSpace("adRequest");return t.mid3dur?t.mid3dur:void 0}function Lp(){var t=this.storage.useSpace("adRequest");return t.mid4dur?t.mid4dur:void 0}function jp(){var t=this.storage.useSpace("adRequest");return t.mid5dur?t.mid5dur:void 0}function Bp(){var t=this.storage.useSpace("adRequest");return t.mid6dur?t.mid6dur:void 0}function Np(){var t=this.storage.useSpace("adRequest");return t.mid7dur?t.mid7dur:void 0}function Fp(){var t=this.storage.useSpace("adRequest");return t.mid8dur?t.mid8dur:void 0}function qp(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.mid9dur)||void 0}function Vp(){var t=this.storage.useSpace("adRequest");return t.postdur?t.postdur:void 0}function Up(){var t=this.storage.useSpace("adRequest");return t.overdur?t.overdur:void 0}function Wp(){var t=this.storage.useSpace("adRequest"),e=this.core.getComponent("cookieMatching");if(t.isUsedCookieMatching)return!0===(null==e?void 0:e.isCookie)?void 0:1}function zp(){var t=this.storage.useSpace("adRequest"),e=this.core.getComponent("cookieMatching");if(t.isUsedCookieMatching)return!0===(null==e?void 0:e.isCookie)?void 0:2}function Hp(){var t=this.storage.useSpace("adRequest");return t.midcnt?t.midcnt:void 0}function Qp(){var t=this.storage.useSpace("ima").version;return t?encodeURIComponent(t):void 0}function Kp(){var t=this.storage.useSpace("adRequest");return t.w?t.w:void 0}function Yp(){var t=this.storage.useSpace("adRequest");return t.h?t.h:void 0}function Gp(){var t=this.storage.useSpace("adRequest");return t.x?t.x:void 0}function Jp(){var t=this.storage.useSpace("adRequest");return t.y?t.y:void 0}function Zp(){var t=this.player.width(),e=this.player.height(),n=t;return t/e>16/9&&(n=Math.round(e*(16/9))),n}function Xp(t){var e=t.pattern?t.pattern:"";return"".concat(e,"player5,nuvi2,sdk")}function $p(){var t,e,n=this.storage.useSpace("initialization"),i=null==n||null===(t=n.data)||void 0===t?void 0:t.appStartTime,r=(null==n||null===(e=n.data)||void 0===e?void 0:e.playerStartTime)-i;return Number.isInteger(r)?r:void 0}function tf(){var t,e=this.storage.useSpace("initialization"),n=(new Date).getTime()-(null==e||null===(t=e.data)||void 0===t?void 0:t.playerStartTime);return Number.isInteger(n)?n:void 0}function ef(){var t=this.storage.useHardSpace();return!0===(null==t?void 0:t.debug)?"on":void 0}function nf(){return this.session.id}function rf(){var t,e=this.storage.useSpace("initialization");return null==e||null===(t=e.data)||void 0===t?void 0:t.appVersion}function of(){var t,e=this.storage.useSpace("initialization");return null==e||null===(t=e.data)||void 0===t?void 0:t.playerVersion}function af(){var t=this.storage.useSpace("adRequest");return t.tvnVodEmbed?t.tvnVodEmbed:void 0}function sf(t){var e=this.storage.useSpace("adRequest");if(null==e?void 0:e.isUsedTvnPage){var n=null==t?void 0:t.pattern;return void 0===n&&(n=window.location.pathname+window.location.search),n=(n=n.replace(/^\//,"")).replace(/[?/,-]/g,"_")}}function cf(t){var e=this.storage.useSpace("adRequest");return null==e?void 0:e.gdprconsent}function uf(){var t=this.storage.useSpace("adRequest");return null==t?void 0:t.gdprconsentstr}function df(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.gdpr)?null==t?void 0:t.gdpr:void 0}function lf(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.gdpr_consent)?null==t?void 0:t.gdpr_consent:void 0}function hf(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.ADD_rodo)?null==t?void 0:t.ADD_rodo:void 0}function pf(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.REM_rodo)?null==t?void 0:t.REM_rodo:void 0}function ff(){var t=this.storage.useSpace("adRequest");return(null==t?void 0:t.vis)?null==t?void 0:t.vis:void 0}function vf(){var t=this.storage.useSpace("adRequest");return t.net?t.net:void 0}var gf=function(){function t(e){var n=this;c()(this,t),d()(this,"core",void 0),d()(this,"session",void 0),d()(this,"logger",void 0),d()(this,"player",void 0),d()(this,"adblockDetector",void 0),d()(this,"detector",void 0),d()(this,"adapter",void 0),d()(this,"storage",void 0),d()(this,"event",void 0),d()(this,"emiter",void 0),d()(this,"sources",{mei:function(){var t=n.core.getComponent("autoplayDetector");return null==t?void 0:t.mei},tvn_device_type:function(){var t=n.core.getComponent("platformDetector");return null==t?void 0:t.getPlatform()},sdk:Op.bind(this),em_re:Wp.bind(this),x:Gp.bind(this),y:Jp.bind(this),w:Kp.bind(this),h:Yp.bind(this),tvn_player_size:Zp.bind(this),tvn_player_type:Xp.bind(this),ima:Qp.bind(this),predur:Mp.bind(this),mid1dur:Ip.bind(this),mid2dur:Dp.bind(this),mid3dur:Pp.bind(this),mid4dur:Lp.bind(this),mid5dur:jp.bind(this),mid6dur:Bp.bind(this),mid7dur:Np.bind(this),mid8dur:Fp.bind(this),mid9dur:qp.bind(this),postdur:Vp.bind(this),midcnt:Hp.bind(this),pit:$p.bind(this),ttr:tf.bind(this),db:ef.bind(this),sid:ef.bind(this),s_id:nf.bind(this),app_ver:rf.bind(this),player_ver:of.bind(this),tvn_vod_embed:af.bind(this),tvn_page:sf.bind(this),gdprconsent:cf.bind(this),gdprconsentstr:uf.bind(this),gdpr:df.bind(this),gdpr_consent:lf.bind(this),ADD_rodo:hf.bind(this),REM_rodo:pf.bind(this),vis:ff.bind(this),althc:zp.bind(this),net:vf.bind(this),overdur:Up.bind(this)}),this.core=e,this.logger=this.core.getComponent("logger"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.player=e.getComponent("player"),this.storage=e.getComponent("storage"),this.session=e.getComponent("session")}return g()(t,[{key:"build",value:function(t){var e=t.name,n=t.data,i=t.pattern,r=i;return"object"!==h()(n)?i:(n.present&&void 0===i&&this.core.getComponent("logger"),"function"==typeof this.sources[e]&&(!n.overwrite&&i||(r=this.sources[e](t))),void 0!==r&&(r=e+"="+r+"/"),n.required,r)}}]),t}(),mf=function(){function t(e){c()(this,t),d()(this,"core",void 0),d()(this,"user",void 0),this.core=e,this.user=this.core.getComponent("user")}return g()(t,[{key:"getId",value:function(){var t;return null===(t=this.user)||void 0===t?void 0:t.getId()}},{key:"prepareProxyUrl",value:function(t){return t.replace("tvn.adocean.pl","proxy-tvn.adocean.pl:9024")+this.prepareProxyUrlParameters()}},{key:"prepareProxyUrlParameters",value:function(){return"ao-user-id=".concat(this.getId(),"&ao-user-agent=Mozilla/5.0&")}}]),t}(),bf=function(){function t(e,n){c()(this,t),d()(this,"core",void 0),d()(this,"params",void 0),d()(this,"validateUrlPattern","^(https:|http:)?//tvn.adocean.pl/.*ad.xml\\?"),d()(this,"buildStack",[]),d()(this,"buildStackParams",[]),d()(this,"url",void 0),d()(this,"original",void 0),d()(this,"dataSource",void 0),d()(this,"gemiusProxy",void 0),this.core=n,this.allowedParams=Rp,this.url=e,this.original=e,this.dataSource=new gf(n),this.gemiusProxy=new mf(n),this.prepareNewUrl(),this.buildFinalUrl()}return g()(t,[{key:"getNewUrl",value:function(){return this.url}},{key:"isDomainValid",value:function(){if("string"!=typeof this.url)return!1;var t=this.url.match(new RegExp(this.validateUrlPattern));if(!t)return!1;this.url=this.url.replace(t[0],"");var e=t[0];return this.gemiusProxy.getId()&&void 0!==window.gprun&&(e=this.gemiusProxy.prepareProxyUrl(e)),this.buildStack.push(e),!0}},{key:"prepareParams",value:function(){var t={},e=this.url.split("/");for(var n in e.forEach((function(e){if(""!==e){var n=e.split("=");t[n[0]]=n[1]}})),this.allowedParams)for(var i in this.allowedParams[n]){var r=this.dataSource.build({name:i,data:this.allowedParams[n][i],pattern:t[i]});r&&this.buildStackParams.push(r)}}},{key:"prepareNewUrl",value:function(){this.isDomainValid()&&this.prepareParams()}},{key:"buildFinalUrl",value:function(){var t=this.core.getComponent("cookieMatching"),e=this.core.getComponent("storage").useSpace("adRequest");this.buildStack.length>0&&this.buildStackParams.length>0?this.url=this.buildStack.join("")+this.buildStackParams.join("").replace(/\/$/,""):this.url=this.original,!(null==t?void 0:t.isCookie)&&e.isUsedCookieMatching&&(this.url=this.url.replace("://tvn.adocean.pl/","://recontent.services.tvn.pl/"))}}]),t}();function yf(){return Af.apply(this,arguments)}function Af(){return(Af=Es()(ws.a.mark((function t(){var e,n,i,r,o,a,s,c,u,d,l,h,p,f;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.core.getComponent("config"),r=this.core.getComponent("breakManager"),o=null===(e=i.data.adapter)||void 0===e?void 0:e.ad,a=this.core.getComponent("logger"),uh(o)){t.next=7;break}return a.log({message:"TVN driver config is not valid",type:"error",component:"breakManager | driver | tvn",method:"load"}),t.abrupt("return");case 7:return this.prepareBreaksData(),this.prepareAdRequestParameters(),s=o.driver.data.adserver,c=new bf(s,this.core),u=c.getNewUrl(),t.prev=12,t.next=15,Ec(u,this.http);case 15:d=t.sent,l=kc.toJSON(d),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(12),a.log({message:t.t0.message,type:"error"}),this.emiter.reached("masterVastLoadError:adsLoader");case 23:for(p in h={},dh(l)?h=Tp(l,this.core):(null===(n=l)||void 0===n?void 0:n.VAST)||(a.log({message:"Empty vast response",type:"error",component:"breakManager | driver | tvn",method:"load"}),a.debug("NOTICE","Component","adsLoader","Empty vast response")),h)f=h[p],r.setBreak(f),this.hasBreaks=!0;this.eventManager.publicApi.adDriverReady.reached(),this.eventManager.breakManager.driverLoaded.reached(),this.eventManager.sdk.adsLoaded.reached(),this.emiter.reached("adsLoaded");case 30:case"end":return t.stop()}}),t,this,[[12,19]])})))).apply(this,arguments)}function wf(){var t=this;new Bn("Bind adsLoader component events").do((function(){return t.public.load()})).once().withHistory().onSequence([this.eventManager.breakManager.loadDriverRequest,this.eventManager.breakManager.gdprUnlock,this.eventManager.cookieMatching.matched,this.eventManager.autoplayDetector.detected,this.eventManager.viewability.checkedInitVisibleArea])}function kf(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),new Bn("Initialize adsLoader component").do((function(){t.logger=t.core.getComponent("logger"),t.storage=t.core.getComponent("storage"),t.http=t.core.getComponent("http"),t.bindEvents()})).withHistory().once().onSequence([this.eventManager.sdk.httpReady])}var Ef=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"event",void 0),d()(this,"core",void 0),d()(this,"logger",void 0),d()(this,"storage",void 0),d()(this,"http",void 0),d()(this,"public",{load:yf.bind(this)}),d()(this,"init",kf.bind(this)),d()(this,"getBreakConfig",ah.bind(this)),d()(this,"bindEvents",wf.bind(this)),d()(this,"prepareAdRequestParameters",oh.bind(this)),d()(this,"prepareBreaksData",sh.bind(this)),d()(this,"prepareBreakDuration",ch.bind(this)),this.core=e,this.init(),this.public};function Cf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var _f=function(t){In()(n,t);var e=Cf(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"currentState","unknown"),d()(On()(t),"isReady",!1),d()(On()(t),"adapter",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"event",void 0),d()(On()(t),"emiter",void 0),d()(On()(t),"player",void 0),d()(On()(t),"core",void 0),t}return g()(n,[{key:"getComponentName",value:function(){return"adContainer"}},{key:"initialize",value:function(t){var e=this;this.core=t,this.bindAdContainerEvents(),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.adapter=this.core.getComponent("adapter").get(),this.eventManager=this.core.getComponent("eventManager"),this.event.onSequence({history:!0,events:["componentRegistered:player","configReady"],action:function(){e.player=e.core.getComponent("player"),e.config=e.core.getComponent("config"),e.setState("loaded"),e.reset(),e.isReady=!0,e.eventManager.sdk.adContainerReady.reached(),e.emiter.reached("componentRegistered:adContainer","adContainer"),e.setState("working")}})}},{key:"bindEvents",value:function(){}},{key:"bindAdContainerEvents",value:function(){var t=this,e=this.core.getComponent("eventManager");this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.event.onOneOf({events:["sizeChangeRequest"],action:function(e){var n,i,r=null===(n=e.extra.object)||void 0===n?void 0:n.width,o=null===(i=e.extra.object)||void 0===i?void 0:i.height;t.resize(r,o)}}),e.adblockDetector.detected.action(new Bn("CPM AdConatainer show on ad start on adblock detect").do((function(){t.show()}))),e.breakManager.breakSequenceStarted.action(new Bn("CPM AdConatainer show on ad start").do((function(){t.show()}))),e.breakManager.breakSequenceCompleted.action(new Bn("Hide AdConatainer on completed break sequence").do((function(){t.hide()}))),e.adContainer.showRequest.action(new Bn("Show AdConatainer on show request").do((function(){return t.show()}))),e.adContainer.hideRequest.action(new Bn("Hide AdConatainer on show request").do((function(){return t.hide()})))}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.adContainer.stateChanged.reached()}},{key:"hide",value:function(){this.htmlElement.style.display="none",this.eventManager.adContainer.hidden.reached()}},{key:"show",value:function(){var t=this.getHtmlElement();t.style.display="block",t.style.width=this.player.width()+"px",t.style.height=this.player.height()+"px",t.style.overflow="hidden",t.style.zIndex="999",this.eventManager.adContainer.visible.reached()}},{key:"decorate",value:function(){var t=this.getHtmlElement();t.style.backgroundColor="#000000",t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.left="0px",t.style.top="0px"}},{key:"getHtmlElement",value:function(){return this.htmlElement}},{key:"getUiElements",value:function(){return this.adapter.player.getUiElements()}},{key:"getBottomLayer",value:function(){return this.adapter.ad.getBottomLayer()}},{key:"getTopLayer",value:function(){return this.adapter.ad.getTopLayer()}},{key:"getSpecialLayer",value:function(){return this.adapter.ad.getSpecialLayer()}},{key:"resize",value:function(t,e){var n=this.getHtmlElement();n.style.width=t+"px",n.style.height=e+"px",this.eventManager.adContainer.resized.reached()}},{key:"setStyle",value:function(t,e){this.getHtmlElement().style[t]=e}},{key:"getConfig",value:function(){}},{key:"reset",value:function(){this.htmlElement=this.getBottomLayer(),this.hide(),this.decorate()}},{key:"depends",value:function(){return"adapter"}},{key:"ready",value:function(){return this.isReady}},{key:"getWidth",value:function(){return this.getHtmlElement().offsetWidth}},{key:"getHeight",value:function(){return this.getHtmlElement().offsetHeight}},{key:"isVisible",value:function(){return"none"!==this.getHtmlElement().style.display}}]),n}(Nn);function Sf(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentRegistered:config"],action:function(e){t.config=t.core.getComponent("config"),t.bindEvents()}})}function xf(){var t=this;this.event.onOneOf({events:["sdkOffline"],action:function(){return t.emiter.reached("showSpinnerRequest")}}),this.event.onOneOf({events:["sdkOnline"],action:function(){return t.emiter.reached("hideSpinnerRequest")}})}var Tf=function t(){c()(this,t)},Rf=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"config",void 0),d()(this,"public",{name:void 0}),d()(this,"setget",{name:"spinner"}),d()(this,"init",Sf.bind(this)),d()(this,"bindEvents",xf.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new Tf,new m]),this.init(),this.public},Of='\n    <!doctype html>\n    <html lang="en">\n        <head>\n            <meta charset="utf-8">\n            <meta http-equiv="x-ua-compatible" content="ie=edge">\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <script>\n                var scriptTag = document.createElement(\'script\');\n                scriptTag.src = "__CLI_URL__";\n                scriptTag.onload = function () {\n                    window.CLI = new AdTechSDKCli(__ID__);\n                    window.CLI.setHandler(window.parent);\n                }\n                var head = document.getElementsByTagName(\'head\')[0];\n                head.appendChild(scriptTag);\n            <\/script>\n        </head>\n        <body></body>\n    </html>',Mf=n(53),If=Object({host:"https://at-app.cdntvn.pl",publicPath:"https://at-app.cdntvn.pl/package/web/main/1.14.2",version:"1.14.2",packageVersion:"1.9.0",buildTime:1613048032e3,build:"production",debugToken:"dev",env:"portal",tag:"web-main",etag:"59b8b4ea2cd2a495ad38dd4e25615014",dirPath:""}),Df=function t(){var e,n;c()(this,t),this.show=function(){e&&(e.style.display="block")},this.hide=function(){e&&(e.style.display="none")},this.setStyle=function(t,n){e&&(e.style[t]=n)},this.getStyle=function(t){if(e)return e.style[t]},this.command=function(t,e){n.send(t,e)},this.getCli=function(){return n},this.create=function(t){return new Promise((function(i,r){e=document.createElement("iframe"),n=new Mf.a(yn());var o="".concat(If.host,"/package/").concat(If.dirPath,"lib/cli/").concat(If.version,"/app.js");e.src="data:text/html,"+encodeURIComponent(Of.replace("__CLI_URL__",o).replace("__ID__","'"+n.getId()+"'")),e.allowfullscreen="",e.scrolling="no",e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.border="0",e.style.opacity="1",e.style.margin="0px",e.style.padding="0px",e.style.position="absolute",e.style.top="0px",t.appendChild(e),e.onload=function(){n.setHandler(e.contentWindow),i()}}))}},Pf='<svg viewBox="0 0 21 16" width="21" height="16"><path fill="white" d="M0,2.97h20v-1.97h-20zM18,16h2v-13.03h-2zM16.02,9v-4.01h-4.02zM4.02,8.03v4.01h4.02zM0,14h2v-11h-2zM0,16h18v-2h-18z"></path></svg>\r\n\r\n',Lf=n(54),jf='<svg viewBox="0 0 28 18" width="28" height="18"><g fill="white"><path d="M0.99,11.98h4.02l6.97,5.04v-16.06l-6.97,5.04h-4.02z"></path><g><path d="M15,13h2v-8h-2z" opacity="1"></path><path d="M20,15h2v-12h-2z" opacity="1"></path><path d="M25,17h2.03v-15.97h-2.03z" opacity="1"></path></g><g><path d="M14.99,13.32l1.56,1.56l9.39,-9.32l-1.56,-1.56z" opacity="0"></path><path d="M24.43,15.03l1.57,-1.55l-9.37,-9.34l-1.57,1.55z" opacity="0"></path></g></g></svg>',Bf='<svg viewBox="0 0 28 18" width="28" height="18"><g fill="white"><path d="M0.99,11.98h4.02l6.97,5.04v-16.06l-6.97,5.04h-4.02z"></path><g><path d="M15,13h2v-8h-2z" opacity="0"></path><path d="M20,15h2v-12h-2z" opacity="0"></path><path d="M25,17h2.03v-15.97h-2.03z" opacity="0"></path></g><g><path d="M14.99,13.32l1.56,1.56l9.39,-9.32l-1.56,-1.56z" opacity="1"></path><path d="M24.43,15.03l1.57,-1.55l-9.37,-9.34l-1.57,1.55z" opacity="1"></path></g></g></svg>',Nf=jf.replace(/(\r\n|\n|\r)/gm,""),Ff=Bf.replace(/(\r\n|\n|\r)/gm,"");function qf(){var t=this.core.getComponent("breakManager").getFirstBreakInProgress();if(t){var e=t.adQueue.activeAd;if(e){var n=e.info.volume;this.sdkFrame.command("exec","\n      const volumeRangeBtn = document\n      .getElementById('volumeRange');\n      const controlsVolumeIcon = document.\n        getElementsByClassName('volumeControl__icon')[0];\n\n      volumeRangeBtn.value = '".concat(100*n,"';\n\n      volumeRangeBtn.style.background = 'linear-gradient(to right, #c4d333 0%, #c4d333 '+volumeRangeBtn.value +'%, #2d333d ' + volumeRangeBtn.value + '%, #2d333d 100%)';\n\n      if (volumeRangeBtn.value == 0) {\n        controlsVolumeIcon.innerHTML = '").concat(Ff,"';\n      } else {\n        controlsVolumeIcon.innerHTML = '").concat(Nf,"';\n      }\n    "))}}}var Vf=n(55),Uf=n.n(Vf),Wf=Pf.replace(/(\r\n|\n|\r)/gm,""),zf=jf.replace(/(\r\n|\n|\r)/gm,""),Hf=Bf.replace(/(\r\n|\n|\r)/gm,""),Qf=Uf.a.replace(/(\r\n|\n|\r)/gm,"");function Kf(){var t=this,e=this.sdkFrame.getCli();e.commands.togglePlayState=function(){var e=t.core.getComponent("breakManager"),n=t.core.getComponent("event"),i=e.getFirstBreakInProgress();if(i){var r=i.adQueue.activeAd;r&&(r.state.playing?n.emiter().reached("pause:adControl"):n.emiter().reached("resume:adControl"))}},e.commands.toggleFullscreen=function(){t.eventManager.publicApi.navFullScreenToggle.reached()};var n=!1;e.commands.volumeChange=function(e){var i=t.core.getComponent("breakManager").getFirstBreakInProgress();if(i){var r=i.adQueue.activeAd;r&&r.control.setVolume(e.data)}n||(t.eventManager.unmuteBtn.hide.reached(),n=!0)},e.commands.clearInterval=function(){clearInterval(t.navbarTimer)},this.sdkFrame.setStyle("width","100%"),this.sdkFrame.setStyle("height","70px"),this.sdkFrame.setStyle("top","auto"),this.sdkFrame.setStyle("bottom","0"),this.sdkFrame.setStyle("margin","0 0 -64px 0"),this.sdkFrame.setStyle("transition","200ms ease-in-out"),this.sdkFrame.command("exec","\n    CLI.commands.getWidth = () => {\n      CLI.send('width', '100%');\n      }\n    "),this.sdkFrame.command("exec","\n    CLI.commands.getHeight = () => {\n      CLI.send('height', '70px');\n      }\n    "),this.sdkFrame.command("exec","\n    const controlsWrapper = document.createElement('div');\n    const controlsRWrapper = document.createElement('div');\n    const buttonsWrapper = document.createElement('div');\n    const controls = document.createElement('div');\n    const controlsPlay = document.createElement('div');\n    const controlsVolume = document.createElement('div');\n    const controlsVolumeIcon = document.createElement('div');\n    const controlsVolumeRange = document.createElement('input');\n    controlsVolumeRange.type = 'range';\n    controlsVolumeRange.min = '0';\n    controlsVolumeRange.max = '100';\n    controlsVolumeRange.value = '100';\n    controlsVolumeRange.id = 'volumeRange';\n    const controlsFs = document.createElement('div');\n    controlsFs.innerHTML = '".concat(Wf,"';\n    const styleElem = document.createElement('style');\n    styleElem.type = 'text/css';\n\n    styleElem.appendChild(\n      document.createTextNode('").concat(Qf,"')\n    );\n\n    buttonsWrapper.className = 'buttonsWrapper';\n    controlsWrapper.className = 'controlsWrapper';\n    controlsRWrapper.className = 'controlsRWrapper';\n    controls.className = 'controls';\n    controlsPlay.className = 'controls__play';\n    controlsVolume.className = 'volumeControl';\n    controlsVolumeIcon.className = 'volumeControl__icon';\n    controlsVolumeRange.className = 'volumeControl__range';\n    controlsFs.className = 'controls__fs';\n    if (controlsVolumeRange.value == 0) {\n      controlsVolumeIcon.innerHTML = '").concat(Hf,"';\n    } else {\n      controlsVolumeIcon.innerHTML = '").concat(zf,"';\n    }\n\n    controlsVolume.appendChild(controlsVolumeIcon);\n    controlsVolume.appendChild(controlsVolumeRange);\n    controls.appendChild(controlsPlay);\n    controls.appendChild(controlsVolume);\n    controlsRWrapper.appendChild(controlsFs);\n    controls.appendChild(controlsRWrapper);\n\n    buttonsWrapper.appendChild(controls);\n    controlsWrapper.appendChild(buttonsWrapper);\n\n    document.body.appendChild(controlsWrapper);\n    document.head.appendChild(styleElem);\n\n    if (").concat("mobile"===this.platformDetector.getDevice().type,") {\n      buttonsWrapper.style.marginBottom = '0px';\n      controlsVolume.style.maxWidth = '180px';\n      controlsVolume.style.minWidth = '180px';\n      controlsVolumeRange.style.display = 'block';\n    }\n\n    controlsPlay.addEventListener('click', () => {\n      CLI.send('togglePlayState');\n    });\n\n    controlsFs.addEventListener('click', () => {\n      CLI.send('toggleFullscreen');\n    });\n\n    buttonsWrapper.addEventListener('mousemove', () => {\n      CLI.send('clearInterval');\n    });\n\n    controlsVolumeRange.addEventListener('input', function() {\n      this.style.background = 'linear-gradient(to right, #c4d333 0%, #c4d333 '+this.value +'%, #2d333d ' + this.value + '%, #2d333d 100%)'\n\n      if (this.value == 0) {\n        controlsVolumeIcon.innerHTML = '").concat(Hf,"';\n      } else {\n        controlsVolumeIcon.innerHTML = '").concat(zf,"';\n      }\n      CLI.send('volumeChange', (this.value/100));\n    });\n\n    controlsVolumeIcon.addEventListener('click', () => {\n      if (controlsVolumeRange.value > 0) {\n        controlsVolumeRange.value = 0;\n        controlsVolumeIcon.innerHTML = '").concat(Hf,"';\n      } else {\n        controlsVolumeRange.value = 100;\n        controlsVolumeIcon.innerHTML = '").concat(zf,"';\n      }\n\n      controlsVolumeRange.style.background = 'linear-gradient(to right, #c4d333 0%, #c4d333 '+controlsVolumeRange.value +'%, #2d333d ' + controlsVolumeRange.value + '%, #2d333d 100%)'\n\n      CLI.send('volumeChange', (controlsVolumeRange.value/100));\n    });\n\n  "))}function Yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Gf=Pf.replace(/(\r\n|\n|\r)/gm,""),Jf='<svg viewBox="0 0 21 16" width="21" height="16"><path fill="white" d="M1,1.97h16v-1.97h-16zM15,15h2v-13.03h-2zM10.01,2.97v4.02h4.02zM8.01,12.03v-4.01h-4.02zM1,13h2v-11h-2zM1,15h14v-2h-14z"></path></svg>'.replace(/(\r\n|\n|\r)/gm,""),Zf='<svg viewBox="0 0 36 36" width="36" height="36">\r\n  <path fill="white" d="M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28"></path>\r\n</svg>'.replace(/(\r\n|\n|\r)/gm,""),Xf='<svg viewBox="0 0 36 36" width="36" height="36"><path fill="white" d="M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26"></path></svg>'.replace(/(\r\n|\n|\r)/gm,""),$f=function(t){In()(n,t);var e=Yf(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"adapter",void 0),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"adContainer",void 0),d()(On()(t),"platformDetector",void 0),d()(On()(t),"sdkFrame",void 0),d()(On()(t),"navbarTimer",void 0),t}return g()(n,[{key:"initialize",value:function(t){var e=this;this.core=t,this.adapter=this.core.getComponent("adapter").get(),this.eventManager=this.core.getComponent("eventManager"),new Bn("Run init AdControls").do((function(){return e.init()})).withHistory().onOneOf([this.eventManager.sdk.adsManagerReady])}},{key:"init",value:function(){var t=this;this.adContainer=this.core.getComponent("adContainer"),this.platformDetector=this.core.getComponent("platformDetector"),this.sdkFrame=new Df,this.sdkFrame.create(this.adContainer.getHtmlElement()).then((function(){return Kf.call(t)})),this.isReady=!0,this.eventManager.sdk.adControlsReady.reached(),this.eventManager.uiControls.loadControlsRequest.reached()}},{key:"getComponentName",value:function(){return"adControls"}},{key:"bindEvents",value:function(t){var e=this;t.uiControls.loadControlsRequest.action(new Bn("adControls load controls").do((function(){e.sdkFrame.show();var t=e.adContainer.getHtmlElement();t.addEventListener("mouseover",(function(){clearTimeout(e.navbarTimer),e.openNavigation(),e.navbarTimer=setTimeout((function(){e.closeNavigation()}),Lf.timeToHideNav)})),t.addEventListener("mouseleave",(function(){e.closeNavigation(),clearTimeout(e.navbarTimer)}))}))),t.adsManager.started.action(new Bn("adControls started").do((function(){e.sdkFrame.command("exec","\n          const playBtn = document.getElementsByClassName('controls__play')[0];\n          playBtn.innerHTML = '".concat(Xf,"'\n        "))}))),t.adsManager.resumed.action(new Bn("adControls resumed").do((function(){e.sdkFrame.command("exec","\n          const playBtn = document.getElementsByClassName('controls__play')[0];\n          playBtn.innerHTML = '".concat(Xf,"'\n        "))}))),t.adsManager.paused.action(new Bn("adControls paused").do((function(){e.sdkFrame.command("exec","\n          const playBtn = document.getElementsByClassName('controls__play')[0];\n          playBtn.innerHTML = '".concat(Zf,"'\n        "))}))),t.adsManager.fullScreenToggle.action(new Bn("adControls fullScreenToggle").do((function(){e.sdkFrame.command("exec","\n          const fsBtn = document.\n            getElementsByClassName('controls__fs')[0];\n          if (fsBtn.innerHTML === '".concat(Gf,"') {\n            fsBtn.innerHTML = '").concat(Jf,"';\n          } else {\n            fsBtn.innerHTML = '").concat(Gf,"';\n          }\n        "))}))),t.adsManager.volumeChanged.action(new Bn("adControls volumeChanged").do((function(){return qf.call(e)})))}},{key:"getConfig",value:function(){}},{key:"depends",value:function(){return"eventManager"}},{key:"reset",value:function(){var t=this;Object.getOwnPropertyNames(this.properties).forEach((function(e){t.properties[e]=null}))}},{key:"ready",value:function(){return this.isReady}},{key:"rescaleRequest",value:function(){this.sdkFrame.command("getWidth"),this.sdkFrame.command("getHeight")}},{key:"openNavigation",value:function(){this.sdkFrame.setStyle("margin","0")}},{key:"closeNavigation",value:function(){this.sdkFrame.setStyle("margin","0 0 -64px 0")}}]),n}(Nn);function tv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var ev=function(t){In()(n,t);var e=tv(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"sdkFrame",void 0),d()(On()(t),"state","pending"),d()(On()(t),"core",void 0),d()(On()(t),"adapter",void 0),d()(On()(t),"storage",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"suffix",""),d()(On()(t),"debugModeColor","#F00"),d()(On()(t),"debugModeDefaultColor","#fff"),t}return g()(n,[{key:"bindEvents",value:function(t){var e=this;t.breakManager.breakSequenceStarted.action(new Bn("LayerCounterVisible").do((function(){e.sdkFrame.show(),e.rescaleRequest(),e.state="visible"}))),t.breakManager.breakSequenceCompleted.action(new Bn("LayerCounterHidden").do((function(){e.sdkFrame.hide(),e.sdkFrame.command("resetCounter"),e.state="hidden"}))),t.adCounter.show.action(new Bn("LayerCounterVisible").do((function(){e.sdkFrame.show(),e.rescaleRequest(),e.state="visible"}))),t.adCounter.hide.action(new Bn("LayerCounterHidden").do((function(){e.sdkFrame.hide(),e.state="hidden"}))),t.adsManager.currentTimeChanged.action(new Bn("LayerCounterTimeUpdate").do((function(){var t,n,i,r=Ga((t=e.core,n=t.getComponent("breakManager"),null==(i=null==n?void 0:n.getBreaksQueue())?void 0:i.getSequenceRemaining()));r&&(e.sdkFrame.command("updateCounter",r),e.rescaleRequest())}))),t.adsManager.started.action(new Bn("adCounter show/hide on starting ad").do((function(){var n=e.core.getComponent("breakManager").getFirstBreakInProgress();if(n){var i=n.adQueue.activeAd;if(i){var r,o,a=i.vastObject.getExtra(),s=function(t){var e,n=Xr(t),i=t.getComponent("config"),r=null===(e=t.getComponent("storage").useSpace("counter").additionalText1)||void 0===e?void 0:e.enabled;if(n&&!(void 0!==r&&!r)){var o=n.vastObject.getExtra(),a=o.CounterText?o.CounterText:i.data.counter.defaultText;return a=n.info.isInline?a:a+'<span style="color:yellow">.</span>'}return""}(e.core),c=e.core.getComponent("storage").useSpace("counter"),u=null===(r=c.adCounter)||void 0===r?void 0:r.enabled,d=null===(o=c.additionalText1)||void 0===o?void 0:o.enabled;void 0!==d&&!d?e.setSuffix(""):e.setSuffix(s);var l=void 0!==u&&!u;!a.ShowCounter||l?t.adCounter.hide.reached():a.ShowCounter&&!l&&"hidden"===e.state&&t.adCounter.show.reached()}}})))}},{key:"getComponentName",value:function(){return"adCounter"}},{key:"setSuffix",value:function(t){this.suffix=t,this.sdkFrame.command("exec","\n      const counterSuffix = document.getElementById('counterSuffix');\n      counterSuffix.innerHTML = '"+this.suffix+"';\n    ")}},{key:"rescaleRequest",value:function(){this.sdkFrame.command("getWidth"),this.sdkFrame.command("getHeight")}},{key:"applyCLI",value:function(){var t=this,e=this.sdkFrame.getCli();e.commands.width=function(e){t.sdkFrame.setStyle("width",e.data+1+"px")},e.commands.height=function(e){t.sdkFrame.setStyle("height",e.data+1+"px")},e.commands.setColor=function(e){t.sdkFrame.command("exec","\n        window.counter.style.color = '"+e+"';\n        ")},this.sdkFrame.command("exec","\n      CLI.commands.getWidth = function () {\n        CLI.send('width', counterWrapper.offsetWidth);\n        }\n      "),this.sdkFrame.command("exec","\n      CLI.commands.getHeight = function () {\n        CLI.send('height', counterWrapper.offsetHeight);\n        }\n      "),this.sdkFrame.command("exec","\n      const wrapper = document.createElement('div');\n\n      const counterWrapper = document.createElement('div');\n      const counter = document.createElement('span');\n      const suffix = document.createElement('span');\n      suffix.id = 'counterSuffix';\n\n      counterWrapper.appendChild(counter);\n      counterWrapper.appendChild(suffix);\n      wrapper.appendChild(counterWrapper);\n\n      wrapper.style.position = 'absolute';\n      counterWrapper.style.position = 'absolute';\n      counterWrapper.style.backgroundColor = '#000000b3';\n      counterWrapper.style.color = '#fff';\n      counterWrapper.style.padding = '5px';\n      counterWrapper.style.fontSize = '12px';\n      counterWrapper.style.fontFamily = 'source-sans-pro,sans-serif';\n      counterWrapper.style.borderBottomRightRadius = '6px';\n\n      wrapper.style.width = '2000px';\n\n      suffix.style.color = '#fff';\n      suffix.style.whiteSpace = 'nowrap';\n      counter.style.marginRight = '3px';\n      suffix.innerHTML = '"+this.suffix+"';\n\n      counter.style.color = '"+this.debugModeDefaultColor+"';\n      counter.innerHTML = '';\n\n      const body = document.getElementsByTagName('body')[0];\n      body.style.margin = '0px';\n      body.style.padding = '0px';\n      body.appendChild(wrapper);\n\n      window.counterWrapper = counterWrapper;\n      window.counter = counter;\n      window.suffix = suffix;\n    "),this.sdkFrame.command("exec","\n      CLI.commands.updateCounter = function (data) {\n          counter.innerHTML = data.data;\n        }\n      "),this.sdkFrame.command("exec","\n      CLI.commands.resetCounter = function () {\n          counter.innerHTML = '';\n          suffix.innerHTML = '';\n        }\n      ")}},{key:"getState",value:function(){return this.state}},{key:"getConfig",value:function(){}},{key:"initialize",value:function(t){var e,n,i,r,o,a,s,c,u,d,l=this;this.core=t,this.adContainer=this.core.getComponent("adContainer"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.storage=this.core.getComponent("storage"),this.adapter=this.core.getComponent("adapter").get();var h=this.storage.useSpace("counter");h.adCounter=null===(e=this.adapter)||void 0===e||null===(n=e.sdk)||void 0===n||null===(i=n.config)||void 0===i||null===(r=i.call(n))||void 0===r||null===(o=r.layers)||void 0===o?void 0:o.adCounter,h.additionalText1=null===(a=this.adapter)||void 0===a||null===(s=a.sdk)||void 0===s||null===(c=s.config)||void 0===c||null===(u=c.call(s))||void 0===u||null===(d=u.layers)||void 0===d?void 0:d.additionalText1,this.sdkFrame=new Df,this.sdkFrame.create(this.adContainer.getHtmlElement()).then((function(){l.applyCLI(),l.emiter.reached("adCounterReady")}))}},{key:"reset",value:function(){}},{key:"depends",value:function(){return"adapter"}},{key:"ready",value:function(){return this.isReady}},{key:"debugMode",value:function(t){var e=this.sdkFrame.getCli();switch(t){case!0:e.commands.setColor(this.debugModeColor);break;case!1:e.commands.setColor(this.debugModeDefaultColor)}}}]),n}(Nn);function nv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var iv=function(t){In()(n,t);var e=nv(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"sdkFrame",void 0),d()(On()(t),"state","pending"),d()(On()(t),"core",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"text",""),d()(On()(t),"url",""),d()(On()(t),"right","0"),d()(On()(t),"setRight",(function(e){t.sdkFrame.setStyle("right",e)})),t}return g()(n,[{key:"bindEvents",value:function(t){var e=this;t.breakManager.breakSequenceStarted.action(new Bn("LayerAdditionalText2Visible").do((function(){e.sdkFrame.show(),e.rescaleRequest(),e.state="visible"}))),t.breakManager.breakSequenceCompleted.action(new Bn("LayerAdditionalText2Hidden").do((function(){e.sdkFrame.hide(),e.state="hidden"}))),t.additionalText2.show.action(new Bn("LayerAdditionalText2Visible").do((function(){e.sdkFrame.show(),e.rescaleRequest(),e.state="visible"}))),t.additionalText2.hide.action(new Bn("LayerAdditionalText2Hidden").do((function(){e.sdkFrame.hide(),e.state="hidden"}))),t.adsManager.started.action(new Bn("additionalText2 show/hide on starting ad").do((function(){var n=e.core.getComponent("breakManager").getFirstBreakInProgress();if(n){var i,r=n.adQueue.activeAd;(null==r||null===(i=r.info)||void 0===i?void 0:i.isTrailer)&&t.additionalText2.hide.reached()}}))),t.adsManager.completed.action(new Bn("additionalText2 show/hide on completed ad").do((function(){return t.additionalText2.show.reached()})))}},{key:"getComponentName",value:function(){return"additionalText2"}},{key:"rescaleRequest",value:function(){this.sdkFrame.command("getWidth"),this.sdkFrame.command("getHeight")}},{key:"applyCLI",value:function(){var t=this,e=this.sdkFrame.getCli();e.commands.click=function(e){t.emiter.reached("pause:adControl,apiEvent")},e.commands.width=function(e){t.sdkFrame.setStyle("width",e.data+1+"px")},e.commands.height=function(e){t.sdkFrame.setStyle("height",e.data+1+"px")},this.sdkFrame.command("exec","\n      CLI.commands.getWidth = function () {\n        CLI.send('width', additionalText2Wrapper.offsetWidth);\n        }\n      "),this.sdkFrame.command("exec","\n      CLI.commands.getHeight = function () {\n        CLI.send('height', additionalText2Wrapper.offsetHeight);\n        }\n      "),this.sdkFrame.command("exec","\n      const wrapper = document.createElement('div');\n\n      const additionalText2Wrapper = document.createElement('div');\n      const text = document.createElement('span');\n      text.id = 'additionalText2Suffix';\n\n      additionalText2Wrapper.appendChild(text);\n      wrapper.appendChild(additionalText2Wrapper);\n\n      wrapper.style.position = 'relative';\n      additionalText2Wrapper.style.position = 'relative';\n      additionalText2Wrapper.style.backgroundColor = '#000000b3';\n      additionalText2Wrapper.style.color = '#fff';\n      additionalText2Wrapper.style.float = 'right';\n      additionalText2Wrapper.style.padding = '5px';\n      additionalText2Wrapper.style.fontSize = '12px';\n      additionalText2Wrapper.style.fontFamily = 'source-sans-pro,sans-serif';\n      additionalText2Wrapper.style.borderBottomLeftRadius = '6px';\n\n      wrapper.style.width = 'auto';\n\n      text.style.color = '#fff';\n      text.style.whiteSpace = 'nowrap';\n      text.innerHTML = '<a href=\""+this.url+'" target="_blank"\' +\n        \'style="color:#fff;text-decoration:none;">'+this.text+"</a>';\n\n      const body = document.getElementsByTagName('body')[0];\n      body.style.margin = '0px';\n      body.style.padding = '0px';\n      body.appendChild(wrapper);\n      body.addEventListener('click', function(event){CLI.send('click')});\n\n      window.additionalText2Wrapper = additionalText2Wrapper;\n      window.text = text;\n    "),this.eventManager.additionalText2.hide.reached()}},{key:"getState",value:function(){return this.state}},{key:"getConfig",value:function(){}},{key:"initialize",value:function(t){var e,n,i=this;this.core=t,this.adContainer=this.core.getComponent("adContainer"),this.event=this.core.getComponent("event"),this.eventManager=this.core.getComponent("eventManager"),this.emiter=this.event.emiter(this);var r=null===(e=t.getComponent("config").data.adapter.sdk)||void 0===e||null===(n=e.layers)||void 0===n?void 0:n.additionalText2;(null==r?void 0:r.enabled)&&(this.text=r.text,this.url=r.url),this.sdkFrame=new Df,this.sdkFrame.create(this.adContainer.getTopLayer()).then((function(){i.applyCLI(),i.setRight(i.right),i.emiter.reached("additionalText2Ready")}))}},{key:"reset",value:function(){}},{key:"depends",value:function(){return"adapter"}},{key:"ready",value:function(){return this.isReady}}]),n}(Nn),rv=n(56);function ov(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var av='<svg maxWidth="135px" viewBox="0 0 164 164" style="max-height: 140px; height: 70%">\r\n  <ellipse stroke="#FFFFFF" fill-opacity="0" ry="74.999998" rx="74.999998" cy="81.434794" cx="80.495268" stroke-width="10" fill="#000000"></ellipse>\r\n  <g fill="#FFFFFF">\r\n    <path d="m34.024077,92.634271l13.745803,0l23.832897,17.233544l0,-54.914825l-23.832897,17.233544l-13.745803,0l0,20.447737z"></path>\r\n    <g>\r\n      <path d="m81.929226,96.122012l6.838708,0l0,-27.354832l-6.838708,0l0,27.354832z"></path>\r\n      <path d="m99.025995,102.96072l6.838708,0l0,-41.032248l-6.838708,0l0,41.032248z"></path>\r\n      <path d="m116.122765,109.799427l6.941289,0l0,-54.607083l-6.941289,0l0,54.607083z"></path>\r\n    </g>\r\n  </g>\r\n</svg>'.replace(/(\r\n|\n|\r)/gm,""),sv=function(t){In()(n,t);var e=ov(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"sdkFrame",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"adapter",void 0),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"adContainer",void 0),t}return g()(n,[{key:"initialize",value:function(t){var e=this;this.core=t,this.adapter=this.core.getComponent("adapter").get(),this.eventManager=this.core.getComponent("eventManager"),this.adContainer=this.core.getComponent("adContainer"),this.sdkFrame=new Df,this.sdkFrame.create(this.adContainer.getHtmlElement()).then((function(){e.applyCLI()})),this.isReady=!0,this.eventManager.sdk.unmuteBtnReady.reached()}},{key:"getComponentName",value:function(){return"UnmuteBtn"}},{key:"getConfig",value:function(){}},{key:"bindEvents",value:function(t){var e=this;t.unmuteBtn.show.action(new Bn("Show unmuteBtn").do((function(){e.sdkFrame.show(),e.rescaleRequest()}))),t.unmuteBtn.hide.action(new Bn("Hide unmuteBtn").do((function(){e.sdkFrame.hide()})))}},{key:"depends",value:function(){return"adContainer"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"rescaleRequest",value:function(){this.sdkFrame.command("getWidth"),this.sdkFrame.command("getHeight")}},{key:"applyCLI",value:function(){var t=this,e=this.sdkFrame.getCli();e.commands.width=function(e){t.sdkFrame.setStyle("width",e.data)},e.commands.height=function(e){t.sdkFrame.setStyle("height",e.data)},e.commands.hide=function(){t.sdkFrame.hide();var e=t.core.getComponent("breakManager").getFirstBreakInProgress();if(e){var n=e.adQueue.activeAd;n&&(n.control.setVolume(1),t.eventManager.adsManager.volumeChanged.reached())}},this.sdkFrame.setStyle("width","100%"),this.sdkFrame.setStyle("height","100%"),this.sdkFrame.command("exec","\n      const unmuteWrapper = document.createElement('div');\n      const unmuteBtn = document.createElement('div');\n      const title = document.createElement('p');\n      const body = document.body;\n\n      title.innerHTML = '".concat(rv.unmuteBtnText,"';\n      title.style.color = '#FFF';\n      title.style.fontFamily = 'Open Sans';\n      title.style.fontSize = '18px';\n      title.style.marginTop = '0px';\n    \n      unmuteWrapper.style.width = '100%';\n      unmuteWrapper.style.height = '100%';\n      unmuteWrapper.style.position = 'absolute';\n      unmuteWrapper.style.display = 'flex';\n      unmuteWrapper.style.justifyContent = 'center';\n      unmuteWrapper.style.alignItems = 'center';\n      unmuteWrapper.style.zIndex = '99';\n      unmuteWrapper.style.cursor = 'pointer';\n    \n      unmuteBtn.style.display = 'block';\n      unmuteBtn.style.backgroundSize = 'contain';\n      unmuteBtn.style.textAlign = 'center';\n      unmuteBtn.style.maxHeight = '70%';\n      unmuteBtn.innerHTML = '").concat(av,"';\n      unmuteBtn.appendChild(title);\n\n      unmuteWrapper.addEventListener('click', () => {\n        CLI.send('hide');\n      });\n    \n      unmuteWrapper.appendChild(unmuteBtn);\n\n      body.style.margin = '0px';\n      body.style.padding = '0px';\n      body.appendChild(unmuteWrapper);\n    "))}}]),n}(Nn);function cv(){var t=this.core.getComponent("breakManager").getFirstBreakInProgress();if(t){var e,n,i=t.adQueue.activeAd.vastObject.getExtra().ViewableImpression,r=null==i||null===(e=i._attributes)||void 0===e?void 0:e.inscreenPercent,o=null==i||null===(n=i._attributes)||void 0===n?void 0:n.inscreenTime;this.visibility.requiredVisibility=r/100,this.visibility.requiredVisibilityTime=1e3*o}}var uv={adContainer:{fully:null,partly:null,mouseOver:null,scoreVisibility:null,scoreRequiredTime:!1,reachedPoints:[],reachedScopePoints:[],visibleTime:0,hiddenTime:0,tabTime:0,measureTime:0,visibleArea:null},pause:{start:null,end:null,duration:0,exists:!1},isCounting:!1,startCountingDate:null,isActiveTab:!0};Object.freeze(uv);var dv={visible:{startPoint:0,endPoint:0,timeSwitch:null},hidden:{startPoint:0,endPoint:0,timeSwitch:null},tab:{startPoint:0,endPoint:0,timeSwitch:null}};Object.freeze(dv);var lv=n(18);function hv(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Xr(this.core),n=null==e?void 0:e.vastObject.getExtra(),i=this.core.getComponent("breakManager"),r=this.core.getComponent("http"),o=i.getFirstBreakInProgress();if(o){var a,s,c,u,d,l=null==n||null===(a=n.ViewableImpression)||void 0===a||null===(s=a.TVNViewable)||void 0===s?void 0:s._cdata,h=null==n||null===(c=n.ViewableImpression)||void 0===c?void 0:c.Viewable,p=null==n||null===(u=n.ViewableImpression)||void 0===u?void 0:u.NotViewable,f=null===(d=this.visibility)||void 0===d?void 0:d.adContainer,v=this.visibility.pause.duration,g={credentials:"include",mode:"no-cors"};if((null==f?void 0:f.scoreRequiredTime)||this.visibility.adContainer.reachedScopePoints.length>0){var m="isn_t=".concat(this.visibility.adContainer.visibleTime-this.visibility.adContainer.reachedScopePoints[0]),b="isn_d=".concat(this.visibility.adContainer.reachedScopePoints[0]);l+="&extra=".concat(encodeURIComponent("".concat(b,"|").concat(m))),Array.isArray(h)&&h?h.forEach((function(t){r.fetch(null==t?void 0:t._cdata,g).catch((function(){}))})):r.fetch(null==h?void 0:h._cdata,g).catch((function(){}))}else{var y="nisninac_t=".concat(f.tabTime>v?f.tabTime-v:f.tabTime),A="nisnout_t=".concat(f.hiddenTime>v?f.hiddenTime-v:f.hiddenTime);if(t){var w=e.info.duration-e.info.remaining,k="nisn_t=".concat(w);l+="&extra=".concat(encodeURIComponent("".concat(y,"|").concat(A,"|").concat(k)))}else l+="&extra=".concat(encodeURIComponent("".concat(y,"|").concat(A)));if(Array.isArray(p)&&p)p.forEach((function(t){new Image(0,0).src=null==t?void 0:t._cdata}));else{var E=new Image(0,0);E.src=null==p?void 0:p._cdata}}return l=l.replace("[TIMESTAMP]",(new Date).getTime()),r.fetch(l,g).catch((function(){})),null}}var pv=function(){try{return window.self!==window.top}catch(t){return!0}},fv=function(t){var e=(null==t?void 0:t.getHtmlElement()).getBoundingClientRect(),n=e.top<0?e.top:0,i=e.right>window.innerWidth?window.innerWidth-e.right:0,r=e.bottom>window.innerHeight?window.innerHeight-e.bottom:0,o=e.left<0?e.left:0;return 100*(Math.floor(e.width+o+i)*Math.floor(e.height+n+r))/(e.width*e.height)};function vv(t,e){t.isVisible()?(fv(t)>=100*this.visibility.requiredVisibility?this.visibility[e].scoreVisibility=!0:this.visibility[e].scoreVisibility=!1,!0===this.visibility[e].scoreVisibility?this.eventManager.viewability["".concat(e,"VisibilityReached")].reached():this.eventManager.viewability["".concat(e,"VisibilityLost")].reached()):this.visibility[e].scoreVisibility=!1}function gv(t,e){var n=this,i=new IntersectionObserver((function(t){return r.call(n,t)}),{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),r=function(i){if(!t.isVisible())return n.visibility[e].fully=!1,n.visibility[e].partly=!1,void(n.visibility[e].scoreVisibility=!1);i[0].intersectionRatio>=n.visibility.requiredVisibility?(n.visibility[e].scoreVisibility=!0,n.eventManager.viewability["".concat(e,"VisibilityReached")].reached()):(n.visibility[e].scoreVisibility=!1,n.eventManager.viewability["".concat(e,"VisibilityLost")].reached())};pv()?i.observe(document.querySelector("body")):i.observe(this.adContainer.htmlElement)}function mv(t,e){var n=this,i=t.getHtmlElement();t.isVisible()?(i.onmouseover=function(){n.visibility[e].mouseOver=!0,n.eventManager.viewability["".concat(e,"MouseOver")].reached()},i.onmouseout=function(){n.visibility[e].mouseOver=!1,n.eventManager.viewability["".concat(e,"MouseLeave")].reached()}):this.visibility[e].mouseOver=!1}function bv(t){var e=document.visibilityState;"visible"===e&&this.visibility[t].scoreVisibility?(this.eventManager.viewability["".concat(t,"VisibilityReached")].reached(),this.visibility.isActiveTab=!0):"hidden"===e&&(this.eventManager.viewability["".concat(t,"VisibilityLost")].reached(),this.visibility.isActiveTab=!1)}function yv(t){var e,n,i,r=this.core.getComponent("storage"),o=document.visibilityState,a=pv()?(n=new IntersectionObserver((function(t){return i(t)}),{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),i=function(t){e=t[0].intersectionRatio},n.observe(document.querySelector("body")),e):fv(t);r&&(r.useSpace("adRequest").vis=a>=50&&"visible"===o?1:"0")}function Av(t,e){var n=this;lv.adContainerMouseOver&&window.addEventListener("mousemove",(function(){mv.call(n,t,e)})),lv.exitingPage&&document.addEventListener("visibilitychange",(function(){bv.call(n,e),yv.call(n,t)}))}function wv(t,e){var n=(new Date).getTime(),i=this.visibility[t].reachedPoints.length;(i>0?this.visibility[t].reachedPoints[i-1]:0)<=n-this.visibility.requiredVisibilityTime&&(this.visibility[t].reachedPoints.push(n),this.visibility[t].reachedScopePoints.push(kv(e)))}var kv=function(t){var e=t.info.remaining,n=t.info.duration-e;return Math.ceil(n)};function Ev(t,e){var n=this.visibility.requiredVisibilityTime;null===this.visibility.startCountingDate||this.visibility.pause.exists||(this.visibility.startCountingDate+=this.visibility.pause.duration,(new Date).getTime()-this.visibility.startCountingDate>=n&&this.visibility[t].scoreVisibility&&this.visibility.isActiveTab?(this.visibility[t].scoreRequiredTime=!0,this.visibility.isCounting=!0,wv.call(this,t,e),this.eventManager.viewability["".concat(t,"ScoreVisibilityTime")].reached()):this.visibility[t].scoreRequiredTime=!1)}function Cv(){var t=this.visibility.pause;t.start&&t.end&&(this.visibility.pause.duration+=t.end-t.start)}function _v(t){this.visibility[t].scoreVisibility&&!this.visibility.isCounting?(this.visibility.isCounting=!0,this.visibility.startCountingDate=(new Date).getTime()):(!this.visibility[t].scoreVisibility&&this.visibility.isCounting||this.visibility[t].scoreVisibility&&this.visibility.isCounting)&&(this.visibility.isCounting=!1,this.visibility.startCountingDate=(new Date).getTime())}function Sv(t,e,n){var i=(new Date).getTime();!e||null!==this.time[n].timeSwitch&&"end"!==this.time[n].timeSwitch?e||"start"!==this.time[n].timeSwitch||(this.time[n].endPoint=i,this.time[n].timeSwitch="end",0!==this.time[n].startPoint&&xv.call(this,n,t)):(this.time[n].startPoint=i,this.time[n].timeSwitch="start")}function xv(t,e){var n=this.time[t].endPoint-this.time[t].startPoint;"hidden"!==t||this.visibility.isActiveTab?"hidden"===t&&this.visibility.isActiveTab?this.visibility[e].hiddenTime+=n:this.visibility[e]["".concat(t,"Time")]+=n:this.visibility[e].tabTime+=n,this.visibility[e].measureTime+=n}function Tv(t,e,n,i){var r=this;e.viewability.measuringRequest.action(new Bn("Load viewability functions").do((function(){var e=i.getComponent("breakManager").getFirstBreakInProgress();if(e){var n=e.adQueue.activeAd;n&&(lv.adContainerVisibility&&(gv.call(r,t,"adContainer"),vv.call(r,t,"adContainer"),pv()||(window.addEventListener("scroll",(function(){vv.call(r,t,"adContainer"),yv.call(r,t)})),window.addEventListener("resize",(function(){vv.call(r,t,"adContainer"),yv.call(r,t)})))),Av.call(r,t,"adContainer"),r.visibility.pause.duration=0,r.visibilityTimer=window.setInterval((function(){t.isVisible()&&Ev.call(r,"adContainer",n)}),300))}}))),e.adContainer.hidden.action(new Bn("Lost viewability").do((function(){e.viewability.adContainerVisibilityLost.reached(),e.viewability.adContainerMouseLeave.reached()}))),new Bn("Connect mouse measuring events").do((function(){vv.call(r,t,"adContainer"),Av.call(r,t,"adContainer")})).withHistory().onSequence([e.adContainer.visible,e.viewability.measuringRequest]),new Bn("Set initial visible area").do((function(){return e.adContainer.showRequest.reached()})).once().withHistory().onSequence([e.sdk.viewabilityReady,e.sdk.adContainerReady,e.publicApi.breakStartRequest]),new Bn("Set initial visible area").do((function(){yv.call(r,t),e.adContainer.hideRequest.reached(),e.viewability.checkedInitVisibleArea.reached()})).withHistory().once().onOneOf([e.adContainer.visible]),new Bn("Switch visibility type; reached").do((function(){_v.call(r,"adContainer"),Sv.call(r,"adContainer",!0,"visible"),Sv.call(r,"adContainer",!1,"hidden")})).withHistory().onSequence([e.viewability.measuringRequest,e.viewability.adContainerVisibilityReached]),new Bn("Count times at the end").do((function(){var t,e;(null===(t=r.visibility)||void 0===t||null===(e=t.adContainer)||void 0===e?void 0:e.scoreVisibility)?Sv.call(r,"adContainer",!1,"visible"):Sv.call(r,"adContainer",!1,"hidden"),window.clearInterval(r.visibilityTimer),hv.call(r)})).onOneOf([e.adsManager.completed]),new Bn("Switch visibility type; lost").do((function(){_v.call(r,"adContainer"),Sv.call(r,"adContainer",!1,"visible"),Sv.call(r,"adContainer",!0,"hidden")})).onSequence([e.viewability.measuringRequest,e.viewability.adContainerVisibilityLost]),new Bn("Start measuring pause").do((function(){r.visibility.pause.start=(new Date).getTime(),r.visibility.pause.exists=!0,Sv.call(r,"adContainer",!1,"visible")})).withHistory().onSequence([e.viewability.measuringRequest,e.adsManager.paused]),new Bn("End measuring pause").do((function(){r.visibility.pause.end=(new Date).getTime(),Cv.call(r),r.visibility.pause.exists=!1,Sv.call(r,"adContainer",!0,"visible")})).withHistory().onSequence([e.viewability.measuringRequest,e.adsManager.resumed]),n.onOneOf({events:["sdkDestroy","beforeunload"],action:function(t,e){hv.call(r,!0),e.disable()}})}function Rv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Ov=function(t){In()(n,t);var e=Rv(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"currentState","unknown"),d()(On()(t),"visibilityTimer",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"core",void 0),d()(On()(t),"adContainer",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"requiredVisibility",void 0),d()(On()(t),"requiredVisibilityTime",void 0),d()(On()(t),"time",void 0),d()(On()(t),"visibility",void 0),d()(On()(t),"initVisibleArea",void 0),d()(On()(t),"event",void 0),d()(On()(t),"bindEvents",(function(){})),t}return g()(n,[{key:"initialize",value:function(t){var e=this;this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.adContainer=this.core.getComponent("adContainer"),this.event=this.core.getComponent("event"),lv.measuring?(Tv.call(this,this.adContainer,this.eventManager,this.event,this.core),this.eventManager.adsManager.started.action(new Bn("Initialize viewability").do((function(){e.time=JSON.parse(JSON.stringify(dv)),e.visibility=JSON.parse(JSON.stringify(uv)),cv.call(e),e.eventManager.viewability.measuringRequest.reached(),e.setState("working")})))):this.setState("stopped"),this.eventManager.sdk.viewabilityReady.reached(),this.isReady=!0,this.setState("loaded")}},{key:"getState",value:function(){return this.currentState}},{key:"updateVisParam",value:function(){yv.call(this,this.adContainer)}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.viewability.stateChanged.reached()}},{key:"getValue",value:function(t,e){return void 0===this.visibility[t][e]?null:this.visibility[t][e]}},{key:"depends",value:function(){return"adContainer"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"getComponentName",value:function(){return"Viewability"}},{key:"getConfig",value:function(){return{}}}]),n}(Nn),Mv=n(57);function Iv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Dv,Pv,Lv=function(t){In()(n,t);var e=Iv(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"currentState","unknown"),d()(On()(t),"adapter",void 0),d()(On()(t),"uaparser",void 0),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"deviceType",{MOBILE:"Smartfon",TABLET:"Tablet",DESKTOP:"Desktop",SMARTTV:"Smarttv"}),t}return g()(n,[{key:"initialize",value:function(t){this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.setState("loaded"),this.isReady=!0,this.eventManager.sdk.platformDetectorReady.reached(),this.eventManager.platformDetector.detectionRequest.reached()}},{key:"getComponentName",value:function(){return"PlatformDetector"}},{key:"getConfig",value:function(){return{}}},{key:"bindEvents",value:function(t){var e=this;t.platformDetector.detectionRequest.action(new Bn("platformDetector on detect request").do((function(){e.setState("working"),e.createUAParser()})))}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.platformDetector.stateChanged.reached()}},{key:"depends",value:function(){return"eventManager"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"getBrowser",value:function(){return this.uaparser.getBrowser()}},{key:"getDevice",value:function(){return this.uaparser.getDevice()}},{key:"getPlatform",value:function(){switch(this.uaparser.getDevice().type){case void 0:return this.deviceType.DESKTOP;case"mobile":return this.deviceType.MOBILE;case"tablet":return this.deviceType.TABLET}}},{key:"getOS",value:function(){return this.uaparser.getOS()}},{key:"getEngine",value:function(){return this.uaparser.getEngine()}},{key:"getUAInfo",value:function(){return this.uaparser.getResult()}},{key:"createUAParser",value:function(){this.uaparser=new Mv.UAParser,this.eventManager&&(this.uaparser?this.eventManager.platformDetector.detected.reached():(this.eventManager.platformDetector.notDetected.reached(),this.setState("error")))}}]),n}(Nn),jv=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Dv=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Dv.apply(n,t)}},t.id="FunctionToString",t}(),Bv=n(9),Nv=n(12);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Pv||(Pv={}));var Fv=function(){function t(t){var e=this;this._state=Pv.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Pv.RESOLVED,t)},this._reject=function(t){e._setResult(Pv.REJECTED,t)},this._setResult=function(t,n){e._state===Pv.PENDING&&(Object(Nv.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Pv.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Pv.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Pv.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,i){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,0===(r-=1)&&n(o)})).then(null,i)}))}else n([]);else i(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var i=this;return new t((function(t,r){i._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void r(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void r(t)}else r(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,i){var r,o;return n.then((function(t){o=!1,r=t,e&&e()}),(function(t){o=!0,r=t,e&&e()})).then((function(){o?i(r):t(r)}))}))},t}(),qv=n(13),Vv=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,n,i){var r=this;return void 0===i&&(i=0),new Fv((function(o,a){var s=t[i];if(null===e||"function"!=typeof s)o(e);else{var c=s(Bv.a({},e),n);Object(Nv.m)(c)?c.then((function(e){return r._notifyEventProcessors(t,e,n,i+1).then(o)})).then(null,a):r._notifyEventProcessors(t,c,n,i+1).then(o).then(null,a)}}))},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=Bv.a({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Bv.a({},this._tags,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Bv.a({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Bv.a({},this._extra,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return this._contexts=Bv.a({},this._contexts,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();if(t&&t.spanRecorder&&t.spanRecorder.spans[0])return t.spanRecorder.spans[0]},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Bv.d(e._breadcrumbs),n._tags=Bv.a({},e._tags),n._extra=Bv.a({},e._extra),n._contexts=Bv.a({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Bv.d(e._eventProcessors)),n},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Bv.a({},this._tags,e._tags),this._extra=Bv.a({},this._extra,e._extra),this._contexts=Bv.a({},this._contexts,e._contexts),e._user&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(Nv.h)(e)&&(e=e,this._tags=Bv.a({},this._tags,e.tags),this._extra=Bv.a({},this._extra,e.extra),this._contexts=Bv.a({},this._contexts,e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Bv.a({timestamp:Object(qv.l)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Bv.d(this._breadcrumbs,[n]).slice(-e):Bv.d(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=Bv.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Bv.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Bv.a({},this._user,t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Bv.a({},this._contexts,t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span&&(t.contexts=Bv.a({trace:this._span.getTraceContext()},t.contexts)),this._applyFingerprint(t),t.breadcrumbs=Bv.d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Bv.d(Uv(),this._eventProcessors),t,e)},t}();function Uv(){var t=Object(qv.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Wv(t){Uv().push(t)}var zv=Object(qv.f)(),Hv="Sentry Logger ",Qv=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(qv.c)((function(){zv.console.log(Hv+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(qv.c)((function(){zv.console.warn(Hv+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(qv.c)((function(){zv.console.error(Hv+"[Error]: "+t.join(" "))}))},t}();zv.__SENTRY__=zv.__SENTRY__||{};var Kv=zv.__SENTRY__.logger||(zv.__SENTRY__.logger=new Qv),Yv=function(){function t(t,e,n){void 0===e&&(e=new Vv),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:t,scope:e}),this.bindClient(t)}return t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.getStackTop();r&&r.client&&r.client[t]&&(e=r.client)[t].apply(e,Bv.d(n,[r.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=Vv.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(qv.m)(),i=e;if(!e){var r=void 0;try{throw new Error("Sentry syntheticException")}catch(t){r=t}i={originalException:t,syntheticException:r}}return this._invokeClient("captureException",t,Bv.a({},i,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this._lastEventId=Object(qv.m)(),r=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,Bv.a({},r,{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(qv.m)();return this._invokeClient("captureEvent",t,Bv.a({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var i=n.client.getOptions&&n.client.getOptions()||{},r=i.beforeBreadcrumb,o=void 0===r?null:r,a=i.maxBreadcrumbs,s=void 0===a?100:a;if(!(s<=0)){var c=Object(qv.l)(),u=Bv.a({timestamp:c},t),d=o?Object(qv.c)((function(){return o(u,e)})):u;null!==d&&n.scope.addBreadcrumb(d,Math.min(s,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=Jv(this);try{t(this)}finally{Jv(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Kv.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t){return this._callExtensionMethod("startTransaction",t)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Gv(),r=i.__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);Kv.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Gv(){var t=Object(qv.f)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Jv(t){var e=Gv(),n=$v(e);return tg(e,t),n}function Zv(){var t=Gv();return Xv(t)&&!$v(t).isOlderThan(3)||tg(t,new Yv),Object(qv.i)()?function(t){try{var e=Gv().__SENTRY__;if(!e||!e.extensions||!e.extensions.domain)return $v(t);var n=e.extensions.domain.active;if(!n)return $v(t);if(!Xv(n)||$v(n).isOlderThan(3)){var i=$v(t).getStackTop();tg(n,new Yv(i.client,Vv.clone(i.scope)))}return $v(n)}catch(e){return $v(t)}}(t):$v(t)}function Xv(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function $v(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Yv),t.__SENTRY__.hub}function tg(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var eg=n(19),ng=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ig=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Wv((function(e){var n=Zv();if(!n)return e;var i=n.getIntegration(t);if(i){var r=n.getClient(),o=r?r.getOptions():{},a=i._mergeOptions(o);if(i._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Kv.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(qv.d)(t)),!0):this._isIgnoredError(t,e)?(Kv.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(qv.d)(t)),!0):this._isDeniedUrl(t,e)?(Kv.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(qv.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Kv.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(qv.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(eg.a)(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return Object(eg.a)(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return Object(eg.a)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Bv.d(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Bv.d(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Bv.d(this._options.ignoreErrors||[],t.ignoreErrors||[],ng),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,r=e.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(e){return Kv.error("Cannot extract message for event "+Object(qv.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return Kv.error("Cannot extract url for event "+Object(qv.d)(t)),null}},t.id="InboundFilters",t}();var rg=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var og=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,rg(i,n.prototype),i}return Bv.b(e,t),e}(Error),ag=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,sg=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,i=e.path,r=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a},t.prototype._fromString=function(t){var e=ag.exec(t);if(!e)throw new og("Invalid Dsn");var n=Bv.c(e.slice(1),6),i=n[0],r=n[1],o=n[2],a=void 0===o?"":o,s=n[3],c=n[4],u=void 0===c?"":c,d="",l=n[5],h=l.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),l=h.pop()),l){var p=l.match(/^\d+/);p&&(l=p[0])}this._fromComponents({host:s,pass:a,path:d,projectId:l,port:u,protocol:i,user:r})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new og("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new og("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new og("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new og("Invalid Dsn: Invalid port "+this.port)},t}(),cg=n(14),ug=[];function dg(t){var e={};return function(t){var e=t.defaultIntegrations&&Bv.d(t.defaultIntegrations)||[],n=t.integrations,i=[];if(Array.isArray(n)){var r=n.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===r.indexOf(t.name)&&-1===o.indexOf(t.name)&&(i.push(t),o.push(t.name))})),n.forEach((function(t){-1===o.indexOf(t.name)&&(i.push(t),o.push(t.name))}))}else"function"==typeof n?(i=n(e),i=Array.isArray(i)?i:[i]):i=Bv.d(e);var a=i.map((function(t){return t.name}));return-1!==a.indexOf("Debug")&&i.push.apply(i,Bv.d(i.splice(a.indexOf("Debug"),1))),i}(t).forEach((function(t){e[t.name]=t,function(t){-1===ug.indexOf(t.name)&&(t.setupOnce(Wv,Zv),ug.push(t.name),Kv.log("Integration installed: "+t.name))}(t)})),e}var lg,hg=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new sg(e.dsn))}return t.prototype.captureException=function(t,e,n){var i=this,r=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){r=i.captureEvent(t,e,n)})),r},t.prototype.captureMessage=function(t,e,n,i){var r=this,o=n&&n.event_id;return this._processing=!0,(Object(Nv.i)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){o=r.captureEvent(t,n,i)})),o},t.prototype.captureEvent=function(t,e,n){var i=this,r=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){r=t&&t.event_id,i._processing=!1})).then(null,(function(t){Kv.error(t),i._processing=!1})),r},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=dg(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Kv.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new Fv((function(n){var i=0,r=0;clearInterval(r),r=setInterval((function(){e._processing?(i+=1,t&&i>=t&&n({interval:r,ready:!1})):n({interval:r,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var i=this,r=this.getOptions().normalizeDepth,o=void 0===r?3:r,a=Bv.a({},t,{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(qv.m)()),timestamp:t.timestamp||Object(qv.l)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=e;n&&n.captureContext&&(s=Vv.clone(s).update(n.captureContext));var c=Fv.resolve(a);return s&&(c=s.applyToEvent(a,n)),c.then((function(t){return"number"==typeof o&&o>0?i._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Bv.a({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Bv.a({},t,t.data&&{data:Object(cg.c)(t.data,e)})}))},t.user&&{user:Object(cg.c)(t.user,e)},t.contexts&&{contexts:Object(cg.c)(t.contexts,e)},t.extra&&{extra:Object(cg.c)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,i=e.release,r=e.dist,o=e.maxValueLength,a=void 0===o?250:o;void 0===t.environment&&void 0!==n&&(t.environment=n),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=Object(eg.d)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Object(eg.d)(s.value,a));var c=t.request;c&&c.url&&(c.url=Object(eg.d)(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._processEvent=function(t,e,n){var i=this,r=this.getOptions(),o=r.beforeSend,a=r.sampleRate;if(!this._isEnabled())return Fv.reject("SDK not enabled, will not send event.");var s="transaction"===t.type;return!s&&"number"==typeof a&&Math.random()>a?Fv.reject("This event has been sampled, will not send event."):new Fv((function(r,a){i._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;if(e&&e.data&&!0===e.data.__sentry__||!o||s)return i._sendEvent(n),void r(n);var c=o(t,e);if(void 0===c)Kv.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(Nv.m)(c))i._handleAsyncBeforeSend(c,r,a);else{if(null===(n=c))return Kv.log("`beforeSend` returned `null`, will not send event."),void r(null);i._sendEvent(n),r(n)}}else a("An event processor returned null, will not send event.")})).then(null,(function(t){i.captureException(t,{data:{__sentry__:!0},originalException:t}),a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))}))},t.prototype._handleAsyncBeforeSend=function(t,e,n){var i=this;t.then((function(t){null!==t?(i._sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(lg||(lg={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(lg||(lg={}));var pg,fg=function(){function t(){}return t.prototype.sendEvent=function(t){return Fv.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:lg.Skipped})},t.prototype.close=function(t){return Fv.resolve(!0)},t}(),vg=function(){function t(t){this._options=t,this._options.dsn||Kv.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new fg},t.prototype.eventFromException=function(t,e){throw new og("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new og("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){Kv.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();function gg(){if(!("fetch"in Object(qv.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function mg(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function bg(){if(!gg())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(pg||(pg={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(pg||(pg={}));var yg=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ag=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,wg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,kg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Eg=/\((\S*)(?::(\d+))(?::(\d+))\)/,Cg=/Minified React error #\d+;/i;function _g(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Cg.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(e=i.exec(o[s]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(o[s]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func="?"),a.push(c))}if(!a.length)return null;return{message:xg(t),name:t.name,stack:a}}(t))return Sg(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,i,r=[],o=t.stack.split("\n"),a=0;a<o.length;++a){if(n=yg.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Eg.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=wg.exec(o[a]))i={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Ag.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=kg.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(r[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func="?"),r.push(i)}if(!r.length)return null;return{message:xg(t),name:t.name,stack:r}}(t))return Sg(e,n)}catch(t){}return{message:xg(t),name:t&&t.name,stack:[],failed:!0}}function Sg(t,e){try{return Bv.a({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function xg(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Tg(t){var e=Og(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Rg(t){return{exception:{values:[Tg(t)]}}}function Og(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Mg(t,e,n){var i=Dg(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Object(qv.a)(i,{handled:!0,type:"generic"}),i.level=pg.Error,n&&n.event_id&&(i.event_id=n.event_id),Fv.resolve(i)}function Ig(t,e,n,i){void 0===n&&(n=pg.Info);var r=Pg(e,i&&i.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return r.level=n,i&&i.event_id&&(r.event_id=i.event_id),Fv.resolve(r)}function Dg(t,e,n){var i;if(void 0===n&&(n={}),Object(Nv.e)(t)&&t.error)return i=Rg(_g(t=t.error));if(Object(Nv.a)(t)||Object(Nv.b)(t)){var r=t,o=r.name||(Object(Nv.a)(r)?"DOMError":"DOMException"),a=r.message?o+": "+r.message:o;return i=Pg(a,e,n),Object(qv.b)(i,a),i}return Object(Nv.d)(t)?i=Rg(_g(t)):Object(Nv.h)(t)||Object(Nv.f)(t)?(i=function(t,e,n){var i={exception:{values:[{type:Object(Nv.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(cg.a)(t)}]},extra:{__serialized__:Object(cg.d)(t)}};if(e){var r=Og(_g(e).stack);i.stacktrace={frames:r}}return i}(t,e,n.rejection),Object(qv.a)(i,{synthetic:!0}),i):(i=Pg(t,e,n),Object(qv.b)(i,""+t,void 0),Object(qv.a)(i,{synthetic:!0}),i)}function Pg(t,e,n){void 0===n&&(n={});var i={message:t};if(n.attachStacktrace&&e){var r=Og(_g(e).stack);i.stacktrace={frames:r}}return i}function Lg(t,e){var n="transaction"===t.type,i={body:JSON.stringify(t),url:n?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(n){var r=JSON.stringify({event_id:t.event_id,sent_at:new Date(1e3*Object(qv.l)()).toISOString()})+"\n"+JSON.stringify({type:t.type})+"\n"+i.body;i.body=r}return i}var jg=function(){function t(t){this.dsn=t,this._dsnObject=new sg(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(cg.e)(t)},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+t+"/"+e),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var r in i.push("dsn="+e.toString()),t)if("user"===r){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return i.length?n+"?"+i.join("&"):n},t}(),Bg=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):Fv.reject(new og("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Fv((function(n){var i=setTimeout((function(){t&&t>0&&n(!1)}),t);Fv.all(e._buffer).then((function(){clearTimeout(i),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),Ng=function(){function t(t){this.options=t,this._buffer=new Bg(30),this._api=new jg(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new og("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),Fg=Object(qv.f)(),qg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return Bv.b(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=Lg(t,this._api),i={body:n.body,method:"POST",referrerPolicy:bg()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add(new Fv((function(t,r){Fg.fetch(n.url,i).then((function(n){var i=lg.fromHttpCode(n.status);if(i!==lg.Success){if(i===lg.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(qv.j)(o,n.headers.get("Retry-After"))),Kv.warn("Too many requests, backing off till: "+e._disabledUntil)}r(n)}else t({status:i})})).catch(r)})))},e}(Ng),Vg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return Bv.b(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=Lg(t,this._api);return this._buffer.add(new Fv((function(t,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var n=lg.fromHttpCode(r.status);if(n!==lg.Success){if(n===lg.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(qv.j)(o,r.getResponseHeader("Retry-After"))),Kv.warn("Too many requests, backing off till: "+e._disabledUntil)}i(r)}else t({status:n})}},r.open("POST",n.url),e.options.headers)e.options.headers.hasOwnProperty(o)&&r.setRequestHeader(o,e.options.headers[o]);r.send(n.body)})))},e}(Ng),Ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bv.b(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Bv.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):gg()?new qg(e):new Vg(e)},e.prototype.eventFromException=function(t,e){return Mg(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=pg.Info),Ig(this._options,t,e,n)},e}(vg);function Wg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Zv();if(i&&i[t])return i[t].apply(i,Bv.d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function zg(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Wg("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Hg(t,e){var n;try{throw new Error(t)}catch(t){n=t}var i="string"!=typeof e?{captureContext:e}:void 0;return Wg("captureMessage",t,"string"==typeof e?e:void 0,Bv.a({originalException:t,syntheticException:n},i))}function Qg(t){return Wg("captureEvent",t)}function Kg(t){Wg("configureScope",t)}function Yg(t){Wg("addBreadcrumb",t)}function Gg(t,e){Wg("setContext",t,e)}function Jg(t){Wg("setExtras",t)}function Zg(t){Wg("setTags",t)}function Xg(t,e){Wg("setExtra",t,e)}function $g(t,e){Wg("setTag",t,e)}function tm(t){Wg("setUser",t)}function em(t){Wg("withScope",t)}function nm(t){return Wg("startTransaction",Bv.a({},t))}var im=0;function rm(){return im>0}function om(){im+=1,setTimeout((function(){im-=1}))}function am(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var i=function(){var i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var r=i.map((function(t){return am(t,e)}));return t.handleEvent?t.handleEvent.apply(this,r):t.apply(this,r)}catch(t){throw om(),em((function(n){n.addEventProcessor((function(t){var n=Bv.a({},t);return e.mechanism&&(Object(qv.b)(n,void 0,void 0),Object(qv.a)(n,e.mechanism)),n.extra=Bv.a({},n.extra,{arguments:i}),n})),zg(t)})),t}};try{for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}catch(t){}t.prototype=t.prototype||{},i.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:i}),Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(t){}return i}function sm(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new jg(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Kv.error("Missing dsn option in showReportDialog call");else Kv.error("Missing eventId option in showReportDialog call")}var cm,um=Object(qv.f)(),dm={},lm={};function hm(t){if(!lm[t])switch(lm[t]=!0,t){case"console":!function(){if(!("console"in um))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in um.console&&Object(cg.b)(um.console,t,(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];fm("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,um.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in um))return;um.document.addEventListener("click",Am("click",fm.bind(null,"dom")),!1),um.document.addEventListener("keypress",wm(fm.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=um[t]&&um[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(cg.b)(e,"addEventListener",(function(t){return function(e,n,i){return n&&n.handleEvent?("click"===e&&Object(cg.b)(n,"handleEvent",(function(t){return function(e){return Am("click",fm.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Object(cg.b)(n,"handleEvent",(function(t){return function(e){return wm(fm.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&Am("click",fm.bind(null,"dom"),!0)(this),"keypress"===e&&wm(fm.bind(null,"dom"))(this)),t.call(this,e,n,i)}})),Object(cg.b)(e,"removeEventListener",(function(t){return function(e,n,i){try{t.call(this,e,n.__sentry_wrapped__,i)}catch(t){}return t.call(this,e,n,i)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in um))return;var t=XMLHttpRequest.prototype;Object(cg.b)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=e[1];i.__sentry_xhr__={method:Object(Nv.k)(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(Nv.k)(r)&&"POST"===i.__sentry_xhr__.method&&r.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var o=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}fm("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Object(cg.b)(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o(),t.apply(i,e)}})):i.addEventListener("readystatechange",o),t.apply(i,e)}})),Object(cg.b)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return fm("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!function(){if(!gg())return!1;var t=Object(qv.f)();if(mg(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(e=mg(i.contentWindow.fetch)),n.head.removeChild(i)}catch(t){Kv.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;Object(cg.b)(um,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:vm(e),url:gm(e)},startTimestamp:Date.now()};return fm("fetch",Bv.a({},i)),t.apply(um,e).then((function(t){return fm("fetch",Bv.a({},i,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw fm("fetch",Bv.a({},i,{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(t=Object(qv.f)(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState,n||!i)return;var t,e,n,i;var r=um.onpopstate;function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var r=cm,o=String(i);cm=o,fm("history",{from:r,to:o})}return t.apply(this,e)}}um.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=um.location.href,i=cm;if(cm=n,fm("history",{from:i,to:n}),r)return r.apply(this,t)},Object(cg.b)(um.history,"pushState",o),Object(cg.b)(um.history,"replaceState",o)}();break;case"error":km=um.onerror,um.onerror=function(t,e,n,i,r){return fm("error",{column:i,error:r,line:n,msg:t,url:e}),!!km&&km.apply(this,arguments)};break;case"unhandledrejection":Em=um.onunhandledrejection,um.onunhandledrejection=function(t){return fm("unhandledrejection",t),!Em||Em.apply(this,arguments)};break;default:Kv.warn("unknown instrumentation type:",t)}}function pm(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(dm[t.type]=dm[t.type]||[],dm[t.type].push(t.callback),hm(t.type))}function fm(t,e){var n,i;if(t&&dm[t])try{for(var r=Bv.e(dm[t]||[]),o=r.next();!o.done;o=r.next()){var a=o.value;try{a(e)}catch(e){Kv.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(qv.e)(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function vm(t){return void 0===t&&(t=[]),"Request"in um&&Object(Nv.g)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function gm(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in um&&Object(Nv.g)(t[0],Request)?t[0].url:String(t[0])}var mm,bm,ym=0;function Am(t,e,n){return void 0===n&&(n=!1),function(i){mm=void 0,i&&bm!==i&&(bm=i,ym&&clearTimeout(ym),n?ym=setTimeout((function(){e({event:i,name:t})})):e({event:i,name:t}))}}function wm(t){return function(e){var n;try{n=e.target}catch(t){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(mm||Am("input",t)(e),clearTimeout(mm),mm=setTimeout((function(){mm=void 0}),1e3))}}var km=null;var Em=null;var Cm=function(){function t(e){this.name=t.id,this._options=Bv.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Zv().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(qv.d)(t)},{event:t})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:pg.fromString(t.level),message:Object(eg.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(eg.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Zv().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(qv.h)(t.event.target):Object(qv.h)(t.event)}catch(t){e="<unknown>"}0!==e.length&&Zv().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;Zv().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Zv().addBreadcrumb({category:"fetch",data:t.fetchData,level:pg.Error,type:"http"},{data:t.error,input:t.args}):Zv().addBreadcrumb({category:"fetch",data:Bv.a({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(qv.f)(),n=t.from,i=t.to,r=Object(qv.k)(e.location.href),o=Object(qv.k)(n),a=Object(qv.k)(i);o.path||(o=r),r.protocol===a.protocol&&r.host===a.host&&(i=a.relative),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),Zv().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&pm({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Bv.d(e))},type:"console"}),this._options.dom&&pm({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Bv.d(e))},type:"dom"}),this._options.xhr&&pm({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Bv.d(e))},type:"xhr"}),this._options.fetch&&pm({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Bv.d(e))},type:"fetch"}),this._options.history&&pm({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Bv.d(e))},type:"history"})},t.id="Breadcrumbs",t}(),_m="sentry.javascript.browser",Sm="5.20.1",xm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ug,e)||this}return Bv.b(e,t),e.prototype._prepareEvent=function(e,n,i){return e.platform=e.platform||"javascript",e.sdk=Bv.a({},e.sdk,{name:_m,packages:Bv.d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Sm}]),version:Sm}),t.prototype._prepareEvent.call(this,e,n,i)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Cm);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Object(qv.f)().document&&(this._isEnabled()?sm(Bv.a({},t,{dsn:t.dsn||this.getDsn()})):Kv.error("Trying to call showReportDialog with Sentry Client disabled"))},e}(hg),Tm=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Rm=function(){function t(e){this.name=t.id,this._options=Bv.a({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=am(i,{mechanism:{data:{function:Object(qv.e)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,am(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(qv.e)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(qv.f)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(cg.b)(n,"addEventListener",(function(e){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=am(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:Object(qv.e)(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,am(i,{mechanism:{data:{function:"addEventListener",handler:Object(qv.e)(i),target:t},handled:!0,type:"instrument"}}),r)}})),Object(cg.b)(n,"removeEventListener",(function(t){return function(e,n,i){try{t.call(this,e,n.__sentry_wrapped__,i)}catch(t){}return t.call(this,e,n,i)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=["onload","onerror","onprogress","onreadystatechange"];return r.forEach((function(t){t in i&&"function"==typeof i[t]&&Object(cg.b)(i,t,(function(e){var n={mechanism:{data:{function:t,handler:Object(qv.e)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(qv.e)(e.__sentry_original__)),am(e,n)}))})),t.apply(this,e)}},t.prototype.setupOnce=function(){var t=Object(qv.f)();(this._options.setTimeout&&Object(cg.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(cg.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(cg.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(cg.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Tm).forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}(),Om=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Bv.a({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Kv.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Kv.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(pm({callback:function(n){var i=n.error,r=Zv(),o=r.getIntegration(t),a=i&&!0===i.__sentry_own_request__;if(o&&!rm()&&!a){var s=r.getClient(),c=Object(Nv.i)(i)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Dg(i,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(qv.a)(c,{handled:!1,type:"onerror"}),r.captureEvent(c,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(pm({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch(t){}var r=Zv(),o=r.getIntegration(t),a=i&&!0===i.__sentry_own_request__;if(!o||rm()||a)return!0;var s=r.getClient(),c=Object(Nv.i)(i)?e._eventFromIncompleteRejection(i):Dg(i,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=pg.Error,Object(qv.a)(c,{handled:!1,type:"onunhandledrejection"}),r.captureEvent(c,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,i){var r,o=Object(Nv.e)(t)?t.message:t;if(Object(Nv.k)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(r=a[1],o=a[2])}var s={exception:{values:[{type:r||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,i)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,a=Object(Nv.k)(e)&&e.length>0?e:Object(qv.g)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),Mm=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Wv((function(e,n){var i=Zv().getIntegration(t);return i?i._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(Nv.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Bv.d(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(Nv.g)(t[e],Error)||n.length+1>=this._limit)return n;var i=Tg(_g(t[e]));return this._walkErrorTree(t[e],e,Bv.d([i],n))},t.id="LinkedErrors",t}(),Im=Object(qv.f)(),Dm=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Wv((function(e){if(Zv().getIntegration(t)){if(!Im.navigator||!Im.location)return e;var n=e.request||{};return n.url=n.url||Im.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Im.navigator.userAgent,Bv.a({},e,{request:n})}return e}))},t.id="UserAgent",t}(),Pm=[new i.InboundFilters,new i.FunctionToString,new Rm,new Cm,new Om,new Mm,new Dm];function Lm(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Pm),void 0===t.release){var e=Object(qv.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&Kv.enable();var n=Zv(),i=new t(e);n.bindClient(i)}(xm,t)}function jm(t){void 0===t&&(t={}),t.eventId||(t.eventId=Zv().lastEventId());var e=Zv().getClient();e&&e.showReportDialog(t)}function Bm(){return Zv().lastEventId()}function Nm(){}function Fm(t){t()}function qm(t){var e=Zv().getClient();return e?e.flush(t):Fv.reject(!1)}function Vm(t){var e=Zv().getClient();return e?e.close(t):Fv.reject(!1)}function Um(t){return am(t)()}var Wm={},zm=Object(qv.f)();zm.Sentry&&zm.Sentry.Integrations&&(Wm=zm.Sentry.Integrations);var Hm=Bv.a({},Wm,i,r),Qm=n(32);function Km(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var Ym=function(t){In()(n,t);var e=Km(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"currentState","unknown"),d()(On()(t),"session",void 0),d()(On()(t),"isReady",!1),d()(On()(t),"core",void 0),d()(On()(t),"hub",void 0),d()(On()(t),"eventManager",void 0),t}return g()(n,[{key:"initialize",value:function(t){var e=this;this.core=t,this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.isReady=!0,this.setState("loaded");var n=this.core.getEnv(),i=n.branch,r=n.build,o=n.env,s=n.tag,c=n.etag,u=Qm[o]?Qm[o]:Qm.portal;Lm({dsn:u.sentryHost,environment:o,sampleRate:u.sampleRate,integrations:[new Hm.GlobalHandlers({onerror:!1,onunhandledrejection:!1}),new Hm.Breadcrumbs({console:!1,dom:!1,xhr:!0,fetch:!0,beacon:!1,history:!1})]}),Kg((function(t){var n,o;void 0!==s&&t.setTag("sdk.tag",s),(null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.hostname)&&t.setTag("sdk.hostname",window.location.hostname),t.setTag("sdk.build",r),t.setTag("sdk.etag",c),t.setTag("sdk.branch",i),t.setTag("sdk.version",e.core.getEnv().version)})),this.hub=new Yv(a),this.setState("working"),this.eventManager.sdk.sentryLoggerReady.reached(),this.emiter.reached("sentryReady")}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.sentryLogger.stateChanged.reached()}},{key:"getComponentName",value:function(){return"SentryLogger"}},{key:"getConfig",value:function(){return{}}},{key:"bindEvents",value:function(t){}},{key:"depends",value:function(){return"eventManager"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"log",value:function(t){var e=this,n=this.prepareLogMessage(t);em((function(i){var r=e.core.getComponent("player"),o=e.core.getComponent("adServer"),a=e.core.getComponent("storage"),s=e.core.getComponent("user"),c=e.core.getComponent("session"),u=null==a?void 0:a.useSpace("initialization");i.setTag("sdk.session",null==c?void 0:c.id),i.setTag("sdk.instance",null==c?void 0:c.instanceId),i.setTag("sdk.adServerId",null==o?void 0:o.adServerId),i.setTag("uuid",null==s?void 0:s.getId()),r&&(i.setTag("player.version",null==r?void 0:r.getVersion()),i.setTag("player.name",null==r?void 0:r.getName()));var d=null==u?void 0:u.data;d&&i.setExtra("initializationData",d),i.setExtra("event",t.additionalData),i.setExtra("env",e.core.getEnv()),"log"===(null==t?void 0:t.source)?(i.setFingerprint([t.message,t.component]),e.hub.captureMessage(n,t.type)):void 0!==t.type&&"error"!==t.type?e.hub.captureMessage(n,t.type):(e.hub.captureException(new Error(n)),e.setState("error"))}))}},{key:"prepareLogMessage",value:function(t){for(var e="",n=0,i=Object.entries(t);n<i.length;n++){var r=kp()(i[n],2),o=r[0],a=r[1];"string"==typeof a&&void 0!==a&&(e+=o+": "+a+" | ")}return e}}]),n}(Nn),Gm=function(){function t(){c()(this,t)}return g()(t,[{key:"getQueuedBreaks",value:function(){}},{key:"getBreaksInRange",value:function(){}},{key:"checkTimeLine",value:function(){}},{key:"getConfig",value:function(){}},{key:"setBreak",value:function(){}},{key:"watch",value:function(){}},{key:"getFirstBreakInProgress",value:function(){}},{key:"getFirstPendingBreak",value:function(){}},{key:"getBreaksState",value:function(){}},{key:"getAvailableBreaks",value:function(){}},{key:"getSummary",value:function(){}},{key:"getCurrentBreaksQueue",value:function(){}},{key:"getBreaksQueue",value:function(){}},{key:"reset",value:function(){}},{key:"hasAnyBreaksToPlay",value:function(){}},{key:"getBreakRemaining",value:function(){}},{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}}]),t}(),Jm=function(){function t(e){var n=this;c()(this,t),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"emiter",void 0),d()(this,"queue",{}),d()(this,"completed",[]),d()(this,"counter",0),d()(this,"busy",!1),d()(this,"breakInProgress",void 0),d()(this,"preloadedAd",void 0),d()(this,"breakManager",void 0),d()(this,"public",{add:function(t){n.queue[t.info.name]={break:t,order:n.counter},t.state.setAsQueued(),n.counter++},hasAnyBreakToPlay:function(){return!!Object.entries(n.queue).filter((function(t){return!t[1].break.state.isSkipped()})).length},preloadNextAd:function(){var t=n.breakInProgress;if(t&&t.adQueue.leftToPlay>0)return void t.control.preloadTime();for(var e in n.queue){var i=n.queue[e].break;if(!i.state.isSkipped())return void(i.adQueue.leftToPlay>0&&i.control.preloadTime())}},isBusy:function(){return!!n.busy},breaksQueuedToPlay:function(){return Object.entries(n.queue).map((function(t){var e,n;return(null==t||null===(e=t[1])||void 0===e||null===(n=e.break)||void 0===n?void 0:n.state.isSkipped())?void 0:t[1].break})).filter((function(t){return!!t}))},queuedBreaks:function(){var t=[];return Object.keys(n.queue).forEach((function(e){var i={type:e,ads:n.queue[e].break.adQueue.size};t.push(i)})),t},completedBreaks:function(){var t=[];return n.completed.forEach((function(e){var n,i,r={type:e.info.name,ads:null==e||null===(n=e.info)||void 0===n||null===(i=n.adsCompleted)||void 0===i?void 0:i.length};t.push(r)})),t},play:function(){!n.busy&&Object.keys(n.queue).length>0&&n.playQueue()},getActiveBreak:function(){return n.breakInProgress},getSequenceRemaining:function(){for(var t=0,e=0,i=Object.values(n.queue);e<i.length;e++){t+=i[e].break.info.remaining}return n.breakInProgress&&(t+=n.breakInProgress.info.remaining),t},reset:function(){n.breakInProgress&&n.breakInProgress.control.reset(),n.breakInProgress=void 0,n.queue={},n.completed=[],n.counter=0,n.busy=!1}}),this.core=e;var i=this.core.getComponent("config");return this.preloadTime=i.data.ads.preloadTime,this.shortPreloadTime=i.data.ads.shortPreloadTime,this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.bindEvents(),this.public}var e;return g()(t,[{key:"pop",value:function(){var t,e;for(var n in this.queue)(void 0===t||e>this.queue[n].order)&&(e=this.queue[n].order,t=this.queue[n].break,delete this.queue[n]);return t?t.state.isSkipped()?this.pop():t:void 0}},{key:"playQueue",value:(e=Es()(ws.a.mark((function t(){var e,n,i,r,o;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.core.getComponent("eventManager"),this.emiter.reached("incommingBreaks:breakManager"),0!==(n=this.public.breaksQueuedToPlay()).length){t.next=5;break}return t.abrupt("return");case 5:this.emiter.reached("breakSequenceStarted:breakManager",{object:n}),e.breakManager.breakSequenceStarted.reached(),e.publicApi.breakSequenceStarted.reached(),i=!0;case 9:if(!(r=this.breakInProgress=this.pop())){t.next=17;break}return this.busy=!0,t.next=14,r.control.play();case 14:this.completed.push(this.breakInProgress),t.next=18;break;case 17:i=!1;case 18:if(i){t.next=9;break}case 19:o=Yr(this.core),this.busy=!1,this.emiter.reached("breakSequenceCompleted:breakManager",o),e.publicApi.breakSequenceCompleted.reached(),e.breakManager.breakSequenceCompleted.reached(),this.breakInProgress=void 0,this.completed=[];case 26:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"bindEvents",value:function(){var t=this,e=this.core.getComponent("eventManager");new Bn("COM breakManager run preload monitor").frequency(2).do((function(){return t.checkPreloadTime()})).onOneOf([e.adsManager.currentTimeChanged])}},{key:"checkPreloadTime",value:function(){var t=this.breakInProgress;if(t){var e=t.adQueue.activeAd;if(e){var n=e.info.remaining;e.info.duration<=this.preloadTime&&(this.preloadTime=this.shortPreloadTime),n<=this.preloadTime&&this.public.preloadNextAd()}}}}]),t}();function Zm(){var t=this;this.eventManager=this.core.getComponent("eventManager"),(new Bn).do((function(){t.queue=new Jm(t.core),t.adapter=t.core.getComponent("adapter"),t.gdpr=t.core.getComponent("gdpr"),t.player=t.core.getComponent("player"),t.autoplayDetector=t.core.getComponent("autoplayDetector"),t.event=t.core.getComponent("event"),t.emiter=t.event.emiter(t.public),t.bindSharedEvents(),t.bindWebEvents(),t.public.setState("loaded")})).once().withHistory().onSequence([this.eventManager.sdk.adapterReady,this.eventManager.sdk.gdprReady,this.eventManager.sdk.playerReady,this.eventManager.sdk.autoplayDetectorReady])}function Xm(){var t=this;new Bn("COM breakManager action on driverLoaded. Clear timeoutHandler").do((function(){return clearTimeout(void 0)})).onOneOf([this.eventManager.breakManager.driverLoaded,this.eventManager.breakManager.driverLoadError]),new Bn("COM breakManager action | start break monitor").do(Es()(ws.a.mark((function e(){return ws.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.public.watch());case 1:case"end":return e.stop()}}),e)})))).withHistory().once().onSequence([this.eventManager.breakManager.driverLoaded,this.eventManager.sdk.adPlayerReady,this.eventManager.publicApi.breakStartRequest]),new Bn("COM breakManager allBreaksCompleted event").do((function(){t.public.hasAnyBreaksToPlay()||(t.emiter.reached("allBreaksCompleted"),t.eventManager.publicApi.allBreaksCompleted.reached())})).onOneOf([this.eventManager.publicApi.breakSequenceCompleted]),new Bn("COM breakManager actino on break sequence start").do((function(){t.eventManager.player.pauseContentRequest.reached(),t.emiter.reached("pauseContentRequest")})).onOneOf([this.eventManager.breakManager.breakSequenceStarted]),new Bn("COM breakManager actino on break sequence completed").do((function(){t.eventManager.player.playContentRequest.reached(),t.emiter.reached("playContentRequest")})).onOneOf([this.eventManager.breakManager.breakSequenceCompleted]),new Bn("COM breakManager action on loadDriverRequest").do((function(){t.eventManager.player.playContentRequest.reached(),t.emiter.reached("playContentRequest")})).onOneOf([this.eventManager.breakManager.driverLoadError]),new Bn("COM breakManager action on driverLoadTimeout").do((function(){return t.eventManager.breakManager.driverLoadError.reached()})).onOneOf([this.eventManager.breakManager.driverLoadTimeout]),new Bn("COM breakManager resume request").do((function(){return t.public.getBreaksQueue().resume()})).onOneOf([this.eventManager.breakManager.resumeRequest])}function $m(){}function tb(){return this.info.state}function eb(t){this.breaks[t.info.name]=t}function nb(){var t=this;this.event.onOneOf({events:["contentTimeChanged"],action:this.public.checkTimeLine}),this.event.onOneOf({events:["contentStateChanged:completed"],action:function(){for(var e=0,n=Object.values(t.breaks);e<n.length;e++){var i=n[e];i.state.isPending()&&t.queue.add(i)}t.queue.play()}}),this.public.checkTimeLine()}function ib(){for(var t in this.breaks){var e=this.breaks[t];if(e.state.isInProgress()||e.state.isPaused())return e}}function rb(){for(var t in this.breaks){var e=this.breaks[t];if(e.state.isPending())return e}}function ob(){var t={};for(var e in this.breaks){var n=this.breaks[e];if(!n.state.isSkipped()){var i=void 0;n.state.isQueued()||n.state.isPending()?i="pending":n.state.isInProgress()?i="inProgress":n.state.isCompleted()?i="completed":n.state.isPaused()&&(i="paused"),t[e]={startTime:n.info.startTime,ads:n.adQueue.size,state:i}}}return t}function ab(){var t={};for(var e in this.breaks){var n=this.breaks[e];n.state.isSkipped()||(t[e]={startTime:n.info.startTime,ads:n.adQueue.size})}return t}function sb(t,e){return Object.entries(this.breaks).filter((function(n,i,r){var o=n[1];return o.info.startTime>=t&&o.info.startTime<=e&&!o.state.isSkipped()}))}function cb(){return Object.entries(this.breaks).filter((function(t,e,n){var i=t[1];return i.state.isQueued()&&!i.state.isSkipped()}))}function ub(){}function db(){return this.queue}function lb(){return this.queue}function hb(){this.queue.reset(),this.breaks={}}function pb(){for(var t=0,e=Object.values(this.breaks);t<e.length;t++){if(e[t].state.isPending())return!0}return!1}function fb(){for(var t=0,e=0,n=Object.values(this.breaks);e<n.length;e++){var i=n[e];if(i.state.isPaused()||i.state.isInProgress()||i.state.isQueued()){var r=i.info.remaining;if("number"!=typeof r)return;t+=r}}return t}function vb(){return gb.apply(this,arguments)}function gb(){return(gb=Es()(ws.a.mark((function t(){var e,n,i,r,o;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.currentTime(),n=0,i=Object.values(this.breaks);case 2:if(!(n<i.length)){t.next=11;break}if(r=i[n],void 0!==(o=r.info.startTime)&&r.state.isPending()&&!r.state.isSkipped()){t.next=7;break}return t.abrupt("continue",8);case 7:o<=e&&this.queue.add(r);case 8:n++,t.next=2;break;case 11:this.queue.hasAnyBreakToPlay()?this.queue.play():"pending"===this.player.state()&&this.emiter.reached("playContentRequest");case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function mb(){var t=this;new Bn("COM breakManager. Unlock driverLoader if gdpr ready.").do((function(){return t.eventManager.breakManager.gdprUnlock.reached()})).withHistory().once().onOneOf([this.eventManager.gdpr.consentDataReady]),new Bn("COM breakManager load driver request").do((function(){t.eventManager.autoplayDetector.detectRequest.reached(),t.eventManager.breakManager.loadDriverRequest.reached()})).onSequence([this.eventManager.publicApi.breakStartRequest,this.eventManager.adsManager.imaSdkLoaded])}var bb=function t(e){return c()(this,t),d()(this,"driver",void 0),d()(this,"breaks",{}),d()(this,"breakSequenceStarted",!1),d()(this,"breakinProgress",void 0),d()(this,"queue",void 0),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"adapter",void 0),d()(this,"gdpr",void 0),d()(this,"event",void 0),d()(this,"player",void 0),d()(this,"autoplayDetector",void 0),d()(this,"public",{getBreaksInRange:sb.bind(this),getQueuedBreaks:cb.bind(this),checkTimeLine:vb.bind(this),getConfig:$m.bind(this),setBreak:eb.bind(this),watch:nb.bind(this),getFirstBreakInProgress:ib.bind(this),getFirstPendingBreak:rb.bind(this),getBreaksState:ob.bind(this),getAvailableBreaks:ab.bind(this),getSummary:ub.bind(this),getCurrentBreaksQueue:db.bind(this),getBreaksQueue:lb.bind(this),reset:hb.bind(this),hasAnyBreaksToPlay:pb.bind(this),getBreakRemaining:fb.bind(this),getState:tb.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"init",Zm.bind(this)),d()(this,"bindSharedEvents",Xm.bind(this)),d()(this,"bindWebEvents",mb.bind(this)),d()(this,"info",{name:"breakManager"}),C(this,this.public,"name","info"),p(this.public,[new Gm]),this.core=e,this.init(),this.public},yb=n(41);function Ab(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var wb=function(t){In()(n,t);var e=Ab(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"adapter",void 0),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"platformDetector",void 0),d()(On()(t),"isDNT",null),d()(On()(t),"isIncognito",null),t}return g()(n,[{key:"initialize",value:function(t){this.core=t,this.adapter=this.core.getComponent("adapter").get(),this.eventManager=this.core.getComponent("eventManager"),this.platformDetector=this.core.getComponent("platformDetector"),this.isReady=!0,this.eventManager.sdk.privacyDetectorReady.reached()}},{key:"getComponentName",value:function(){return"PrivacyDetector"}},{key:"getConfig",value:function(){}},{key:"bindEvents",value:function(t){var e=this;t.platformDetector.detected.action(new Bn("PrivacyDetector detection").do((function(){yb.incognitoDetection&&(t.privacyDetector.incognitoDetectionRequest.reached(),e.isIncognito=e.detectIncognitoMode()),yb.dntDetection&&(t.privacyDetector.dntDetectionRequest.reached(),e.isDNT=e.detectDNT())})).withHistory().once().onOneOf([t.sdk.privacyDetectorReady])),t.platformDetector.notDetected.action(new Bn("privacyDetector on no detected").do((function(){t.privacyDetector.detectionRejected.reached()})))}},{key:"depends",value:function(){return"adapter"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"detectDNT",value:function(){var t;return t="1"===navigator.doNotTrack,this.eventManager.privacyDetector.dntDetected.reached(),t}},{key:"detectIncognitoMode",value:function(){var t,e=this.platformDetector.getBrowser().name,n=this.platformDetector.getBrowser().version;switch(e){case"Chrome":parseInt(n)>=76?this.eventManager.privacyDetector.incognitoDetectionRejected.reached():(t=!(!window.webkitRequestFileSystem&&!window.RequestFileSystem),this.eventManager.privacyDetector.incognitoDetected.reached());break;case"Firefox":t=null===indexedDB,this.eventManager.privacyDetector.incognitoDetected.reached();break;case"Edge":case"IE":t=!(window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent),this.eventManager.privacyDetector.incognitoDetected.reached();break;case"Safari":try{window.openDatabase(null,null,null,null),t=!1}catch(e){t=!0}this.eventManager.privacyDetector.incognitoDetected.reached();break;default:return void this.eventManager.privacyDetector.incognitoDetectionRejected.reached()}return t}},{key:"isIncognitoMode",get:function(){return this.isIncognito}},{key:"isDNTEnable",get:function(){return this.isDNT}}]),n}(Nn),kb=function(){function t(){c()(this,t)}return g()(t,[{key:"checkPoint",value:function(){}},{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}}]),t}();function Eb(){return this.info.state}function Cb(t){return this.getFlowByName(t).checkPoint()}function _b(){var t=this;return this.paused?new Promise((function(e){return t.resolvers.push(e)})):new Promise((function(t){return t()}))}function Sb(){this.paused=!0,this.emiter.reached("flowAction:flow,paused,".concat(this.name))}function xb(){this.paused=!1,this.resolvers.forEach((function(t){return t()})),this.emiter.reached("flowAction:flow,resumed,".concat(this.name))}var Tb=function t(e,n){return c()(this,t),d()(this,"paused",!1),d()(this,"resolvers",[]),d()(this,"emiter",void 0),d()(this,"name",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{checkPoint:_b.bind(this),pause:Sb.bind(this),resume:xb.bind(this)}),d()(this,"setget",{paused:this.paused}),this.core=e,this.name=n,C(this,this.public,"paused"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.public};function Rb(t){return this.createFlow(t),this.flows[t]}function Ob(t){this.flows[t]=this.flows[t]?this.flows[t]:new Tb(this.core,t)}function Mb(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.bindEvents(),this.createFlow("nextAd"),this.emiter.reached("componentInitialized:flow")}function Ib(){var t=this;this.event.onOneOf({events:["tabInActive"],action:function(){var e;return null===(e=t.flows.nextAd)||void 0===e?void 0:e.pause()}}),this.event.onOneOf({events:["tabActive"],action:function(){var e;return null===(e=t.flows.nextAd)||void 0===e?void 0:e.resume()}}),this.event.onOneOf({events:["sdkOnline"],action:function(){var e,n,i,r;null===(e=t.flows.nextAd)||void 0===e||e.resume(),null===(n=t.flows.loadingAd)||void 0===n||n.resume(),null===(i=t.flows.startingAd)||void 0===i||i.resume(),null===(r=t.flows.adProgress)||void 0===r||r.resume()}}),this.event.onOneOf({events:["sdkOffline"],action:function(){var e,n,i,r;null===(e=t.flows.nextAd)||void 0===e||e.pause(),null===(n=t.flows.loadingAd)||void 0===n||n.pause(),null===(i=t.flows.startingAd)||void 0===i||i.pause(),null===(r=t.flows.adProgress)||void 0===r||r.pause()}})}var Db=function t(e){return c()(this,t),d()(this,"flows",{}),d()(this,"paused",!1),d()(this,"resolvers",[]),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{checkPoint:Cb.bind(this),getState:Eb.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"info",{name:"flow",state:"unknown"}),d()(this,"init",Mb.bind(this)),d()(this,"bindEvents",Ib.bind(this)),d()(this,"getFlowByName",Rb.bind(this)),d()(this,"createFlow",Ob.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new kb,new Xe]),this.init(),this.public},Pb=function(){function t(){c()(this,t)}return g()(t,[{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}}]),t}(),Lb=n(59);function jb(){return(new Date).getTime()}function Bb(t){return t}function Nb(){return to(this.core,"adId")}function Fb(){return this.session.id}function qb(){return eo(this.core)}function Vb(){return to(this.core,"break")}function Ub(){return this.user.getId()}function Wb(){return to(this.core,"adSystem")}function zb(){return screen.width+"x"+screen.height}function Hb(){return window.innerWidth+"x"+window.innerHeight}function Qb(){return to(this.core,"mediaUrl")}function Kb(){return this.info.metaData}function Yb(t){return this.public.info[t]?this.public.info[t]:void 0}function Gb(t){for(var e=[],n=0,i=Object.keys(this.info.params);n<i.length;n++){var r=i[n];e.push("".concat(r,"=").concat(this.info.params[r](t)))}return Lb.monitoringUxUrl+encodeURIComponent(e.join("/"))}function Jb(t){return Zb.apply(this,arguments)}function Zb(){return(Zb=Es()(ws.a.mark((function t(e){var n;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.prepareUrl(e),t.prev=1,t.next=4,this.http.fetch(n,{credentials:"include"});case 4:!0===t.sent.ok?this.public.setState("working"):this.public.setState("error"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.public.setState("error");case 11:case"end":return t.stop()}}),t,this,[[1,8]])})))).apply(this,arguments)}function Xb(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.session=this.core.getComponent("session"),(new Bn).do((function(){t.player=t.core.getComponent("player"),t.http=t.core.getComponent("http"),t.platformDetector=t.core.getComponent("platformDetector"),t.user=t.core.getComponent("user"),t.bindEvents(),t.public.setState("loaded")})).once().withHistory().onSequence([this.eventManager.sdk.playerReady,this.eventManager.sdk.httpReady,this.eventManager.sdk.platformDetectorReady,this.eventManager.sdk.userReady])}function $b(){var t=this;new Bn("MonitoringUx: preloadRequest").do((function(){return t.reportData("preloadRequest")})).onOneOf([this.eventManager.breakManager.preloadRequest]),new Bn("MonitoringUx: preloaded").do((function(){return t.reportData("preloaded")})).onOneOf([this.eventManager.adsManager.preloaded]),new Bn("MonitoringUx: breakStarted").do((function(){return t.reportData("breakStarted")})).onOneOf([this.eventManager.breakManager.breakStarted]),new Bn("MonitoringUx: breakCompleted").do((function(){return t.reportData("breakCompleted")})).onOneOf([this.eventManager.breakManager.breakCompleted]),new Bn("MonitoringUx: started").do((function(){return t.reportData("started")})).onOneOf([this.eventManager.adsManager.started]),new Bn("MonitoringUx: completed").do((function(){return t.reportData("completed")})).onOneOf([this.eventManager.adsManager.completed]),new Bn("MonitoringUx: bufferingStarted").do((function(){return t.reportData("bufferingStarted")})).onOneOf([this.eventManager.adsManager.bufferingStarted]),new Bn("MonitoringUx: loadError").do((function(){return t.reportData("loadError")})).onOneOf([this.eventManager.adsManager.loadError])}function ty(){return this.info.state}var ey,ny=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"session",void 0),d()(this,"eventManager",void 0),d()(this,"player",void 0),d()(this,"http",void 0),d()(this,"platformDetector",void 0),d()(this,"public",{getState:ty.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"info",{name:"monitoringUx",state:"unknown",params:{ts:jb.bind(this),type:Bb.bind(this),adID:Nb.bind(this),s_id:Fb.bind(this),position:qb.bind(this),breakId:Vb.bind(this),userId:Ub.bind(this),AdSystem:Wb.bind(this),res:zb.bind(this),w_size:Hb.bind(this),mediaFile:Qb.bind(this),metaData:Kb.bind(this)}}),d()(this,"getData",Yb.bind(this)),d()(this,"prepareUrl",Gb.bind(this)),d()(this,"reportData",Jb.bind(this)),d()(this,"bindEvents",$b.bind(this)),d()(this,"init",Xb.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new Pb]),this.init(),this.public},iy=n(27),ry={viewability:{},breakManager:{},adPlayer:{},sentryLogger:{},gdpr:{},adblockDetector:{},adsManager:{},selloutReporting:{},ivc:{},logger:{},platformDetector:{},adapter:{},player:{},adContainer:{},monitoringUx:{},http:{},continueWatching:{},componentSample:{}},oy={state:"working",errorData:null},ay=function(t){for(var e=!0,n=0,i=Object.entries(ry);n<i.length;n++){var r=i[n];"busy"===ry[r[0]].state&&(e=!1)}e&&(oy.state="working",t.sdk.running.reached(),clearInterval(ey),ey=void 0)},sy=function(t,e){!function(){for(var t=0,e=Object.keys(ry);t<e.length;t++){var n=e[t];ry[n]={state:"unknown",component:null}}}(),new Bn("Monitoring: get component reference to Viewability").do((function(){var e=t.getComponent("viewability");ry.viewability.component=e})).withHistory().onOneOf([e.sdk.viewabilityReady]),new Bn("Monitoring: get component reference to BreakManager").do((function(){var e=t.getComponent("breakManager");ry.breakManager.component=e})).withHistory().onOneOf([e.sdk.breakManagerReady]),new Bn("Monitoring: get component reference to AdPlayer").do((function(){var e=t.getComponent("adPlayer");ry.adPlayer.component=e})).withHistory().onOneOf([e.sdk.adPlayerReady]),new Bn("Monitoring: get component reference to SentryLogger").do((function(){var e=t.getComponent("sentryLogger");ry.sentryLogger.component=e})).withHistory().onOneOf([e.sdk.sentryLoggerReady]),new Bn("Monitoring: get component reference to Gdpr").do((function(){var e=t.getComponent("gdpr");ry.gdpr.component=e})).withHistory().onOneOf([e.sdk.gdprReady]),new Bn("Monitoring: get component reference to AdblockDetector").do((function(){var e=t.getComponent("adblockDetector");ry.adblockDetector.component=e})).withHistory().onOneOf([e.sdk.adblockDetectorReady]),new Bn("Monitoring: get component reference to AdsManager").do((function(){var e=t.getComponent("adsManager");ry.adsManager.component=e})).withHistory().onOneOf([e.sdk.adsManagerReady]),new Bn("Monitoring: get component reference to SelloutReporting").do((function(){var e=t.getComponent("selloutReporting");ry.selloutReporting.component=e})).withHistory().onOneOf([e.sdk.selloutReportingReady]),new Bn("Monitoring: get component reference to Ivc").do((function(){var e=t.getComponent("ivc");ry.ivc.component=e})).withHistory().onOneOf([e.sdk.ivcReady]),new Bn("Monitoring: get component reference to Logger").do((function(){var e=t.getComponent("logger");ry.logger.component=e})).withHistory().onOneOf([e.sdk.loggerReady]),new Bn("Monitoring: get component reference to PlatformDetector").do((function(){var e=t.getComponent("platformDetector");ry.platformDetector.component=e})).withHistory().onOneOf([e.sdk.platformDetectorReady]),new Bn("Monitoring: get component reference to Adapter").do((function(){var e=t.getComponent("adapter");ry.adapter.component=e})).withHistory().onOneOf([e.sdk.adapterReady]),new Bn("Monitoring: get component reference to Player").do((function(){var e=t.getComponent("player");ry.player.component=e})).withHistory().onOneOf([e.sdk.playerReady]),new Bn("Monitoring: get component reference to AdContainer").do((function(){var e=t.getComponent("adContainer");ry.adContainer.component=e})).withHistory().onOneOf([e.sdk.adContainerReady]),new Bn("Monitoring: get component reference to MonitoringUx").do((function(){var e=t.getComponent("monitoringUx");ry.monitoringUx.component=e})).withHistory().onOneOf([e.sdk.monitoringUxReady]),new Bn("Monitoring: get component reference to Http").do((function(){var e=t.getComponent("http");ry.http.component=e})).withHistory().onOneOf([e.sdk.httpReady]),new Bn("Monitoring: get component reference to ComponentSample").do((function(){var e=t.getComponent("componentSample");ry.componentSample.component=e})).withHistory().onOneOf([e.sdk.componentSampleReady])},cy=function(){function t(){c()(this,t),d()(this,"core",void 0),d()(this,"eventManager",void 0)}return g()(t,[{key:"initialize",value:function(t){var e=this;this.core=t,this.eventManager=this.core.getComponent("eventManager"),iy.monitoringEnabled&&new Bn("Monitoring: start listening state").do((function(){sy(e.core,e.eventManager),function(t){for(var e=function(){var e=i[n];new Bn("Monitoring: update state after change").do((function(){ry[e[0]]&&ry[e[0]].state&&ry[e[0]].component&&ry[e[0]].component.getState&&(ry[e[0]].state=ry[e[0]].component.getState(),"busy"===ry[e[0]].state&&setTimeout((function(){"busy"===ry[e[0]].state&&(oy.state="busy",t.sdk.busy.reached(),ey||(ey=setInterval((function(){return ay(t)}),iy.intervalDealy)))}),iy.checkTimeDealy))})).withHistory().onOneOf([t.sdk["".concat(e[0],"Ready")],t[e[0]].stateChanged])},n=0,i=Object.entries(ry);n<i.length;n++)e()}(e.eventManager)})).withHistory().onOneOf([this.eventManager.sdk.eventManagerReady])}},{key:"componentName",get:function(){return"Monitoring"}},{key:"states",get:function(){return ry}},{key:"appStatus",get:function(){return oy}}]),t}();function uy(){this.ctaElement.style.display="block"}function dy(){this.ctaElement.style.display="none"}function ly(){return this.ctaElement}var hy=Object({host:"https://at-app.cdntvn.pl",publicPath:"https://at-app.cdntvn.pl/package/web/main/1.14.2",version:"1.14.2",packageVersion:"1.9.0",buildTime:1613048032e3,build:"production",debugToken:"dev",env:"portal",tag:"web-main",etag:"59b8b4ea2cd2a495ad38dd4e25615014",dirPath:""});function py(){var t=document.createElement("img");return t.style.position="absolute",t.style.top="30px",t.style.left="4px",t.style.width="50px",t.style.height="60px",t.style.display="none",t}function fy(){var t=this,e=this.core.getComponent("config"),n=this.core.getComponent("eventManager"),i=this.platformDetector.getPlatform()===this.platformDetector.deviceType.MOBILE||this.platformDetector.getPlatform()===this.platformDetector.deviceType.TABLET;new Bn("CTA change icon").do((function(){var n=t.core.getComponent("breakManager").getFirstBreakInProgress().adQueue.activeAd.vastObject.getExtra().Cta;if(null==n?void 0:n.imgUrl)t.ctaElement.src=n.imgUrl;else{var r,o=hy.publicPath,a=null===(r=e.data.cta)||void 0===r?void 0:r.buttonImgRelUrl;t.ctaElement.src="".concat(o).concat(a)}i&&t.public.show()})).onOneOf([n.breakManager.incommingAd])}var vy=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"ctaElement",void 0),d()(this,"platformDetector",void 0),d()(this,"create",py.bind(this)),d()(this,"bindEvents",fy.bind(this)),d()(this,"public",{show:uy.bind(this),hide:dy.bind(this),getCtaElement:ly.bind(this)}),this.core=e,this.platformDetector=this.core.getComponent("platformDetector"),this.ctaElement=this.create(),this.bindEvents(),this.core.getComponent("adContainer").getHtmlElement().appendChild(this.public.getCtaElement()),this.public},gy=function(){function t(){c()(this,t)}return g()(t,[{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"start",value:function(){}},{key:"setInitialData",value:function(){}},{key:"name",get:function(){}}]),t}(),my=n(30);function by(){this.breakManager.getFirstBreakInProgress()||(this.emiter.reached("resume:adControl"),this.eventManager.ivc.adapterPlayRequest.reached())}function yy(){this.breakManager.getFirstBreakInProgress()||("paused"!==this.player.state()&&this.emiter.reached("pause:adControl"),this.eventManager.ivc.adaptePauseRequest.reached())}function Ay(){return this.breakManager.getFirstBreakInProgress()?(this.eventManager.ivc.adapterAdPlaying.reached(),"adPlaying"):"paused"===this.player.state()?(this.eventManager.ivc.adapterPaused.reached(),"paused"):"completed"===this.player.state()?(this.eventManager.ivc.adapterCompleted.reached(),"completed"):(this.eventManager.ivc.adapterPlaying.reached(),"playing")}function wy(){return this.breakManager.getFirstBreakInProgress()?-1:this.player.currentTime()}function ky(){return this.eventManager.ivc.adapterGetDuration.reached(),this.player.duration()}function Ey(){return this.eventManager.ivc.adapterGetWidth.reached(),this.player.width()+"px"}function Cy(){return this.eventManager.ivc.adapterGetHeight.reached(),this.player.height()+"px"}function _y(){var t,e,n,i=this,r=this.core.getComponent("adapter"),o=null==r||null===(t=r.externalAdapter)||void 0===t?void 0:t.player,a=null==o||null===(e=o.getUiElements())||void 0===e?void 0:e.find((function(t){return"Controls"===t.name}));return a.checkIfUpdateRequired=function(){return i.ivcAdapter.player.sizeChanged()},n=a.getSize().height,this.eventManager.ivc.adapterGetNavHeight.reached(),n+"px"}function Sy(){return this.eventManager.ivc.adapterGetVersion.reached(),this.player.getVersion()}function xy(){return this.eventManager.ivc.adapterInFullScreen.reached(),this.player.inFullScreen()}function Ty(){return this.eventManager.ivc.adapterIsMobile.reached(),this.platformDetector.getPlatform()===this.platformDetector.deviceType.MOBILE||this.platformDetector.getPlatform()===this.platformDetector.deviceType.TABLET}function Ry(){return this.eventManager.ivc.adapterGetContainer.reached(),this.adContainer.getTopLayer()}function Oy(t){this.hiddenByUser&&!t||(this.ivcAdapter.inVideoCommerce.enable(),this.ivcContainer.parentElement.classList.remove("vjs-hidden"),this.ivcAdapter.player.stateChanged(),this.eventManager.ivc.enabled.reached())}function My(){this.ivcAdapter.inVideoCommerce.disable(),this.ivcContainer.parentElement.classList.add("vjs-hidden"),this.ivcAdapter.player.stateChanged(),this.eventManager.ivc.disabled.reached()}function Iy(){return{player:{playRequest:by.bind(this),pauseRequest:yy.bind(this),getState:Ay.bind(this),getCurrentTime:wy.bind(this),getDuration:ky.bind(this),getWidth:Ey.bind(this),getHeight:Cy.bind(this),getVersion:Sy.bind(this),inFullScreen:xy.bind(this),isMobile:Ty.bind(this),getNavHeight:_y.bind(this),currentTimeChanged:function(){},sizeChanged:function(){},stateChanged:function(){},adBreakStarted:function(){},adBreakCompleted:function(){}},inVideoCommerce:{getContainer:Ry.bind(this),getConfig:{},enable:function(){},disable:function(){}}}}function Dy(){var t=this.adContainer.getTopLayer(),e=document.createElement("div"),n=document.createElement("div");return n.setAttribute("id","ivc"),e.append(n),e.classList.add("vjs-ivc"),t.prepend(e),n}function Py(){return my}function Ly(){var t=this.core.getEnv().host,e=this.getConfig();return new Promise((function(n,i){var r;(r=t+e.ivcScript,new Promise((function(t,e){var n=document.createElement("script");document.body.appendChild(n),n.onload=t,n.onerror=e,n.async=!0,n.src=r}))).then((function(){(function(t){return new Promise((function(e,n){var i=document.createElement("link"),r=document.getElementsByTagName("head")[0];i.rel="stylesheet",i.type="text/css",i.href=t,i.media="all",i.onload=e,i.onerror=n,r.appendChild(i)}))})(t+e.ivcStyles).then((function(){n()}))}))}))}function jy(t){var e=this,n=[];return t.forEach((function(t,i){var r=t.MediaFile,o=e.http;n[i]=new Promise((function(t,e){"string"==typeof r?o.fetch(r).then((function(e){e.text().then((function(e){var n=JSON.parse(e);t(n)}))})):e(new Error("Cant load resource."))}))})),Promise.all(n)}function By(){var t=this;this.loadConfig(this.config.ivcAssets).then((function(e){var n,i,r=(n=t.config.ivcAssets,i=[],n.forEach((function(t){i.push(t.Reporting)})),i),o=function(t){var e=[];return t.forEach((function(t){e.push(t.TrackingResource)})),e}(t.config.ivcAssets);if(t.eventManager.ivc.assetLoaded.reached(),"object"!==h()(e)||!e[0].tag||!e[0].videoAssetId)throw t.eventManager.ivc.Error.reached(),new Error("Wrong IVC asset file format");t.ivcContainer=t.createIVCContainer(),t.ivcAdapter=t.createIVCAdapter(),t.public.disableIVC(),t.ivcAdapter.inVideoCommerce.getConfig=function(){var t={data:{tags:[]},enablePopup:!0,disableAnim:!1,positionY:8};return e.forEach((function(e,n){t.data.tags.push({videoAssetId:e.videoAssetId,tag:e.tag,reporting:r[n],tracking:o[n]})})),t},t.loadIVCScripts().then((function(){window.IVC.init(t.ivcAdapter),t.loaded=!0,t.eventManager.ivc.initialized.reached(),t.bindEvents()})).catch((function(t){throw this.eventManager.ivc.Error.reached(),new Error("Vast load error: "+t.message)}))}))}function Ny(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),(new Bn).do((function(){t.loaded=!1,t.started=!1,t.hiddenByUser=!1,t.breakManager=t.core.getComponent("breakManager"),t.player=t.core.getComponent("player"),t.adContainer=t.core.getComponent("adContainer"),t.http=t.core.getComponent("http"),t.platformDetector=t.core.getComponent("platformDetector"),t.start()})).once().withHistory().onSequence([this.eventManager.sdk.playerReady,this.eventManager.sdk.httpReady,this.eventManager.sdk.breakManagerReady,this.eventManager.sdk.platformDetectorReady,this.eventManager.sdk.adContainerReady])}function Fy(){var t=this;new Bn("ivc video ended").do((function(){t.started=!1,t.public.disableIVC(),t.ivcButton&&t.ivcButton.hide(),t.ivcAdapter.player.stateChanged()})).onOneOf([this.eventManager.player.completed]),new Bn("ivc video timeupdate").do((function(){t.breakManager.getFirstBreakInProgress()||(!1===t.started&&(t.public.enableIVC(),t.started=!0,t.ivcButton&&t.ivcButton.show()),t.ivcAdapter.player.currentTimeChanged())})).onOneOf([this.eventManager.player.currentTimeChanged]),new Bn("ivc video pause").do((function(){t.ivcAdapter.player.stateChanged()})).onOneOf([this.eventManager.player.paused]),new Bn("ivc video play").do((function(){t.breakManager.getFirstBreakInProgress()||t.ivcAdapter.player.stateChanged()})).onOneOf([this.eventManager.player.playing]),new Bn("ivc videoStartedAdsBlock").do((function(){t.ivcAdapter.player.adBreakStarted(),t.public.disableIVC(),t.ivcButton&&t.ivcButton.hide()})).onOneOf([this.eventManager.breakManager.breakStarted]),new Bn("ivc videoCompleteAdsBlock").do((function(){"preloaded"!==t.getState&&t.ivcAdapter.player.adBreakCompleted(),t.public.enableIVC(),t.ivcButton&&t.ivcButton.show(),"preloaded"===t.getState&&t.ivcAdapter.player.stateChanged(),t.ivcAdapter.player.stateChanged()})).onOneOf([this.eventManager.breakManager.breakSequenceCompleted]),new Bn("ivc video resize").do((function(){t.ivcAdapter.player.sizeChanged()})).onOneOf([this.eventManager.player.sizeChanged])}var qy=function t(e,n){c()(this,t),d()(this,"core",void 0),d()(this,"config",void 0),d()(this,"ivcContainer",void 0),d()(this,"ivcAdapter",void 0),d()(this,"adapter",void 0),d()(this,"eventManager",void 0),d()(this,"breakManager",void 0),d()(this,"player",void 0),d()(this,"http",void 0),d()(this,"platformDetector",void 0),d()(this,"currentState",void 0),d()(this,"adContainer",void 0),d()(this,"data",void 0),d()(this,"loaded",void 0),d()(this,"started",void 0),d()(this,"hiddenByUser",void 0),d()(this,"public",{enableIVC:Oy.bind(this),disableIVC:My.bind(this)}),d()(this,"bindEvents",Fy.bind(this)),d()(this,"createIVCContainer",Dy.bind(this)),d()(this,"createIVCAdapter",Iy.bind(this)),d()(this,"getConfig",Py.bind(this)),d()(this,"loadConfig",jy.bind(this)),d()(this,"loadIVCScripts",Ly.bind(this)),d()(this,"start",By.bind(this)),d()(this,"init",Ny.bind(this)),this.core=e,this.config=this.getConfig,this.config.ivcAssets=n,this.init()};function Vy(){return Uy.apply(this,arguments)}function Uy(){return(Uy=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new qy(this.core,this.info.data),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Wy(t){return zy.apply(this,arguments)}function zy(){return(zy=Es()(ws.a.mark((function t(e){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.public.setState("loading"),this.info.data.push(e);case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Hy(){return this.info.state}function Qy(){var t=this;new Bn("ivc reporting action on incommingAd. Addign Ivc object").do((function(){t.info.data.length>0&&(t.public.setState("working"),t.public.start())})).onOneOf([this.eventManager.breakManager.driverLoaded]),new Bn("ivc reporting impression on ivc ad play").do((function(){0!==t.info.data.length&&t.info.data.forEach((function(e){var n=e.Impression._cdata||e.Impression._text;t.reportImpression(n)}))})).onOneOf([this.eventManager.ivc.initialized]),new Bn("ivc reporting error").do((function(){0!==t.info.data.length&&t.info.data.forEach((function(e){var n=e.Error._cdata||e.Error._text;t.reportError(n)}))})).onOneOf([this.eventManager.ivc.error])}function Ky(t){var e=this;t&&this.http.fetch(t,{credentials:"include"}).then((function(t){e.eventManager.ivc.Error.reached()}))}function Yy(t){var e=this;t&&this.http.fetch(t,{credentials:"include"}).then((function(t){!0===t.ok?e.eventManager.ivc.impression.reached():e.eventManager.ivc.error.reached()})).catch((function(){e.eventManager.ivc.error.reached()}))}function Gy(){var t=this;this.eventManager=this.core.getComponent("eventManager"),(new Bn).do((function(){t.http=t.core.getComponent("http"),t.public.setState("loaded"),t.bindEvents()})).once().withHistory().onSequence([this.eventManager.sdk.httpReady])}var Jy=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"http",void 0),d()(this,"public",{name:void 0,start:Vy.bind(this),setInitialData:Wy.bind(this),getState:Hy.bind(this),setState:Je.bind(this)}),d()(this,"info",{name:"ivc",state:"unknown",data:[]}),d()(this,"bindEvents",Qy.bind(this)),d()(this,"reportImpression",Yy.bind(this)),d()(this,"reportError",Ky.bind(this)),d()(this,"init",Gy.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new gy]),this.init(),this.public};function Zy(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentRegistered:config","componentInitialized:adapter"],action:function(){var e,n;t.adContainer=t.core.getComponent("adContainer"),t.adapter=t.core.getComponent("adapter").get(),t.config=null===(e=t.adapter)||void 0===e||null===(n=e.adblockDetector)||void 0===n?void 0:n.config(),t.emiter.reached("adblockDetectorReady"),t.config.detection&&t.bindEvents()}})}function Xy(){var t=this;this.event.onOneOf({events:["masterVastLoadError:adsLoader","ImaSDKLoadError:error"],action:function(e,n){t.detected(),n.disable()}})}function $y(){return this.isAdblock}function tA(){this.config.showAdBlockBoard&&(this.adblockBoard=document.createElement("a"),this.adblockBoard.href=this.config.adBlockBoardLink,this.adblockBoard.className="adBlockAlert",this.adblockBoard.id="adBlockAlert",this.adblockBoard.style.backgroundImage="url(".concat(this.config.adblockBoardPic,")"),this.adblockBoard.style.position="absolute",this.adblockBoard.style.width="100%",this.adblockBoard.style.height="100%",this.adblockBoard.style.top="0",this.adblockBoard.style.backgroundPosition="center center",this.adblockBoard.style.backgroundSize="contain",this.adblockBoard.style.display="block",this.adblockBoard.setAttribute("target","_blank"),this.adContainer.getHtmlElement().appendChild(this.adblockBoard))}function eA(){this.isAdblock=!0,this.emiter.reached("adblockDetected"),this.showAdBlockBoard(),this.adapter.adblockDetector.blockContentRequest(),this.adContainer.hide()}var nA=function(){function t(){c()(this,t)}return g()(t,[{key:"isAdblockDetected",value:function(){}}]),t}(),iA=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"adblockBoard",null),d()(this,"isAdblock",null),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"adapter",void 0),d()(this,"config",void 0),d()(this,"adContainer",void 0),d()(this,"http",void 0),d()(this,"public",{name:void 0,isAdblockDetected:$y.bind(this)}),d()(this,"setget",{name:"adblockDetector",isAdblockDetected:null}),d()(this,"init",Zy.bind(this)),d()(this,"bindEvents",Xy.bind(this)),d()(this,"showAdBlockBoard",tA.bind(this)),d()(this,"detected",eA.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new nA,new m]),this.init(),this.public},rA=n(60);function oA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var aA=function(t){In()(i,t);var e,n=oA(i);function i(){var t;c()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),d()(On()(t),"isReady",!1),d()(On()(t),"currentState","unknown"),d()(On()(t),"adapter",void 0),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"event",void 0),d()(On()(t),"emiter",void 0),t}return g()(i,[{key:"initialize",value:function(t){var e=this;this.core=t,this.adapter=this.core.getComponent("adapter").get(),this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),new Bn("Run SelloutReporting init").do((function(){e.init(),e.bindComponentEvents()})).withHistory().onOneOf([this.eventManager.sdk.adsManagerReady])}},{key:"bindComponentEvents",value:function(){var t=this;this.event.onOneOf({events:["incommingAd:breakManager","incomingPassback:adFlow"],action:function(e){var n=e.extra.object,i=n.vastObject;"sellout"===i.getExtra().AdType&&(t.report(i),n.control.skip())}})}},{key:"init",value:function(){this.isReady=!0,this.eventManager.sdk.selloutReportingReady.reached(),this.setState("loaded")}},{key:"getComponentName",value:function(){return"SelloutReporting"}},{key:"getConfig",value:function(){}},{key:"bindEvents",value:function(){}},{key:"depends",value:function(){return"eventManager"}},{key:"report",value:(e=Es()(ws.a.mark((function t(e){var n,i,r,o,a=this;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.eventManager.selloutReporting.reportRequest.reached(),n=e.getExtra(),i=this.core.getComponent("http"),n.Sellout&&n.Sellout.impression?(this.setState("busy"),Array.isArray(null===(r=n.Sellout)||void 0===r?void 0:r.impression)||(o=n.Sellout.impression,n.Sellout.impression=[o]),n.Sellout.impression.forEach((function(t){var e=t._cdata||t._text;e&&i.fetch(e,rA.credentials).then((function(t){!0===t.ok?(a.eventManager.selloutReporting.reported.reached(),a.setState("working")):(a.eventManager.selloutReporting.reportError.reached(),a.setState("error"))})).catch((function(){a.eventManager.selloutReporting.reportError.reached(),a.setState("error")}))}))):(this.eventManager.selloutReporting.reportError.reached(),this.setState("error"));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.selloutReporting.stateChanged.reached()}}]),i}(Nn),sA=function(){function t(){c()(this,t)}return g()(t,[{key:"useSpace",value:function(t){}},{key:"useHardSpace",value:function(){}},{key:"save",value:function(){}}]),t}();function cA(t){return this.data[t]||(this.data[t]={}),this.data[t]}function uA(){return this.hdd}function dA(){window.localStorage&&window.localStorage.setItem("sdkHDD",JSON.stringify(this.hdd))}function lA(){return hA.apply(this,arguments)}function hA(){return(hA=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.localStorage){e=window.localStorage.getItem("sdkHDD");try{this.hdd=JSON.parse(e),this.hdd="object"!==h()(this.hdd)||null===this.hdd?{}:this.hdd}catch(t){this.emiter.reached("loadStorageError:error",{error:t})}this.emiter.reached("storageDataLoaded")}case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function pA(){this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.storage=this.public,this.load(),this.eventManager.sdk.storageReady.reached()}function fA(){return this.info.state}var vA=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"data",{}),d()(this,"hdd",{}),d()(this,"public",{useSpace:cA.bind(this),useHardSpace:uA.bind(this),save:dA.bind(this),getState:fA.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"setGet",{name:"storage"}),d()(this,"load",lA.bind(this)),d()(this,"init",pA.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new sA,new Xe]),this.init(),this.public},gA=n(21),mA=n.n(gA);function bA(){return this.info.state}function yA(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),void 0===this.setget.data.service&&(this.setget.data.service={}),this.event.onOneOf({history:!0,events:["adapterDataSet"],action:function(e){var n,i,r,o,a,s,c=t.core.getComponent("adapter").get(),u=null==c||null===(n=c.ad)||void 0===n||null===(i=n.config)||void 0===i?void 0:i.call(n),d=null==c||null===(r=c.sdk)||void 0===r||null===(o=r.config)||void 0===o?void 0:o.call(r),l=null==c||null===(a=c.adblockDetector)||void 0===a||null===(s=a.config)||void 0===s?void 0:s.call(a);t.setget.data.service.host=pv()?function(t){try{var e,n;return"function"==typeof window.getParentWindowOrigin?null===(e=(n=window).getParentWindowOrigin)||void 0===e?void 0:e.call(n):document.referrer}catch(e){t.getComponent("event").emiter().reached("Can't get iframe parent origin:error",{error:e})}}(t.core):window.location.origin,t.setget.data.adapter.sdk=mA()(t.setget.data.adapter.sdk,d),t.setget.data.adapter.ad=mA()(t.setget.data.adapter.ad,u),t.setget.data.adapter.adblockDetector=mA()(t.setget.data.adapter.adblockDetector,l),t.emiter.reached("configReady",{object:t.setget.data})}})}var AA=function t(){c()(this,t)},wA=n(61),kA=n(62),EA=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{getState:bA.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"setget",{data:void 0,name:"config",state:"unknown"}),d()(this,"init",yA.bind(this)),this.core=e,C(this,this.public,"data"),C(this,this.public,"name"),p(this.public,[new AA,new Xe]),this.setget.data=mA()(wA,kA),this.init(),this.public};function CA(){this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.eventManager=this.core.getComponent("eventManager"),this.eventManager.sdk.httpReady.reached()}function _A(t){return SA.apply(this,arguments)}function SA(){return(SA=Es()(ws.a.mark((function t(e){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e?void 0:e.match(/^(http[s]?:)?\/\//)){t.next=3;break}throw new Error("Http url (".concat(e,") schema error."));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xA(t){return TA.apply(this,arguments)}function TA(){return(TA=Es()(ws.a.mark((function t(e){var n,i,r,o,a,s,c,u,d,l,h=arguments;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},i=Date.now(),r=i+yn(10),this.emiter.reached("request",{httpRequest:{requestId:r,url:e,headers:n}}),t.prev=4,t.next=7,this.validateUrl(e);case 7:return t.next=9,window.fetch(e,n);case 9:return o=t.sent,t.next=12,o.text();case 12:return a=t.sent,s=Date.now(),c=s-i,this.emiter.reached("response",{httpResponse:{reruestDuration:c,requestId:r,result:a}}),u=new Blob([a]),d={status:200},t.abrupt("return",new Response(u,d));case 21:throw t.prev=21,t.t0=t.catch(4),l=new Error("[".concat(r,"] ").concat(t.t0.message)),this.emiter.reached("responseError,error",{error:l}),t.t0;case 26:case"end":return t.stop()}}),t,this,[[4,21]])})))).apply(this,arguments)}var RA=function(){function t(){c()(this,t)}var e;return g()(t,[{key:"fetch",value:(e=Es()(ws.a.mark((function t(e,n){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t,n){return e.apply(this,arguments)})}]),t}(),OA=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"eventManager",void 0),d()(this,"config",void 0),d()(this,"public",{fetch:xA.bind(this),name:void 0}),d()(this,"setget",{name:"http"}),d()(this,"init",CA.bind(this)),d()(this,"validateUrl",_A.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new RA,new m]),this.init(),this.public},MA={videoSrc:"data:video/webm;base64, GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK"},IA=function(t){return new Promise((function(e,n){if(!t)return!0;var i,r=document.createElement("video"),o=t.parentElement,a=0;r.src=MA.videoSrc,r.setAttribute("autoplay",""),r.style.display="none",o.insertBefore(r,t);var s=r.play();"function"==typeof s.catch&&"function"==typeof s.then?(s.catch((function(){u(),e(!1)})),s.then((function(t){u(),e(!0)}))):setTimeout((function(){r.addEventListener("playing",c,!1),i=setTimeout(c,200)}),0);var c=function t(n){a++,clearTimeout(i);var o=n&&"playing"===n.type||0!==r.currentTime;!o&&a<5?i=setTimeout(t,200):(u(),e(!!o))},u=function(){r.removeEventListener("playing",c,!1),r.parentNode&&r.parentNode.removeChild(r)}}))};function DA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jn()(t);if(e){var r=jn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pn()(this,n)}}var PA=function(t){In()(n,t);var e=DA(n);function n(){var t;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),d()(On()(t),"core",void 0),d()(On()(t),"eventManager",void 0),d()(On()(t),"isReady",void 0),d()(On()(t),"bindEvents",(function(e){new Bn("Detect whether we can run autoplay with ad volume").do(Es()(ws.a.mark((function n(){var i,r,o;return ws.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.setState("working"),i=t.core.getComponent("adContainer"),r=i.getHtmlElement(),o=window.location.href,void 0===t.adConfig.autoplay&&(t.adConfig.autoplay={detection:!0,allowed:!1,onFail:"playButton"}),void 0===t.autoplayAllowed&&(t.autoplayAllowed=!0),void 0===t.adConfig.autoplay.detection?t.adConfig.autoplay.detection=!0:(o.includes("player.pl")||o.includes("atds-test.player.pl"))&&(t.adConfig.autoplay.detection=!1),void 0===t.adConfig.autoplay.onFail&&(t.adConfig.autoplay.onFail="playButton"),!t.adConfig.autoplay.detection){n.next=12;break}return n.next=11,IA(r);case 11:t.autoplayAllowed=n.sent;case 12:t.autoplayAllowed?t.mei="ok":t.mei="nok",e.autoplayDetector.detected.reached();case 14:case"end":return n.stop()}}),n)})))).withHistory().onOneOf([e.autoplayDetector.detectRequest])})),t}return g()(n,[{key:"initialize",value:function(t){var e,n,i;this.core=t,this.mei="ok",this.eventManager=this.core.getComponent("eventManager");var r=this.core.getComponent("config");this.adConfig=null===(e=r.data.adapter)||void 0===e?void 0:e.ad,this.autoplayAllowed=null===(n=this.adConfig)||void 0===n||null===(i=n.autoplay)||void 0===i?void 0:i.allowed,this.eventManager.sdk.autoplayDetectorReady.reached(),this.isReady=!0,this.setState("loaded")}},{key:"getState",value:function(){return this.currentState}},{key:"setState",value:function(t){this.currentState=t,this.eventManager.autoplayDetector.stateChanged.reached()}},{key:"depends",value:function(){return"adapter"}},{key:"reset",value:function(){}},{key:"ready",value:function(){return this.isReady}},{key:"getComponentName",value:function(){return"AutoplayDetector"}},{key:"getConfig",value:function(){return{}}}]),n}(Nn),LA=n(63);function jA(){var t=this;new Bn("Run matching cookies").onOneOf([this.eventManager.cookieMatching.matchRequest]).once().withHistory().do((function(){t.core.getComponent("http").fetch(LA.capping,{credentials:"include"}).then((function(t){return t.text()})).then((function(e){var n=kc.toJSON(e);NA.call(t,n)})).catch((function(){t.info.isCookie=!0,t.eventManager.cookieMatching.matched.reached()}))}))}function BA(){this.eventManager.sdk["".concat(this.info.name,"Ready")].reached(),this.public.setState("loaded")}function NA(t){var e,n,i,r,o,a=this,s=null==t||null===(e=t.VAST)||void 0===e||null===(n=e.Ad)||void 0===n||null===(i=n._attributes)||void 0===i?void 0:i.status,c=null==t||null===(r=t.VAST)||void 0===r||null===(o=r.Ad)||void 0===o?void 0:o.Impression,u=this.core.getComponent("http"),d={credentials:"include",mode:"no-cors"};this.info.isCookie="non-cookie"!==s||null,c&&t?(Array.isArray(c)||(c=[c]),c.forEach((function(t){u.fetch(null==t?void 0:t._cdata,d).catch((function(){return a.public.setState("error")}))})),this.eventManager.cookieMatching.matched.reached()):this.eventManager.cookieMatching.matched.reached()}function FA(){return this.info.state}var qA=function t(e){return c()(this,t),d()(this,"public",{name:void 0,isCookie:void 0,getState:FA.bind(this),setState:Je.bind(this)}),d()(this,"info",{name:"cookieMatching",isCookie:void 0,state:"unknown"}),d()(this,"bindEvents",jA.bind(this)),d()(this,"init",BA.bind(this)),this.core=e,this.eventManager=this.core.getComponent("eventManager"),this.bindEvents(),C(this,this.public,"name","info"),C(this,this.public,"isCookie","info"),this.init(),this.public},VA=function(){function t(){var e=this;return c()(this,t),d()(this,"adDisplayContainer",void 0),{init:function(t){return e.init(t)},get:function(){return e.get()},destroy:function(){return e.destroy()}}}return g()(t,[{key:"init",value:function(t){var e=t.overlayContainer,n=t.google;if(!n||!n.ima)throw new Error("Cannot load ima");this.adDisplayContainer=new n.ima.AdDisplayContainer(e,void 0),this.adDisplayContainer.initialize()}},{key:"get",value:function(){return this.adDisplayContainer}},{key:"destroy",value:function(){this.adDisplayContainer.destroy()}}]),t}(),UA=function t(e){e.videoElement;var n=e.google,i=e.vastObject;c()(this,t);var r=new n.ima.AdsRequest,o=i.getType(),a=i.getTimeout(),s=i.getExtra().Overlay.attributes;return r.vastLoadTimeout=a,"direct"===o?r.adsResponse=i.getString():"remote"===o&&(r.adTagUrl=i.getUrl()),r.linearAdSlotWidth=s.width,r.linearAdSlotHeight=s.height,r.nonLinearAdSlotWidth=s.width,r.nonLinearAdSlotHeight=s.height,r},WA=function t(e){var n=this,i=e.google,r=e.imaAdsManager,o=e.videoElement,a=e.event,s=e.vastObject;return c()(this,t),d()(this,"adsManager",void 0),d()(this,"google",void 0),d()(this,"videoElement",void 0),d()(this,"adParameters",void 0),d()(this,"public",{init:function(){var t=n.videoElement.width(),e=parseInt(n.adParameters.height)+5;n.adsManager.init(t,e,n.google.ima.ViewMode.NORMAL),n.adsManager.addEventListener(n.google.ima.AdEvent.Type.USER_CLOSE,(function(){n.adsManager.destroy(),n.emiter.reached("IMA_USER_CLOSE:overlay")}))},start:function(){n.adsManager.start()}}),this.videoElement=o,this.adsManager=r,this.google=i,this.emiter=a.emiter(this.public),this.adParameters=s.getExtra().Overlay.attributes,a.onOneOf({events:["player.sizeChanged"],action:function(){n.emiter.reached("resizeLegalText:overlay",{object:n.videoElement.width()}),n.adsManager.resize(n.videoElement.width(),parseInt(n.adParameters.height)+5,n.google.ima.ViewMode.FULLSCREEN)}}),this.public},zA=function(){function t(){var e=this;return c()(this,t),d()(this,"adLoader",void 0),d()(this,"public",{init:function(t){return e.init(t)},load:function(t){return e.load(t)}}),this.public}return g()(t,[{key:"init",value:function(t){var e=t.google,n=t.adContainer;if(!e||!e.ima)throw new Error("IMA is undefined.");this.adLoader=new e.ima.AdsLoader(n)}},{key:"load",value:function(t){var e=t.videoElement,n=t.google,i=t.vastObject,r=t.event,o=new UA({videoElement:e,google:n,vastObject:i});this.adLoader.requestAds(o);this.adLoader.addEventListener(n.ima.AdErrorEvent.Type.AD_ERROR,(function(t){throw new Error(t.getError())}),!1),this.adLoader.addEventListener(n.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){var o=new n.ima.AdsRenderingSettings;o.autoAlign=!1,o.useStyledNonLinearAds=!0;var a=t.getAdsManager(e,o),s=new WA({google:n,imaAdsManager:a,videoElement:e,event:r,vastObject:i});s.init(),s.start()}),!1)}}]),t}();function HA(){var t,e,n,i=this.adapter.ad.getTopLayer(),r=document.createElement("div"),o=this.getPlayerUiElements(),a=this.getAdInProgress().vast.getExtra().Overlay,s=null===(t=this.config)||void 0===t||null===(e=t.data)||void 0===e||null===(n=e.overlay)||void 0===n?void 0:n.playerNavigationHide;return r.setAttribute("id","sdk-overlay-container"),r.style.position="absolute",r.style.bottom="".concat(a.attributes.height,"px"),s||(r.style.bottom=o.visible?"".concat(2*o.size.height,"px"):"".concat(o.size.height,"px"),o.onUpdate=function(){r.style.bottom=o.visible?"".concat(2*o.size.height,"px"):"".concat(o.size.height,"px")}),i.appendChild(r),this.setLegalText(r),r}function QA(){var t,e,n=this.core.getComponent("adapter"),i=null==n||null===(t=n.externalAdapter)||void 0===t?void 0:t.player;return null==i||null===(e=i.getUiElements())||void 0===e?void 0:e.find((function(t){return"Controls"===t.name}))}function KA(t){var e=this.getAdInProgress();if(e&&t){var n=e.vast.getExtra().Overlay.attributes;if("true"===(null==n?void 0:n.advertLabel)){this.legalText=document.createElement("div");var i=document.createElement("span");this.legalText.style.position="absolute",this.legalText.style.textAlign="center",this.legalText.style.width="".concat(this.player.width(),"px"),this.legalText.style.height="100%",this.legalText.style.display="none",i.innerHTML="Reklama",i.style.top="-25px",i.style.position="relative",i.style.backgroundColor="#808080",i.style.padding="5px",i.style.fontSize="12px",i.style.fontFamily="source-sans-pro,sans-serif",this.legalText.append(i),t.prepend(this.legalText)}}}function YA(){var t,e=this;return null===(t=this.queue)||void 0===t?void 0:t.find((function(t){return t.state===e.state.PENDING}))}function GA(){var t,e=this;return null===(t=this.queue)||void 0===t?void 0:t.find((function(t){return t.state===e.state.IN_PROGRESS}))}function JA(){var t,e=this;return null===(t=this.queue)||void 0===t?void 0:t.find((function(t){return t.state===e.state.PAUSED}))}function ZA(t){this.adContainer=new VA,this.adContainer.init({overlayContainer:this.getOverlayContainer(),google:this.google}),this.adLoader=new zA,this.adLoader.init({google:this.google,adContainer:this.adContainer.get()}),this.adLoader.load({videoElement:this.player,google:this.google,vastObject:t.vast,event:this.event})}function XA(){this.adContainer.destroy()}function $A(){var t,e,n,i,r;(null===(t=this.adapter)||void 0===t||null===(e=t.player)||void 0===e?void 0:e.hideNavigation)&&(null===(n=this.config)||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.overlay)||void 0===r?void 0:r.playerNavigationHide)&&this.adapter.player.hideNavigation()}function tw(){var t,e,n,i,r;(null===(t=this.adapter)||void 0===t||null===(e=t.player)||void 0===e?void 0:e.showNavigation)&&(null===(n=this.config)||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.overlay)||void 0===r?void 0:r.playerNavigationHide)&&this.adapter.player.showNavigation()}function ew(){this.legalText.style.display="block"}function nw(){this.legalText.style.display="none"}function iw(){var t=this.core.getComponent("breakManager");this.queue.forEach((function(e){var n,i,r,o=t.getBreaksInRange(Xa(e.start),Xa(e.end));(null==o?void 0:o.length)>0&&(null==o||null===(n=o[0])||void 0===n||null===(i=n[1])||void 0===i||null===(r=i.info)||void 0===r?void 0:r.startTime)&&(e.start=$a(o[0][1].info.startTime)+.25,e.end=e.end+.25)}))}function rw(t,e){var n=this.core.getComponent("breakManager").getBreaksInRange(Xa(t.start),Xa(e+t.minTime));return!(n.length>0)||(t.start=$a(n[0][1].info.startTime)+.25,!1)}function ow(t){var e,n,i={pending:this.getFirstPendingAd(),inProgress:this.getAdInProgress(),paused:this.getPausedAd()};if(t>=(null===(e=i.pending)||void 0===e?void 0:e.start)&&!i.inProgress&&!i.paused&&this.canShowOverlay(i.pending,t)){var r=this.api.getExternalApi();i.pending.state=this.state.IN_PROGRESS,i.pending.counter=0,this.loadAd(i.pending),r.ad.overlayStarted(),this.emiter.reached("started",{object:i.pending})}i.inProgress&&i.inProgress.counter>=(null===(n=i.inProgress)||void 0===n?void 0:n.minTime)&&this.emiter.reached("completed",{object:i.inProgress}),i.inProgress&&(i.inProgress.counter+=this.config.data.overlay.updateCounterFrequency)}function aw(t){var e=t.getExtra().Overlay.attributes,n=(null==e?void 0:e.timeStart)?Za(e.timeStart):0,i=(null==e?void 0:e.minSuggestedDuration)?Za(e.minSuggestedDuration):0,r=n+i;this.queue.push({start:n,end:r,minTime:i,state:this.state.PENDING,vast:t}),this.queue.sort((function(t,e){return t.start>e.start?1:e.start>t.start?-1:0}))}function sw(){var t=this;this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.event.onSequence({history:!0,events:["componentRegistered:config","componentRegistered:player","componentInitialized:adapter","componentRegistered:api","configReady","adapterDataSet","imaSdkLoaded"],action:function(){t.player=t.core.getComponent("player"),t.adapter=t.core.getComponent("adapter").get(),t.api=t.core.getComponent("api"),t.config=t.core.getComponent("config"),t.google=window.google,t.bindEvents()}})}function cw(){var t=this;this.event.onOneOf({events:["started:overlay"],action:function(){t.legalText&&t.showLegalText(),t.hideNavigation()}}),this.event.onOneOf({events:["IMA_USER_CLOSE:overlay"],action:function(){var e=t.getAdInProgress()||t.getPausedAd();t.emiter.reached("completed",{object:e})}}),this.event.onOneOf({events:["resizeLegalText:overlay"],action:function(e){t.legalText&&(t.legalText.style.width="".concat(e,"px"))}}),this.event.onOneOf({events:["completed:overlay"],action:function(e){var n=e.extra.object;t.api.getExternalApi().ad.overlayCompleted(),n.state=t.state.COMPLETED,t.hideLegalText(),t.showNavigation(),t.destroyAd()}}),this.event.onOneOf({events:["contentTimeChanged"],action:function(e){"playing"===t.player.getState()&&t.checkTimeline(e.extra.object)}}),this.event.onOneOf({events:["adsLoaded"],action:function(){return t.calculateOverlayStartTime()}})}var uw=function(){function t(){c()(this,t)}return g()(t,[{key:"addAdToQueue",value:function(){}}]),t}(),dw=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"api",void 0),d()(this,"player",void 0),d()(this,"adapter",void 0),d()(this,"legalText",void 0),d()(this,"config",void 0),d()(this,"google",void 0),d()(this,"queue",[]),d()(this,"emiter",void 0),d()(this,"state",{IN_PROGRESS:"inProgress",COMPLETED:"completed",PENDING:"pending",PAUSED:"paused"}),d()(this,"public",{addAdToQueue:aw.bind(this),name:void 0}),d()(this,"setget",{name:"overlay"}),d()(this,"init",sw.bind(this)),d()(this,"bindEvents",cw.bind(this)),d()(this,"getOverlayContainer",HA.bind(this)),d()(this,"setLegalText",KA.bind(this)),d()(this,"getPlayerUiElements",QA.bind(this)),d()(this,"getFirstPendingAd",YA.bind(this)),d()(this,"getAdInProgress",GA.bind(this)),d()(this,"getPausedAd",JA.bind(this)),d()(this,"loadAd",ZA.bind(this)),d()(this,"destroyAd",XA.bind(this)),d()(this,"hideNavigation",$A.bind(this)),d()(this,"showNavigation",tw.bind(this)),d()(this,"hideLegalText",nw.bind(this)),d()(this,"showLegalText",ew.bind(this)),d()(this,"calculateOverlayStartTime",iw.bind(this)),d()(this,"canShowOverlay",rw.bind(this)),d()(this,"checkTimeline",ow.bind(this)),this.core=e,C(this,this.public,"name"),p(this.public,[new uw,new m]),this.init(),this.public};function lw(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),new Bn("http module initialization").do((function(){t.config=t.core.getComponent("config"),t.public.setState("loaded"),t.emiter.reached("componentInitialized")})).once().withHistory().onSequence([this.eventManager.sdk.configReady])}var hw=n(64),pw=function(){var t,e=this.config.data.user.salt;return(null===(t=window.__pix2)||void 0===t?void 0:t.getUUID)?hw(e+window.__pix2.getUUID()):""};function fw(){return this.info.state}var vw=function(){function t(){c()(this,t)}return g()(t,[{key:"getId",value:function(){}}]),t}(),gw=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"core",void 0),d()(this,"eventManager",void 0),d()(this,"config",void 0),d()(this,"event",void 0),d()(this,"public",{getId:pw.bind(this),getState:fw.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"info",{name:"user",state:"unknown"}),d()(this,"init",lw.bind(this)),C(this,this.public,"name","info"),p(this.public,[new vw,new Xe]),this.core=e,this.init(),this.public},mw=function(){function t(){c()(this,t)}return g()(t,[{key:"getConsensString",value:function(){}}]),t}();function bw(){this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.storage=this.core.getComponent("storage"),this.public.setState("loaded"),this.bindEvents(),this.detectFramework()}function yw(){var t;return null===(t=this.framework)||void 0===t?void 0:t.getConsensString()}function Aw(){return this.info.state}var ww=function(){function t(){c()(this,t)}return g()(t,[{key:"getConsensString",value:function(){}}]),t}();function kw(){this.storage=this.core.getComponent("storage"),this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.tcf=window.__cmp,this.config=this.core.getComponent("config"),this.start()}function Ew(){return this.consensString}function Cw(){return _w.apply(this,arguments)}function _w(){return(_w=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.storage.useSpace("adRequest"),t.prev=1,t.next=4,this.waitForTCFData();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),this.emiter.reached("TCF2.0Error:error,gdpr",{error:t.t0});case 9:this.emiter.reached("gdprData:gdpr",this.consensString),this.hasSomeDisapproves=this.hasSomeDisapproves()?1:0,e.gdprconsentstr=this.consensString,e.gdprconsent=this.consensString?this.hasSomeDisapproves:void 0,this.eventManager.gdpr.consentDataReady.reached();case 14:case"end":return t.stop()}}),t,this,[[1,6]])})))).apply(this,arguments)}function Sw(){var t=[],e=[],n=!1;return this.tcf("getVendorList",null,(function(n){Array.isArray(n)&&(n.vendors.forEach((function(e){t[e.id]=!0})),n.purposes.forEach((function(t){e[t.id]=!0})))})),this.tcf("getVendorConsents",null,(function(i){var r=i.vendorConsents,o=i.purposeConsents,a=t.filter((function(t,e){return!r[e]})),s=e.filter((function(t,e){return!o[e]}));n=!(!a.length&&!s.length)})),n}function xw(){var t,e=this,n=null===(t=this.config.data.gdpr)||void 0===t?void 0:t.timeout;return new Ms({timeout:n,action:function(t,n){e.tcf("getConsentData",null,(function(n){e.consensString=n.consentData,t()}))}}).run()}var Tw=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"gdprData",{}),d()(this,"consensString",void 0),d()(this,"hasSomeDisapproves",void 0),d()(this,"tcf",void 0),d()(this,"config",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"storage",void 0),d()(this,"public",{getConsensString:Ew.bind(this)}),d()(this,"init",kw.bind(this)),d()(this,"start",Cw.bind(this)),d()(this,"waitForTCFData",xw.bind(this)),d()(this,"hasSomeDisapproves",Sw.bind(this)),this.core=e,p(this.public,[new ww]),this.init(),this.public};function Rw(){this.storage=this.core.getComponent("storage"),this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.config=this.core.getComponent("config"),this.tcf=window.__tcfapi,this.start()}function Ow(){return this.consensString}function Mw(){return Iw.apply(this,arguments)}function Iw(){return(Iw=Es()(ws.a.mark((function t(){var e;return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.storage.useSpace("adRequest"),t.prev=1,t.next=4,this.waitForTCFData();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),this.consensString=void 0,this.emiter.reached("TCF2.0Error:error,gdpr",{error:t.t0});case 10:this.consensString&&(e.gdpr=1,e.gdpr_consent=this.consensString),this.emiter.reached("gdprData:gdpr",this.consensString),this.eventManager.gdpr.consentDataReady.reached();case 13:case"end":return t.stop()}}),t,this,[[1,6]])})))).apply(this,arguments)}function Dw(){var t,e=this,n=null===(t=this.config.data.gdpr)||void 0===t?void 0:t.timeout;return new Ms({timeout:n,action:function(t,n){e.tcf("getInAppTCData",2,(function(i,r){r?(e.consensString=null==i?void 0:i.tcString,t()):n(new Error("No consens data from getInAppTCData"))}))}}).run()}var Pw=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"gdprData",{}),d()(this,"consensString",void 0),d()(this,"hasSomeDisapproves",void 0),d()(this,"tcf",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"storage",void 0),d()(this,"public",{getConsensString:Ow.bind(this)}),d()(this,"init",Rw.bind(this)),d()(this,"start",Mw.bind(this)),d()(this,"waitForTCFData",Dw.bind(this)),this.core=e,p(this.public,[new ww]),this.init(),this.public};function Lw(){var t=this.storage.useSpace("adRequest");switch(window.__tcfapi?2:window.__cmp?1:void 0){case 1:return this.emiter.reached("tcfDetected","1.1"),void(this.framework=new Tw(this.core));case 2:return this.emiter.reached("tcfDetected","2.0"),void(this.framework=new Pw(this.core))}this.emiter.reached("tcfNoDetected"),t.gdpr=void 0,t.gdpr_consent=void 0,t.gdpr_consent=void 0,t.gdprconsentstr=void 0,this.eventManager.breakManager.gdprUnlock.reached()}function jw(){}var Bw=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"framework",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"storage",void 0),d()(this,"public",{name:void 0,getConsensString:yw.bind(this),getState:Aw.bind(this),setState:Je.bind(this)}),d()(this,"info",{name:"gdpr",state:"unknown"}),d()(this,"init",bw.bind(this)),d()(this,"bindEvents",jw.bind(this)),d()(this,"detectFramework",Lw.bind(this)),this.core=e,C(this,this.public,"name","info"),p(this.public,[new mw,new Xe]),this.init(),this.public};function Nw(t){var e,n,i,r,o,a,s,c,u,d,l,h,p,f,v=t.getJson(),g=null==v||null===(e=v.VAST)||void 0===e||null===(n=e.Ad)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.InLine,m=null==g||null===(r=g.Creatives)||void 0===r||null===(o=r.Creative)||void 0===o||null===(a=o[0])||void 0===a||null===(s=a.NonLinearAds)||void 0===s?void 0:s.NonLinear;this.impressions=null==g||null===(c=g.Impression)||void 0===c?void 0:c.map((function(t){return t._cdata?t._cdata:t._text})),this.img=null==m||null===(u=m.StaticResource)||void 0===u||null===(d=u._cdata)||void 0===d?void 0:d.trim(),this.clickPath=null==m||null===(l=m.NonLinearClickThrough)||void 0===l||null===(h=l._cdata)||void 0===h?void 0:h.trim(),this.width=parseInt(null==m||null===(p=m._attributes)||void 0===p?void 0:p.width),this.height=parseInt(null==m||null===(f=m._attributes)||void 0===f?void 0:f.height),this.emiter.reached("restboardDataReady")}function Fw(){this.isRestboardAvailable()&&(this.eventManager.adContainer.showRequest.reached(),this.sdkFrame.show(),this.adContainer.setStyle("width","0"),this.adContainer.setStyle("height","0"),this.adContainer.setStyle("overflow","visible"),this.adContainer.setStyle("background","transparent"),this.rescale())}function qw(){this.isRestboardAvailable()&&(this.eventManager.adContainer.hideRequest.reached(),this.sdkFrame.hide())}function Vw(){if(this.isRestboardAvailable()){var t=this.player.width(),e=this.player.height(),n=this.sdkFrame.getCli(),i=t/2<this.width?t/2:this.width,r=e<this.height?e:this.height,o=t/2,a=t/4-i/2,s=e/2-r/2;this.sdkFrame.setStyle("left","".concat(o,"px")),this.sdkFrame.setStyle("width","".concat(t/2,"px")),this.sdkFrame.setStyle("height","".concat(e,"px")),n.commands.imgWidth(i),n.commands.imgHeight(r),n.commands.imgLeft(a>0?a:0),n.commands.imgTop(s>0?s:0)}}function Uw(){var t=this,e=this.sdkFrame.getCli();e.commands.width=function(e){return t.sdkFrame.setStyle("width",e.data)},e.commands.height=function(e){return t.sdkFrame.setStyle("height",e.data)},e.commands.imgWidth=function(e){t.sdkFrame.command("exec","window.restboardWrapper.style.width = '".concat(e,"px';"))},e.commands.imgHeight=function(e){t.sdkFrame.command("exec","window.restboardWrapper.style.height = '".concat(e,"px';"))},e.commands.imgLeft=function(e){t.sdkFrame.command("exec","window.restboardWrapper.style.left = '".concat(e,"px';"))},e.commands.imgTop=function(e){t.sdkFrame.command("exec","window.restboardWrapper.style.top = '".concat(e,"px';"))},this.sdkFrame.setStyle("backgroundColor","rgba(0,0,0,0.7)"),this.sdkFrame.command("exec","\n    const restboardWrapper = document.createElement('a');\n    const ad = document.createElement('img');\n    const title = document.createElement('p');\n    const body = document.body;\n\n    title.style.color = '#fff';\n    title.style.opacity = \"0.7\";\n    title.style.fontFamily = 'source-sans-pro,sans-serif';\n    title.style.fontSize = '11px';\n    title.style.margin = '3px 0';\n    title.innerHTML = 'REKLAMA';\n\n    restboardWrapper.target = 'blank';\n    restboardWrapper.href = '".concat(this.clickPath,"';\n\n    restboardWrapper.style.position = 'absolute';\n    restboardWrapper.style.display = 'flex';\n    restboardWrapper.style.flexDirection = 'column';\n    restboardWrapper.style.textDecoration = 'none';\n    restboardWrapper.style.boxSizing = 'border-box';\n    restboardWrapper.style.justifyContent = 'center';\n    restboardWrapper.style.alignItems = 'center';\n    restboardWrapper.style.zIndex = '99';\n    restboardWrapper.style.cursor = 'pointer';\n    restboardWrapper.style.padding = '10px 12px';\n\n    ad.src = '").concat(this.img,"';\n    ad.id = 'ad';\n    ad.style.width = '100%';\n    ad.style.height = '100%';\n\n    restboardWrapper.appendChild(title);\n    restboardWrapper.appendChild(ad);\n\n    body.style.margin = '0px';\n    body.style.padding = '0px';\n    body.appendChild(restboardWrapper);\n    window.restboardWrapper = restboardWrapper;\n  "))}function Ww(){var t=Kr(this.core);return!(!this.img||t)}function zw(){var t=this;if(this.isRestboardAvailable()){var e={credentials:"include",mode:"no-cors"};this.impressions.forEach((function(n){return t.http.fetch(n,e)}))}}function Hw(){var t=this.adContainer.getSpecialLayer();return this.sdkFrame=new Df,this.sdkFrame.create(t)}function Qw(){var t=this;this.eventManager=this.core.getComponent("eventManager"),this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(),this.event.onSequence({history:!0,events:["componentRegistered:http","componentRegistered:adContainer","componentRegistered:player"],action:function(){t.adContainer=t.core.getComponent("adContainer"),t.player=t.core.getComponent("player"),t.http=t.core.getComponent("http"),t.bindEvents()}})}function Kw(){return this.info.state}function Yw(){var t,e=this;this.event.onOneOf({events:["restboardDataReady"],action:(t=Es()(ws.a.mark((function t(){return ws.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createRestboardFrame();case 2:e.applyCLI(),e.event.onOneOf({events:["playing:contentFlow"],action:e.hide}),e.event.onOneOf({events:["paused:contentFlow"],action:function(){e.show(),e.sendImpressions()}}),e.event.onOneOf({events:["sizeChangeRequest"],action:e.rescale});case 6:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})}var Gw=function(){function t(){c()(this,t)}return g()(t,[{key:"getState",value:function(){}},{key:"setState",value:function(){}},{key:"name",get:function(){}},{key:"restboardData",get:function(){}}]),t}(),Jw=function t(e){return c()(this,t),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"player",void 0),d()(this,"adContainer",void 0),d()(this,"http",void 0),d()(this,"impressions",[]),d()(this,"img",void 0),d()(this,"clickPath",void 0),d()(this,"width",void 0),d()(this,"height",void 0),d()(this,"emiter",void 0),d()(this,"sdkFrame",void 0),d()(this,"public",{name:void 0,restboardData:null,getState:Kw.bind(this),setState:Je.bind(this)}),d()(this,"info",{name:"restboard",state:"unknown",setRestboardData:Nw.bind(this)}),d()(this,"bindEvents",Yw.bind(this)),d()(this,"init",Qw.bind(this)),d()(this,"applyCLI",Uw.bind(this)),d()(this,"rescale",Vw.bind(this)),d()(this,"show",Fw.bind(this)),d()(this,"hide",qw.bind(this)),d()(this,"isRestboardAvailable",Ww.bind(this)),d()(this,"sendImpressions",zw.bind(this)),d()(this,"createRestboardFrame",Hw.bind(this)),this.core=e,C(this,this.public,"name","info"),_(this,this.public,"restboardData","info"),p(this.public,[new Gw,new Xe]),this.init(),this.public};function Zw(){var t,e=null===(t=this.waterfallStartingPoint)||void 0===t?void 0:t.getTime(),n=this.waterfallInitializationTime;return(e&&n?e-n:0)+(e?Date.now()-e:0)}function Xw(){var t=this;this.event.onOneOf({events:["breakSequenceStarted:breakManager","completed:adFlow"],action:function(){t.waterfallStartingPoint=new Date}}),this.event.onOneOf({events:["completed:adFlow"],action:function(){t.waterfallInitializationTime=void 0}}),this.event.onOneOf({events:["started:adFlow"],action:function(){t.waterfallStartingPoint=void 0}})}function $w(){var t,e=this.core.getEnv();this.event=this.core.getComponent("event"),this.emiter=this.event.emiter(this.public),this.waterfallInitializationTime=null==e||null===(t=e.startTime)||void 0===t?void 0:t.getTime(),this.bindEvents()}var tk=function(){function t(){c()(this,t)}return g()(t,[{key:"waterfallDuration",get:function(){}}]),t}(),ek=function t(e){return c()(this,t),d()(this,"emiter",void 0),d()(this,"waterfallDuration",void 0),d()(this,"waterfallStartingPoint",void 0),d()(this,"waterfallInitializationTime",void 0),d()(this,"core",void 0),d()(this,"event",void 0),d()(this,"public",{name:void 0}),d()(this,"setget",{name:"waterfallTime",getWaterfallDuration:Zw.bind(this)}),d()(this,"init",$w.bind(this)),d()(this,"bindEvents",Xw.bind(this)),this.core=e,C(this,this.public,"name"),C(this,this.public,"waterfallDuration"),p(this.public,[new tk,new m]),this.init(),this.public};function nk(){var t,e,n,i,r,o,a,s,c,u,d,l,h,p,f,v,g,m;this.components.eventManager=new qr,this.components.eventManager.build(this.sdkPublic),this.registerComponent(new gn(this.sdkPublic)),this.components.sentryLogger=new Ym,this.components.sentryLogger.build(this.sdkPublic),this.registerComponent(new En(this.sdkPublic)),this.registerComponent(new ba(this.sdkPublic)),this.registerComponent(new gw(this.sdkPublic)),this.registerComponent(new Tn(this.sdkPublic)),this.registerComponent(new Db(this.sdkPublic)),this.registerComponent(new Ca(this.sdkPublic)),this.registerComponent(new Qa(this.sdkPublic)),this.registerComponent(new ms(this.sdkPublic)),this.registerComponent(new OA(this.sdkPublic)),this.registerComponent(new Bs(this.sdkPublic)),this.registerComponent(new Us(this.sdkPublic)),this.registerComponent(new Rf(this.sdkPublic)),this.sdkPublic.registerComponent(new vA(this.sdkPublic),"storage"),this.sdkPublic.registerComponent(new EA(this.sdkPublic),"config"),this.components.logger=new Ur,this.components.logger.build(this.sdkPublic),this.components.adapter=new ic,this.components.adapter.build(this.sdkPublic),this.components.adapter.setAdapter(this.adapter),this.components.sdk=new qn,this.components.sdk.build(this.sdkPublic),this.components.error=new ac,this.components.error.build(this.sdkPublic),this.sdkPublic.registerComponent(new Ef(this.sdkPublic),"adsLoader"),this.sdkPublic.registerComponent(new bb(this.sdkPublic),"breakManager"),this.components.adsManager=new rh(this.sdkPublic),this.components.adContainer=new _f,this.components.adContainer.build(this.sdkPublic),this.registerComponent(new iA(this.sdkPublic)),this.components.selloutReporting=new aA,this.components.selloutReporting.build(this.sdkPublic),this.components.viewability=new Ov,this.components.viewability.build(this.sdkPublic),this.components.autoplayDetector=new PA,this.components.autoplayDetector.build(this.sdkPublic),this.components.platformDetector=new Lv,this.components.platformDetector.build(this.sdkPublic),this.sdkPublic.registerComponent(new qA(this.sdkPublic),"cookieMatching"),this.components.monitoring=new cy,this.components.monitoring.initialize(this.sdkPublic),this.components.privacyDetector=new wb,this.components.privacyDetector.build(this.sdkPublic),this.sdkPublic.registerComponent(new Bw(this.sdkPublic),"gdpr"),this.sdkPublic.registerComponent(new Jw(this.sdkPublic),"restboard"),this.components.adPlayer=new Zl(this.sdkPublic),this.sdkPublic.registerComponent(new ny(this.sdkPublic),"monitoringUx"),this.components.cta=new vy(this.sdkPublic),this.sdkPublic.registerComponent(new Jy(this.sdkPublic),"ivc"),this.registerComponent(new ek(this.sdkPublic)),(null===(t=this.adapter)||void 0===t||null===(e=t.sdk)||void 0===e||null===(n=e.config)||void 0===n||null===(i=n.call(e))||void 0===i||null===(r=i.layers)||void 0===r||null===(o=r.adControls)||void 0===o?void 0:o.enabled)&&(this.components.adControls=new $f,this.components.adControls.build(this.sdkPublic)),(null===(a=this.adapter)||void 0===a||null===(s=a.sdk)||void 0===s||null===(c=s.config)||void 0===c||null===(u=c.call(s))||void 0===u||null===(d=u.layers)||void 0===d||null===(l=d.adCounter)||void 0===l?void 0:l.enabled)&&(this.components.adCounter=new ev,this.components.adCounter.build(this.sdkPublic)),(null===(h=this.adapter)||void 0===h||null===(p=h.sdk)||void 0===p||null===(f=p.config)||void 0===f||null===(v=f.call(p))||void 0===v||null===(g=v.layers)||void 0===g||null===(m=g.additionalText2)||void 0===m?void 0:m.enabled)&&(this.components.additionalText2=new iv,this.components.additionalText2.build(this.sdkPublic)),this.components.adControls=new sv,this.components.adControls.build(this.sdkPublic),this.sdkPublic.registerComponent(new dw(this.sdkPublic),"overlay"),this.sdkPublic.registerComponent(new Ys(this.sdkPublic),"continueWatching")}function ik(){return this.info.state}function rk(){}function ok(){Array.isArray(window.ATSDKDEBUG)||(window.ATSDKDEBUG=[]),window.ATSDKDEBUG.push(this),this.startTime=new Date}var ak=function(){function t(){c()(this,t)}return g()(t,[{key:"reset",value:function(){}},{key:"getEnv",value:function(){}},{key:"getComponent",value:function(t){}},{key:"registerComponent",value:function(t,e){}},{key:"getConfig",value:function(){}}]),t}(),sk=function t(e){return c()(this,t),d()(this,"components",{}),d()(this,"adapter",void 0),d()(this,"emiter",void 0),d()(this,"startTime",void 0),d()(this,"event",void 0),d()(this,"sdkPublic",{reset:y.bind(this),getEnv:A.bind(this),getComponent:w.bind(this),registerComponent:k.bind(this),getConfig:E.bind(this),getState:ik.bind(this),setState:Je.bind(this),name:void 0}),d()(this,"sharedInit",tn.bind(this)),d()(this,"init",ok.bind(this)),d()(this,"registerComponent",b.bind(this)),d()(this,"bindEvents",rk.bind(this)),d()(this,"loadComponents",nk.bind(this)),d()(this,"setget",{name:"core"}),C(this,this.sdkPublic,"name"),p(this.sdkPublic,[new ak,new Xe]),this.adapter=e,this.init(),this.sharedInit(),this.sdkPublic.getComponent("api").getExternalApi()};window.AdSDK=sk,void 0===window.AdTechSDK&&(window.AdTechSDK=sk)}]);