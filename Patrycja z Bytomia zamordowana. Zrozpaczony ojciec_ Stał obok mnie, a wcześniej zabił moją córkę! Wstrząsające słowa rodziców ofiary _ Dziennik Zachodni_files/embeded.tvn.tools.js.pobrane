(function () { try{
void 0===window.TVNTools&&(window.TVNTools=function(){},window.TVNTools.config={},window.TVNTools.build={build:"91",branch:"v1.15.1",env:"tvn-tools",host:"tools.services.tvn.pl",requestUrl:"/embeded.tvn.tools.js"}),function(e){e.myModules=new function(){var o={},n={};this.addModule=function(e){o[e.config.name]=e},this.addExpect=function(e){n[e]=!0},this.selfTest=function(){for(var r in n)if(void 0!==o[r])try{o[r].introduceSelf()}catch(n){e.log("Module error: ","error"),e.log(o[r])}else e.log("Module "+r+" does not respond: ","error")}},e.BaseModule=function(){},e.BaseModule.create=function(){var o=function(){};return(o=new o).selfTest=function(){return!0},o.introduceSelf=function(){e.log("Module "+this.config.name+" "+this.config.version+" present.","info")},o.getVersion=function(){try{return this.config.version}catch(e){return"no info"}},o.getName=function(){try{return this.config.name}catch(e){return"no info"}},o},e.canModuleInit=function(o){var n="undefined";try{if(!(o.name.length>0))throw"";n=o.name}catch(n){return e.log("Can't init module. config.name is not set.","error"),e.log(o,"error"),!1}if("object"==typeof o.dependencies)try{for(var r in o.dependencies)try{if(!o.dependencies[r]())throw""}catch(o){return e.log('Dependency "'+r+'" for '+n+" not satisfied.","error"),!1}}catch(o){return e.log("Can't check dependencies for "+n,"error"),!1}try{return e[n].selfTest()?e.log("Can't init module. Module exist.","error"):e.log("Can't init module. Module exist, but is broken.","error"),!1}catch(n){return e.myModules.addExpect(o.name),!0}},e.createModule=function(o,n){if("function"!=typeof n&&e.log("Can't init module. Module core broken.","error"),e.canModuleInit(o))try{void 0!==e[o.name]&&"object"==typeof e[o.name].config&&(o[o.name]=e[o.name].config);var r=e[o.name]={};r.__proto__=e.BaseModule.create(),r.config=o,e.myModules.addModule(r),n(r),r.selfTest()||e.log("Module "+o.name+" selfTest error.","error")}catch(n){e.log("Can't create module "+o.name,"error")}}}(window.TVNTools);}catch(e){console.error(e)}})(window);(function () { try{
!function(o){o.createModule({version:"v1.0.0",name:"log",log:{error:!0,warn:!0,info:!0}},function(n){o.log=function(n,e){o.log.log(n,e)},o.log.console={},o.log.console.log=function(){},o.log.console.warn=function(){},o.log.console.error=function(){},void 0!==window.console&&void 0!==window.console.log&&(o.log.console.log=window.console.log),void 0!==window.console&&void 0!==window.console.warn&&(o.log.console.warn=window.console.warn),void 0!==window.console&&void 0!==window.console.error&&(o.log.console.error=window.console.error),o.log.create=function(n){var e=function(){};return(e=new e).getPrefix=function(){var n,e=new Date;try{n="("+o.tools.TVNToolsGetVersion()+")"}catch(o){n=" (no version available)"}return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" +"+e.getMilliseconds()+" | TVNTools "+n+" | "+this.config.name+" | "},e.__proto__=o.BaseModule.create(),e.log=function(n,r){switch(r){case"error":this.config.log.error&&o.log.console.error(e.getPrefix()+n);break;case"warn":this.config.log.warn&&o.log.console.warn(e.getPrefix()+n);break;default:this.config.log.info&&o.log.console.log(e.getPrefix()+n)}},e.error=function(o){e.log(o,"error")},e.warn=function(o){e.log(o,"warn")},void 0!==n?(e.config=n,e.config.__proto__=this.config,e.config.log.__proto__=this.config.log):e.config=this.config,e},o.log.config=n.config,o.log.__proto__=o.log.create()})}(window.TVNTools);}catch(e){console.error(e)}})(window);(function () { try{
!function(o){o.createModule({TVNToolsVersion:"v1.15.1",version:"v1.0.0",name:"tools",dependencies:{},log:{error:!0,warn:!0,info:!1}},function(n){n.logger=o.log.create(n.config),n.TVNToolsGetVersion=function(){try{return this.config.TVNToolsVersion}catch(o){return"no info"}},n.introduceSelf=function(){o.log("Module "+n.config.name+" "+n.config.version+" present. TVNTools version: "+n.config.TVNToolsVersion,"info")}})}(window.TVNTools);}catch(e){console.error(e)}})(window);(function () { try{
!function(e){e.createModule({version:"v1.1.0",name:"benchmark",dependencies:{modules:function(){return!!e.log.selfTest()}},log:{error:!0,warn:!0,info:!0}},function(n){n.logger=e.log.create(n.config);var o=new Date,t=new function(){var e={};this.getSlot=function(n){return void 0!==e[n]?e[n]:(e[n]=new t,e[n])};var t=function(){var e=[],t=o;this.addPoint=function(n,o){void 0===o&&(o="default"),void 0===e[o]&&(e[o]=[]);var t=new i;t.label=n,e[o].push(t)},this.results=function(){var e=r();for(var o in e){var i=0;for(var a in e[o]){var l=e[o][a],u=l.time.getTime();0==a&&(i=u,n.logger.log("GROUP "+o+" STARTED "+(i-t.getTime())+"ms after TVNTools.")),n.logger.log(l.label+": "+(u-i)+"ms after group started.")}n.logger.log("\n")}};var r=function(){return e},i=function(){this.time=new Date,this.label="undefined"}}};n.slot=function(e){return t.getSlot(e)}})}(window.TVNTools);}catch(e){console.error(e)}})(window);(function () { try{
!function(e){e.createModule({version:"v1.0.1",name:"ajax",dependencies:{modules:function(){return!!e.log.selfTest()}},log:{error:!0,warn:!0,info:!0},ajax:{timeout:3e3,timeOffset:0,withCredentials:0,responseType:"text"}},function(o){o.logger=e.log.create(o.config),e.ajax.create=function(o){var t=function(o){var n=new XMLHttpRequest;n.withCredentials=!0,this.getXHR=function(){return n},this.getConfig=function(){return r};var r=o;void 0===r&&(r={}),r.__proto__=e.ajax.config.ajax,n.timeout=r.timeout,n.responseType=r.responseType,n.withCredentials=r.withCredentials,n.onload=function(){200===this.status?(TVNTools.ajax.logger.log(this.responseURL+" loaded"),t.onload(this)):n.error()},n.error=function(){TVNTools.ajax.logger.log("error","error"),t.error()},n.ontimeout=function(){TVNTools.ajax.logger.log("timeout","warn"),t.ontimeout()}};return(t=new t(o)).__proto__=e.BaseModule.create(),t.requestUrl=function(e){try{var o=t.getConfig();if(void 0!==o&&void 0!==o.timeOffset&&o.timeOffset>0)setTimeout(function(){var o=t.getXHR();o.open("GET",e,!0),o.send()},o.timeOffset);else{var n=t.getXHR();n.open("GET",e,!0),n.send()}}catch(e){this.error()}},t.onload=function(){},t.error=function(){},t.ontimeout=function(){},t}})}(window.TVNTools);}catch(e){console.error(e)}})(window);(function () { try{
!function(e){e.createModule({version:"v1.0.0",name:"storage",dependencies:{modules:function(){return!!e.log.selfTest()}},log:{error:!0,warn:!0,info:!0},storage:{browserSupport:!0}},function(o){o.logger=e.log.create(o.config),"object"!=typeof window.localStorage&&(o.config.storage.browserSupport=!1,o.logger.log("browser doesn't support localStorace.","error")),o.add=function(e,r,t){if(o.config.storage.browserSupport)if(r=JSON.stringify(r),void 0===t)localStorage.setItem(e,r);else{var l=JSON.parse(localStorage.getItem(t));null===l&&(l={}),l[e]=r,localStorage.setItem(t,JSON.stringify(l))}},o.remove=function(e,r){if(o.config.storage.browserSupport)if(void 0===r)localStorage.removeItem(e);else{var t=JSON.parse(localStorage.getItem(r));t[e]=void 0,localStorage.setItem(r,JSON.stringify(t))}},o.get=function(e,r){if(!o.config.storage.browserSupport)return null;var t;if(void 0===r)t=JSON.parse(localStorage.getItem(e));else{var l=JSON.parse(localStorage.getItem(r));t=null!==l&&void 0!==l[e]?JSON.parse(l[e]):null}return t}})}(window.TVNTools);}catch(e){console.error(e)}})(window);if(void 0===TVNToolsTerminator)var TVNToolsTerminator={terminate:!1};!function(e,o){e.createModule({version:"v1.0.0",name:"redirector",dependencies:{modules:function(){return localStorage&&"function"==typeof e&&void 0!==o&&e.log.selfTest(),!!e.storage.selfTest()}},log:{error:!0,warn:!1,info:!1}},function(t){var r=TVNTools.storage.get("config.log","TVNTools.redirector");if(null!==r&&(t.config.log=r),t.logger=e.log.create(t.config),t.logger.log("Module started"),o.terminate)o.terminate=!1;else try{var l=localStorage.getItem("TVNTools.redirector"),n=JSON.parse(l),i=JSON.parse(n.endpoint);if("string"==typeof i.from&&i.from.length>0&&"string"==typeof i.to&&i.to.length>0){var g=location.protocol+"//"+window.TVNTools.build.host+window.TVNTools.build.requestUrl,a=new RegExp(i.from.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")),s=i.to;if("string"==typeof g&&s){s=g.replace(a,s);var c=document.createElement("script"),d=document.getElementsByTagName("head")[0];c.src=s,d.insertBefore(c,d.firstChild),o.terminate=!0,t.logger.log("Redirected to: "+c.src)}}}catch(e){o.terminate=!1}o.terminate||t.logger.log("Nothing to redirect.")})}(window.TVNTools,TVNToolsTerminator);if(TVNToolsTerminator.terminate)throw"undefined"!=typeof window&&(window.TVNTools=void 0),new Error("TVNTools terminated by TVNTools.redirector.");(function () { try{
window.TvnTools_BrowserPrivateMode=!1,window.TvnTools_BrowserEngine="",function(){function e(e,o){var n=0,t=!1,r=window.setInterval(function(){e()&&(window.clearInterval(r),o(t)),n++>50&&(window.clearInterval(r),o(t=!0))},10)}!function(o){var n;if(!window.webkitRequestFileSystem||"undefined"!=typeof browser&&"webkit"!=browser){if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var t;TvnTools_BrowserEngine="ff";try{t=window.indexedDB.open("test")}catch(e){n=!0}void 0===n&&e(function(){return"done"===t.readyState},function(e){e||(n=!t.result)})}else if(function(e){var o=e.toLowerCase();if(0===o.indexOf("msie")&&0===o.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(o);return!!(n&&parseInt(n[1],10)>=10)}(window.navigator.userAgent)){TvnTools_BrowserEngine="ie",n=!1;try{window.indexedDB||(n=!0)}catch(e){n=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){TvnTools_BrowserEngine="safari";try{window.localStorage.setItem("test",1)}catch(e){n=!0}void 0===n&&(n=!1,window.localStorage.removeItem("test"))}}else TvnTools_BrowserEngine="webkit",window.webkitRequestFileSystem(window.TEMPORARY,1,function(){n=!1},function(e){console.log(e),n=!0});e(function(){return void 0!==n},function(e){o(n)})}(function(e){window.TvnTools_BrowserPrivateMode=e,e&&("undefined"==typeof tvnToolsForGemius||"undefined"!=typeof tvnToolsForGemius&&tvnToolsForGemius.enabled&&tvnToolsForGemius.host)&&function(){if(0===pp_gemius_extraparameters.length){pp_gemius_extraparameters.push("adbl=2");try{TVNTools.gTraffic.logger.log("Add gTraffic param: adbl=2")}catch(e){}}else{var e=pp_gemius_extraparameters.join("/").replace("adbl=","adbl=2,");pp_gemius_extraparameters=e.split("/");try{TVNTools.gTraffic.logger.log("Replace gTraffic param adbl= to adbl=2,")}catch(e){}try{window.TVNTools.gemiusRequest.modifier.check()}catch(e){}}}()})}();}catch(e){console.error(e)}})(window);(function () { try{
try{"undefined"!=typeof window&&void 0!==window.TVNTools&&(window.TVNTools.altGTrafficUrl="//rcontent.services.tvn.pl/sweqevub.js",window.TVNTools.altGStreamUrl="//rcontent.services.tvn.pl/gstream.js")}catch(o){TVNTools.log("Error loading default gemius redirection config")}}catch(e){console.error(e)}})(window);(function () { try{
window.pp_gemius_extraparameters=window.pp_gemius_extraparameters||[],function(){var e,a,r,t;("undefined"==typeof tvnToolsForGemius||"undefined"!=typeof tvnToolsForGemius&&tvnToolsForGemius)&&(e="//tools.services.tvn.pl/_ads/_advert.js",a=function(e){for(var a in e=e||0,pp_gemius_extraparameters)if(-1!==pp_gemius_extraparameters[a].indexOf("adbl="))if(-1===pp_gemius_extraparameters[a].indexOf("adbl=2")){window.pp_gemius_extraparameters[a]="adbl="+e;try{TVNTools.gTraffic.logger.log("Add gTraffic param adbl= "+e)}catch(e){}}else if(-1!==pp_gemius_extraparameters[a].indexOf("adbl=2")){window.pp_gemius_extraparameters[a]="adbl=2,"+e;try{TVNTools.gTraffic.logger.log("Add gTraffic param adbl=2,"+e)}catch(e){}}try{window.TVNTools.gemiusRequest.modifier.check()}catch(e){}},r=document.createElement("script"),t=document.getElementsByTagName("head")[0],r.src=e,t.insertBefore(r,t.firstChild),r.readyState?r.onreadystatechange=function(){"complete"!==r.readyState&&"loaded"!==r.readyState||("undefined"!=typeof ADBL_TRAFFIC?a(0):a(1),r.onreadystatechange=null)}:(r.onload=function(e){a(0)},r.onerror=function(e){a(1)}))}();}catch(e){console.error(e)}})(window);(function () { try{
TVNTools.timer=function(){var n=this,t=null,e=null,l=0;n.start=function(){null===t&&(t=new Date,e=null)},n.stop=function(){if(null!==t){var n=(e=new Date).getTime()-t.getTime();t=null,l+=n}},n.reset=function(){t=null,e=null,l=0},n.getValue=function(){if(!this.isRunning())return l;var n=(new Date).getTime()-t.getTime();return l+n},n.isRunning=function(){return null!==t&&null===e},n.alarmByValue=function(t,e){var l=this;l.alarmValue=t+1,l.timerInstance=n,this.callbackWrapper=function(n){var t=n.timerInstance.getValue(),l=n.alarmValue-t;l<=0?"function"==typeof e&&e():n.timeoutInstance=setTimeout(n.callbackWrapper.bind(null,n),l)},l.clear=function(){clearTimeout(l.timeoutInstance)},l.callbackWrapper(l)}};}catch(e){console.error(e)}})(window);(function () { try{
TVNTools.elementTracking=function(e,t){var n=this,i=e;n.measurements=new function(){var e=this;e.overall=new function(){var e=this,t=new TVNTools.timer;e.start=function(){t.start()},e.stop=function(){t.stop()},e.getResults=function(){return{trackingTime:e.getValue()}},e.getValue=function(){return t.getValue()},e.finish=function(){return e.getResults()}},e.dwell=new function(){var e=this,t=new TVNTools.timer,n=function(){t.start()},r=function(){t.stop()};e.start=function(){i.addEventListener("mouseleave",r),i.addEventListener("mouseover",n)},e.stop=function(){t.stop(),i.removeEventListener("mouseleave",n),i.removeEventListener("mouseover",r)},e.getResults=function(){return{mouseover:t.getValue()}},e.finish=function(){var o=e.getResults();return t.stop(),i.removeEventListener("mouseleave",n),i.removeEventListener("mouseover",r),o}},e.onScreenTimeTracking=new function(){var n=this,s=!1,u={visibility:100,requireTime:2e3},c=null,a=!0,l=function(){try{return window.self!==window.top}catch(e){return!0}},m=new Event("iframePercentReachEvent"),h=new Event("iframePercentUnReachEvent"),v={root:null,rootMargin:"0px",threshold:[],threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},f=new IntersectionObserver(function(e){e[0].intersectionRatio>t.inscreenPercent/100?document.dispatchEvent(m):document.dispatchEvent(h)},v);l()&&(document.querySelector("html").style.height="100%",document.querySelector("body").style.height="100%"),f.observe(document.querySelector("body"));var d=new TVNTools.timer,g=new TVNTools.timer,w=new TVNTools.timer,p=new TVNTools.timer,T=!1,E=null,L=function(){l()&&n.isIframeOnScreen()&&a?(p.start(),d.start(),g.stop(),w.stop()):l()&&!n.isIframeOnScreen()&&a?(p.reset(),d.stop(),g.start(),w.stop()):!l()&&a&&n.isOnScreen()?(p.start(),d.start(),g.stop(),w.stop()):l()||!a||n.isOnScreen()?a||(p.reset(),d.stop(),g.stop(),w.start()):(p.reset(),d.stop(),g.start(),w.stop())},S=function(){a=!a,L()},y=function(){s=!0,L()},b=function(){s=!1,L()};n.init=function(t){try{"object"==typeof t&&(u={visibility:parseInt(t.inscreenPercent),requireTime:1e3*parseInt(t.inscreenTime)}),p.alarmByValue(u.requireTime,function(){T=!0,E=e.overall.getValue()})}catch(e){}},n.start=function(e){i.addEventListener("resize",L),window.addEventListener("scroll",L),window.addEventListener("resize",L),document.addEventListener("visibilitychange",S,!1),document.addEventListener("iframePercentReachEvent",y,!1),document.addEventListener("iframePercentUnReachEvent",b,!1),L()},n.stop=function(){d.stop(),g.stop(),w.stop(),p.stop(),i.removeEventListener("resize",L),window.removeEventListener("scroll",L),window.removeEventListener("resize",L),document.removeEventListener("visibilitychange",S,!1),document.removeEventListener("iframePercentReachEvent",y,!1),document.removeEventListener("iframePercentUnReachEvent",b,!1)},n.isOnScreen=function(){r.recalculate();var e=r.getSize(),t=(r.getPosition(),e.height-e.height*(u.visibility/100)),n=e.width-e.width*(u.visibility/100),i=r.getTop()>=-t&&r.getLeft()>=-n&&r.getBottom()<=o.getHeight()+t&&r.getRight()<=o.getWidth()+n;return i||!c&&null!==c?!i||c&&null!==c||(c=!0):c=!1,i},n.isIframeOnScreen=function(){return s},n.getResults=function(){return{inscreenStart:E,inScreenTimer:d.getValue(),outScreenTimer:g.getValue(),otherTabTimer:w.getValue(),continuityInScreenTimer:p.getValue(),inscreenReached:T}},n.finish=function(){var e=n.getResults();return d.stop(),g.stop(),w.stop(),p.stop(),i.removeEventListener("resize",L),window.removeEventListener("scroll",L),window.removeEventListener("resize",L),window.removeEventListener("beforeunload",this.finish),f.unobserve(document.querySelector("body")),document.removeEventListener("visibilitychange",S,!1),e}}};var r=new function(){var e=this,t={left:null,top:null},n={width:null,height:null};this.getPosition=function(){return t},this.getSize=function(){return n},this.setPosition=function(e,n){t.left=e,t.top=n},this.setSize=function(e,t){n.width=e,n.height=t},this.getWidth=function(){return n.width},this.getHeight=function(){return n.height},this.getLeft=function(){return t.left},this.getRight=function(){return t.left+e.getWidth()},this.getTop=function(){return t.top},this.getBottom=function(){return t.top+e.getHeight()},this.recalculate=function(){var e=i.getBoundingClientRect();this.setPosition(e.left,e.top),this.setSize(e.right-e.left,e.bottom-e.top)}},o=new function(){this.getWidth=function(){return window.innerWidth||document.documentElement.clientWidth},this.getHeight=function(){return window.innerHeight||document.documentElement.clientHeight},this.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}}};this.finish=function(){return{overall:n.measurements.overall.finish(),onScreenTimeTracking:n.measurements.onScreenTimeTracking.finish(),dwell:n.measurements.dwell.finish()}},this.pause=function(){n.measurements.overall.stop(),n.measurements.onScreenTimeTracking.stop(),n.measurements.dwell.stop()},this.start=function(){n.measurements.overall.start(),n.measurements.onScreenTimeTracking.init(t),n.measurements.onScreenTimeTracking.start(),n.measurements.dwell.start()}};}catch(e){console.error(e)}})(window);