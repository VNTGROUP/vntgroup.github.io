!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.io=null,this.currentScript=null,this.sizeObject={},this.allWidths={},this.allFrames={},this.mobileRatio=1.5,this.framesRegExp={},this.isLoadedClass="lazyloaded"}return n(e,[{key:"init",value:function(){this.initVariables(),this.checkNodes()}},{key:"checkNodes",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||document.querySelectorAll(".lazyload:not(."+this.isLoadedClass+")"),i=0,n=t.length;i<n;i++){var r=t[i];if(!r.getAttribute("data-size-index")){var a=r.getAttribute("data-src"),s=r.getAttribute("data-bg"),o=r.offsetWidth,u=0!==o;if(a||s){var l=u?r.getAttribute("data-image-type"):"",c=u?this.allWidths[l]:[],d=u&&c?this.countImageSizeIndex(c,o):-1;this.addImageOnloadListener(r),this.imageIsVisible(r)?this.setImageSrc(r,d,l):u&&r.setAttribute("data-size-index",d)}}}}},{key:"initVariables",value:function(){var e=this;this.currentScript=this.getCurrentScript(),this.sizeObject=this.getAvailableSizes(this.currentScript),this.allWidths=this.getImageWidths(this.sizeObject),this.allFrames=this.getImageFrameNames(this.sizeObject,this.allWidths),"undefined"!=typeof IntersectionObserver&&(this.io=new IntersectionObserver(function(t){t.forEach(function(t){var i=t.target,n=i.dataset.imageType,r=i.dataset.sizeIndex;if(t.intersectionRatio>0){if(void 0===r){var a=i.offsetWidth,s=e.allWidths[n];r=s?e.countImageSizeIndex(s,a):-1}e.setImageSrc(i,r,n),e.io.unobserve(i)}})},{rootMargin:"60%"}))}},{key:"getCurrentScript",value:function(){return document.currentScript||document.querySelector("script[data-images-sizes]")}},{key:"getAvailableSizes",value:function(e){var t=e&&e.getAttribute("data-images-sizes");return t?JSON.parse(t):{}}},{key:"getImageWidths",value:function(e){return Object.keys(e).reduce(function(t,i){return t[i]=Object.keys(e[i]).map(function(e){return Number(e)}).sort(function(e,t){return e-t}),t},{})}},{key:"getImageFrameNames",value:function(e,t){return Object.keys(t).reduce(function(t,i){return t[i]=Object.values(e[i]),t},{})}},{key:"countImageSizeIndex",value:function(e,t){var i=t,n=window.devicePixelRatio;n&&n>1&&(i*=this.mobileRatio);var r=e.findIndex(function(e){return e>i});return r<0?e.length-1:r}},{key:"imageIsVisible",value:function(e){return!this.io||(this.io.observe(e),!1)}},{key:"addImageOnloadListener",value:function(e){var t=this;e.onload=function(){e.classList.add(t.isLoadedClass)}}},{key:"setImageSrc",value:function(e,t,i){var n=e.getAttribute("data-src"),r=this.allFrames[i],a=null;if(n)i&&r&&(this.framesRegExp[i]||(this.framesRegExp[i]=this.createFramesRegExp(r)),this.allFrames[i][t]&&(a=n.replace(this.framesRegExp[i],"_"+this.allFrames[i][t]+"."))),e.src=a||n,e.classList.add(this.isLoadedClass);else{var s=e.getAttribute("data-bg");s&&(e.style.backgroundImage="url("+s+")")}}},{key:"createFramesRegExp",value:function(e){var t="_("+e.join("|")+").";return new RegExp(t,"g")}},{key:"watchDOMChanges",value:function(){var e=this,t=document.body;new MutationObserver(function(t,i){var n=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value;if("childList"===u.type){for(var l=[],c=0,d=u.addedNodes.length;c<d;c+=1){var f=u.addedNodes[c],h=[];try{h=f.querySelectorAll(".lazyload:not(."+e.isLoadedClass+")")}catch(e){continue}for(var g=h.length,v=0;v<g;v+=1)l.push(h[v])}l.length&&e.checkNodes(l)}}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}}).observe(t,{childList:!0,subtree:!0})}}]),e}());window.init_PPG_lazyload_on_complete?document.addEventListener("readystatechange",function(){"complete"===document.readyState&&(r.init(),r.watchDOMChanges())}):document.addEventListener("DOMContentLoaded",function(e){r.init(),r.watchDOMChanges()})}]);